{"ast":null,"code":";\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.alanBtn = factory();\n  }\n})(this, function () {\n  (function (ns) {\n    \"use strict\";\n\n    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.mediaDevices && navigator.mediaDevices.getUserMedia;\n\n    if (!navigator.getUserMedia) {\n      console.error(\"getUserMedia is not supported\");\n    }\n\n    function isAudio(obj) {\n      return obj instanceof Float32Array;\n    }\n\n    function AudioQueue() {\n      this._queue = [];\n    }\n\n    AudioQueue.prototype.write = function (float32arrayOrEvent) {\n      this._queue.push(float32arrayOrEvent);\n    };\n\n    AudioQueue.prototype._fetchData = function () {\n      while (this._queue.length && !isAudio(this._queue[0])) {\n        fireEvent('command', this._queue.shift());\n      }\n\n      return this._queue.length;\n    };\n\n    AudioQueue.prototype.read = function (samples) {\n      if (!this._fetchData()) {\n        return null;\n      }\n\n      if (samples === this._queue[0].length) {\n        return this._queue.shift();\n      }\n\n      if (samples < this._queue[0].length) {\n        var r = this._queue[0].subarray(0, samples);\n\n        this._queue[0] = this._queue[0].subarray(samples, this._queue[0].length);\n        return r;\n      }\n\n      var res = new Float32Array(samples);\n      var idx = 0;\n\n      while (idx < samples && this._queue.length > 0) {\n        if (!this._fetchData()) {\n          break;\n        }\n\n        var len = Math.min(samples - idx, this._queue[0].length);\n\n        for (var i = 0; i < len; i++) {\n          res[idx + i] = this._queue[0][i];\n        }\n\n        idx += len;\n\n        if (len === this._queue[0].length) {\n          this._queue.shift();\n        } else {\n          this._queue[0] = this._queue[0].subarray(len, this._queue[0].length);\n        }\n      }\n\n      return res;\n    };\n\n    var PLAY_IDLE = 'idle';\n    var PLAY_ACTIVE = 'active';\n    var handlers = {};\n    var micStream = null;\n    var audioQueue = new AudioQueue();\n    var audioPlayback = null;\n    var audioPlayGain = null;\n    var audioRecorder = null;\n    var audioSource = null;\n    var frameSize = 4096;\n    var silence = new Float32Array(frameSize);\n    var playState = PLAY_IDLE;\n    var audioCtx = null;\n    var totalSamples = 0;\n    var sampleRate = 0;\n    var firstSampleTs = 0;\n    var frameCount = 0;\n\n    if (window.AudioContext) {\n      audioCtx = new window.AudioContext();\n    }\n\n    if (window.webkitAudioContext) {\n      audioCtx = new window.webkitAudioContext();\n    }\n\n    function fireEvent(event, o1, o2) {\n      var h = handlers[event];\n\n      if (h) {\n        for (var i = 0; i < h.length; i++) {\n          h[i](o1, o2);\n        }\n      }\n    }\n\n    function onGetUserMedia(mic) {\n      console.log('got microphone');\n      fireEvent('micStart', mic);\n      micStream = mic;\n\n      if (audioCtx.state === 'suspended') {\n        audioCtx.resume();\n      }\n\n      audioSource = audioCtx.createMediaStreamSource(micStream);\n      audioRecorder = audioCtx.createScriptProcessor(frameSize, 1, 1);\n      audioSource.connect(audioRecorder);\n\n      audioRecorder.onaudioprocess = function (e) {\n        if (micStream === mic) {\n          recordFrame(audioCtx.sampleRate, e.inputBuffer.getChannelData(0));\n        }\n      };\n\n      audioRecorder.connect(audioCtx.destination);\n    }\n\n    function onGetUserMediaError(err) {\n      console.error('failed to get microphone', err);\n      fireEvent('micFail', err);\n    }\n\n    function recordFrame(sr, float32array) {\n      if (sampleRate !== sr) {\n        sampleRate = sr;\n        firstSampleTs = Date.now();\n        totalSamples = 0;\n        frameCount = 0;\n      }\n\n      totalSamples += float32array.length;\n\n      if (++frameCount >= 300) {\n        frameCount = 0;\n        var audioTime = 1000 * totalSamples / sampleRate;\n        var clockTime = Date.now() - firstSampleTs;\n        console.log(\"audioTime: \" + audioTime + \", clockTime: \" + clockTime + \", ratio a/c: \" + audioTime / clockTime);\n      }\n\n      fireEvent('frame', sampleRate, float32array);\n    }\n\n    ns.isPlaying = function () {\n      return playState === PLAY_ACTIVE;\n    };\n\n    ns.playCommand = function (event) {\n      if (!audioPlayback) {\n        fireEvent('command', event);\n        return;\n      }\n\n      audioQueue.write(event);\n    };\n\n    ns.play = function (frames) {\n      if (!audioPlayback) {\n        return;\n      }\n\n      for (var i = 0; i < frames.length; i++) {\n        audioQueue.write(frames[i]);\n      }\n    };\n\n    ns.on = function (event, handler) {\n      var h = handlers[event];\n\n      if (h == null) {\n        handlers[event] = [handler];\n      } else {\n        h.push(handler);\n      }\n    };\n\n    ns.off = function (event, handler) {\n      var h = handlers[event];\n\n      if (h) {\n        var index = h.indexOf(handler);\n\n        if (index >= 0) {\n          h.splice(index, 1);\n        }\n      }\n    };\n\n    ns.sampleRate = function () {\n      return sampleRate;\n    };\n\n    ns.start = function (onStarted) {\n      if (!micStream) {\n        if (navigator.mediaDevices) {\n          navigator.mediaDevices.getUserMedia({\n            audio: true\n          }).then(onGetUserMedia, onGetUserMediaError);\n        } else {\n          navigator.getUserMedia({\n            audio: true\n          }, onGetUserMedia, onGetUserMediaError);\n        }\n      }\n\n      if (!audioPlayback) {\n        audioPlayback = audioCtx.createScriptProcessor(frameSize, 1, 1);\n\n        audioPlayback.onaudioprocess = function (e) {\n          var f = audioQueue.read(frameSize);\n\n          if (!f) {\n            if (playState === PLAY_ACTIVE) {\n              playState = PLAY_IDLE;\n              fireEvent('playStop');\n            }\n\n            f = silence;\n          } else {\n            if (playState === PLAY_IDLE) {\n              playState = PLAY_ACTIVE;\n              fireEvent('playStart');\n            }\n          }\n\n          if (onStarted) {\n            onStarted();\n            onStarted = null;\n          }\n\n          e.outputBuffer.getChannelData(0).set(f);\n        };\n\n        audioPlayGain = audioCtx.createGain();\n        audioPlayback.connect(audioPlayGain);\n        audioPlayGain.connect(audioCtx.destination);\n      } else {\n        if (onStarted) {\n          onStarted();\n          onStarted = null;\n        }\n      }\n    };\n\n    ns.stop = function () {\n      sampleRate = -1;\n\n      if (micStream) {\n        for (var i = 0; i < micStream.getTracks().length; i++) {\n          var track = micStream.getAudioTracks()[0];\n\n          if (track) {\n            track.stop();\n          }\n        }\n\n        micStream = null;\n        fireEvent('micStop');\n      }\n\n      if (audioSource) {\n        audioSource.disconnect();\n        audioSource = null;\n      }\n\n      if (audioRecorder) {\n        audioRecorder.disconnect();\n        audioRecorder = null;\n      }\n\n      if (audioPlayback) {\n        audioPlayback.disconnect();\n        audioPlayback = null;\n      }\n\n      if (audioPlayGain) {\n        audioPlayGain.disconnect();\n        audioPlayGain = null;\n      }\n\n      audioQueue = new AudioQueue();\n      playState = PLAY_IDLE;\n    };\n  })(typeof window !== 'undefined' ? function () {\n    window.alanAudio = {};\n    return window.alanAudio;\n  }() : exports);\n\n  (function (ns) {\n    \"use strict\";\n\n    var host = 'studio.alan.app';\n    var config = {\n      // baseURL: (window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\") +\n      baseURL: \"wss://\" + (host.indexOf('$') === 0 || host === '' ? window.location.host : host),\n      codec: 'opus',\n      version: '1.0.9',\n      platform: 'web'\n    };\n\n    function ConnectionWrapper() {\n      var _this = this;\n\n      this._worker = new Worker(window.URL.createObjectURL(new Blob([\"'use strict';importScripts(    'https://studio.alan.app/js/alan_frame.js',    'https://studio.alan.app/js/alan_codec.js',    'https://studio.alan.app/js/libopus.js');var ALAN_OFF       = 'off';var ALAN_SPEAKING  = 'speaking';var ALAN_LISTENING = 'listening';function ConnectionImpl(config, auth, mode) {    var _this = this;    this._config = config;    this._auth = auth;    this._mode = mode;    this._projectId = config.projectId;    this._url = config.url;    this._connected = false;    this._authorized = false;    this._dialogId = null;    this._callId = 1;    this._callSent = {};    this._callWait = [];    this._failed = false;    this._closed = false;    this._reconnectTimeout = 100;    this._cleanups = [];    this._sampleRate = -1;    this._format = null;    this._formatSent = false;    this._frameQueue = [];    this._remoteSentTs = 0;    this._remoteRecvTs = 0;    this._rtt = 25;    this._rttAlpha = 1./16;    this._alanState = ALAN_OFF;    this._sendTimer = setInterval(_this._flushQueue.bind(_this), 100);    this._visualState = {};    this._addCleanup(function() {clearInterval(_this._sendTimer);});    this._connect();    console.log('Alan: connection created: ' + this._url);}ConnectionImpl.prototype._addCleanup = function(f) {    this._cleanups.push(f);};ConnectionImpl.prototype._onConnectStatus = function(s) {    console.log('Alan: connection status: ' + s);    this._fire('connectStatus', s);};ConnectionImpl.prototype._fire = function(event, object) {    if (event === 'options') {        if (object.versions) {            object.versions['alanbase:web'] = this._config.version;        }    }    postMessage(['fireEvent', event, object]);};ConnectionImpl.prototype._connect = function() {    var _this = this;    if (this._socket) {        console.error('socket is already connected');        return;    }    console.log('Alan: connecting to ' + this._url);    this._socket = new WebSocket(this._url);    this._socket.binaryType = 'arraybuffer';    this._decoder = alanCodec.decoder('pcm', 16000);    this._socket.onopen = function(e) {        console.info('Alan: connected', e.target === _this._socket);        _this._connected = true;        _this._reconnectTimeout = 100;        _this._fire('connection', {status: 'connected'});        if (_this._auth) {            _this._fire('connection', {status: 'authorizing'});            _this._callAuth();        } else {            _this._callWait.forEach(function(c) {  _this._sendCall(c); });            _this._callWait = [];        }    };    this._socket.onmessage = function(msg) {        if (msg.data instanceof ArrayBuffer) {            var f = alanFrame.parse(msg.data);            if (f.sentTs > 0) {                _this._remoteSentTs = f.sentTs;                _this._remoteRecvTs = Date.now();            } else {                _this._remoteSentTs = null;                _this._remoteRecvTs = null;            }            var rtt = 0;            if (f.remoteTs) {                rtt = Date.now() - f.remoteTs;            }            _this._rtt = _this._rttAlpha * rtt  + (1 - _this._rttAlpha) * _this._rtt;            var frames = _this._decoder(f.audioData);            postMessage(['alanAudio', 'playFrame', frames]);        } else if (typeof(msg.data) === 'string') {            msg = JSON.parse(msg.data);            if (msg.i) {                var c = _this._callSent[msg.i];                delete _this._callSent[msg.i];                if (c && c.callback) {                    c.callback(msg.e, msg.r);                }            } else if (msg.e) {                if (msg.e === 'command') {                    postMessage(['alanAudio', 'playCommand', msg.p]);                } else if (msg.e === 'inactivity') {                    postMessage(['alanAudio', 'stop']);                } else {                    _this._fire(msg.e, msg.p);                }            }        } else {            console.error('invalid message type');        }    };    this._socket.onerror = function(evt) {        console.error('Alan: connection closed due to error: ', evt);    };    this._socket.onclose = function(evt) {        console.info('Alan: connection closed');        _this._connected = false;        _this._authorized = false;        _this._socket = null;        _this._onConnectStatus('disconnected');        if (!_this._failed && _this._reconnectTimeout && !_this._closed) {            console.log('Alan: reconnecting in %s ms.', _this._reconnectTimeout);            _this._reConnect = setTimeout(_this._connect.bind(_this), _this._reconnectTimeout);            if (_this._reconnectTimeout < 3000) {                _this._reconnectTimeout *= 2;            } else {                _this._reconnectTimeout += 500;            }            _this._reconnectTimeout = Math.min(7000, _this._reconnectTimeout);        }    };    this._addCleanup(function() {        if (this._socket) {            this._socket.close();            this._socket = null;        }    });};ConnectionImpl.prototype._callAuth = function() {    var _this = this;    var callback = function(err, r) {        if (!err && r.status === 'authorized') {            _this._authorized = true;            _this._formatSent = false;            if (r.dialogId) {                postMessage(['setDialogId', r.dialogId]);                _this._dialogId = r.dialogId;            }            _this._onAuthorized();            _this._onConnectStatus('authorized');        } else if (err === 'auth-failed') {            _this._onConnectStatus('auth-failed');            if (_this._socket) {                _this._socket.close();                _this._socket = null;                _this._failed = true;            }        } else {            _this._onConnectStatus('invalid-auth-response');            console.log('Alan: invalid auth response', err, r);        }    };    var authParam = this._auth;    authParam.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;    if (this._dialogId) {        authParam.dialogId = this._dialogId;    }    authParam.mode = this._mode;    this._sendCall({cid: this._callId++, method: '_auth_', callback: callback, param: authParam});    return this;};ConnectionImpl.prototype._sendCall = function(call) {    this._socket.send(JSON.stringify({i: call.cid, m: call.method, p: call.param}));    if (call.callback) {        this._callSent[call.cid] = call;    }};ConnectionImpl.prototype._onAuthorized = function() {    console.log('Alan: authorized');    if (this._visualState) {        this.call(null, '_visual_', this._visualState);    }    var _this = this;    this._callWait.forEach(function(c) {        _this._sendCall(c);    });    this._callWait = [];};ConnectionImpl.prototype.close = function() {    for (var i = 0; i < this._cleanups.length; i++ ) {        this._cleanups[i]();    }    this._cleanups = [];    this._closed = true;        if (this._socket && (this._socket.readyState === WebSocket.OPEN || this._socket.readyState === WebSocket.CONNECTING)) {        this._socket.close();        this._socket = null;    }    console.log('Alan: closed connection to: ' + this._url);    close();};ConnectionImpl.prototype.call = function(cid, method, param) {    var call = {cid: cid, method: method, param: param, callback: function(err, obj) {        if (cid) {            postMessage(['callback', cid, err, obj]);        }    }};    if (this._authorized || this._connected && !this._auth) {        this._sendCall(call);    } else {        this._callWait.push(call);    }};ConnectionImpl.prototype.setVisual = function(state) {    this._visualState = state;    this.call(null, '_visual_', state);};ConnectionImpl.prototype._sendFrame = function(frame) {    if (!this._socket) {        console.error('sendFrame to closed socket');        return;    }    frame.sentTs = Date.now();    if (this._remoteSentTs > 0 && this._remoteRecvTs > 0) {        frame.remoteTs = this._remoteSentTs + Date.now() - this._remoteRecvTs;    }    this._socket.send(frame.write());};ConnectionImpl.prototype._listen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'listen'});    this._frameQueue.push(f);    this._alanState = ALAN_LISTENING;};ConnectionImpl.prototype._stopListen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'stopListen'});    this._frameQueue.push(f);    this._alanState = ALAN_OFF;};ConnectionImpl.prototype._onMicFrame = function(sampleRate, frame) {    if (this._alanState === ALAN_SPEAKING) {        return;    }    if (this._alanState === ALAN_OFF) {        this._listen();    }    if (this._alanState !== ALAN_LISTENING) {        console.error('invalid alan state: ' + this._alanState);        return;    }    if (this._sampleRate !== sampleRate) {        this._sampleRate = sampleRate;        this._encoder = alanCodec.encoder(this._config.codec, 48000);        this._formatSent = false;        this._format = {            send: {codec: this._config.codec, sampleRate: sampleRate},            recv: {codec: 'pcm_s16le', sampleRate: 16000},            timeout: this._timeout,        };    }    var p = this._encoder(frame);    for (var i = 0; i < p.length; i++ ) {        var f = alanFrame.create();        f.audioData = p[i];        this._frameQueue.push(f);    }};ConnectionImpl.prototype._flushQueue = function() {    if (!this._socket || !this._connected) {        var d = 0;        while (this._frameQueue.length > 100 && !this._frameQueue[0].jsonData) {            this._frameQueue.shift();            d++;        }        if (d > 0) {            console.error('dropped: %s, frames', d);        }        return;    }    while (this._frameQueue.length > 0 && this._socket && this._socket.bufferedAmount < 64 * 1024) {        if (!this._formatSent && this._format) {            var frame = alanFrame.create();            frame.jsonData = JSON.stringify({format: this._format});            this._sendFrame(frame);            this._formatSent = true;        }        this._sendFrame(this._frameQueue.shift());    }};function connectProject(config, auth, mode) {    var c = new ConnectionImpl(config, auth, mode);    c.onAudioEvent = function(event, arg1, arg2) {        if (event === 'frame') {            c._onMicFrame(arg1, arg2);        } else if (event === 'micStop' || event === 'playStart') {            c._stopListen();        } else {            console.error('unknown audio event: ' + event, arg1, arg2);        }    };    return c;}var factories = {    connectProject: connectProject,};var currentConnect = null;onmessage = function(e) {    var name = e.data[0];    try {        if (!currentConnect) {            currentConnect = factories[name].apply(null, e.data.slice(1, e.data.length));        } else {            currentConnect[name].apply(currentConnect, e.data.slice(1, e.data.length));        }    } catch(e) {        console.error('error calling: ' + name, e);    }};\"]), {\n        type: 'text/javascript'\n      }));\n\n      this._worker.onmessage = function (e) {\n        if (e.data[0] === 'fireEvent') {\n          _this._fire(e.data[1], e.data[2]);\n\n          return;\n        }\n\n        if (e.data[0] === 'alanAudio') {\n          if (e.data[1] === 'playFrame') {\n            alanAudio.play(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'playCommand') {\n            alanAudio.playCommand(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'stop') {\n            alanAudio.stop();\n            return;\n          }\n        }\n\n        if (e.data[0] === \"callback\") {\n          _this._callback[e.data[1]](e.data[2], e.data[3]);\n\n          delete _this._callback[e.data[1]];\n          return;\n        }\n\n        if (e.data[0] === \"setDialogId\") {\n          _this._dialogId = e.data[1];\n          return;\n        }\n\n        console.error(\"invalid event\", e.data);\n      };\n\n      this._worker.onerror = function (e) {\n        console.error(\"error in worker: \" + e.filename + \":\" + e.lineno + \" - \" + e.message);\n      };\n\n      this._handlers = {};\n      this._cleanups = [];\n      this._callback = {};\n      this._callIds = 1;\n      this._config = {};\n    }\n\n    ConnectionWrapper.prototype.on = function (event, handler) {\n      var h = this._handlers[event];\n\n      if (!h) {\n        h = [];\n        this._handlers[event] = h;\n      }\n\n      h.push(handler);\n    };\n\n    ConnectionWrapper.prototype.off = function (event, handler) {\n      var h = this._handlers[event];\n\n      if (h) {\n        var index = h.indexOf(handler);\n\n        if (index >= 0) {\n          h.splice(index, 1);\n        }\n      }\n    };\n\n    ConnectionWrapper.prototype.getSettings = function () {\n      return {\n        server: config.baseURL,\n        projectId: this._config.projectId,\n        dialogId: this._dialogId\n      };\n    };\n\n    ConnectionWrapper.prototype.setVisual = function (state) {\n      this._worker.postMessage(['setVisual', state]);\n    };\n\n    ConnectionWrapper.prototype.call = function (method, param, callback) {\n      var cid = null;\n\n      if (callback) {\n        cid = this._callIds++;\n        this._callback[cid] = callback;\n      }\n\n      this._worker.postMessage(['call', cid, method, param]);\n    };\n\n    ConnectionWrapper.prototype.close = function () {\n      console.log('closing connection to: ' + this._url);\n\n      this._cleanups.forEach(function (h) {\n        h();\n      });\n\n      this._worker.postMessage(['close']);\n    };\n\n    ConnectionWrapper.prototype._fire = function (event, object) {\n      var h = this._handlers[event];\n\n      if (h) {\n        for (var i = 0; i < h.length; i++) {\n          h[i](object);\n        }\n      }\n    };\n\n    ConnectionWrapper.prototype._addCleanup = function (f) {\n      this._cleanups.push(f);\n    };\n\n    function fillAuth(values, ext) {\n      var auth = {};\n\n      for (var k in values) {\n        auth[k] = values[k];\n      }\n\n      if (!ext || ext && ext.platform == null) {\n        auth.platform = config.platform;\n      } else {\n        auth.platform = config.platform + \":\" + ext.platform;\n      }\n\n      if (!ext || ext && ext.platformVersion == null) {\n        auth.platformVersion = config.version;\n      } else {\n        auth.platformVersion = config.version + \":\" + ext.platformVersion;\n      }\n\n      return auth;\n    }\n\n    function connectProject(projectId, auth, host, mode, ext) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.projectId = projectId;\n      connect._config.codec = config.codec;\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_project/\" + projectId;\n\n      connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n\n      function forwardAudioEvent(name) {\n        function handler(a1, a2) {\n          if (name === 'frame' && alanAudio.isPlaying()) {\n            return;\n          }\n\n          connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n        }\n\n        alanAudio.on(name, handler);\n\n        connect._addCleanup(function () {\n          alanAudio.off(name, handler);\n        });\n      }\n\n      forwardAudioEvent('frame');\n      forwardAudioEvent('micStop'); //forwardAudioEvent('playStop');\n\n      forwardAudioEvent('playStart');\n      return connect;\n    }\n\n    function connectProjectTest(projectId, auth, host, mode, ext) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.projectId = projectId;\n      connect._config.codec = config.codec;\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_project/\" + projectId;\n\n      connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n\n      return connect;\n    }\n\n    function connectTutor(auth, host) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_tutor\";\n\n      connect._worker.postMessage([\"connectProject\", connect._config, auth]);\n\n      return connect;\n    }\n\n    ns.alan = {\n      projectTest: connectProjectTest,\n      project: connectProject,\n      tutor: connectTutor\n    };\n  })(window);\n\n  (function (ns) {\n    \"use strict\";\n\n    function alanBtn(options) {\n      options = options || {};\n      var btnDisabled = false;\n      var hideS2TPanel = false;\n      var pinned = false;\n      var btnInstance = {\n        // Common public API\n        setVisualState: function setVisualState(visualState) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.setVisual(visualState);\n          }\n        },\n        callProjectApi: function callProjectApi(funcName, data, callback) {\n          var funcNamePrefix = 'script::';\n\n          if (btnDisabled) {\n            return;\n          }\n\n          if (!funcName) {\n            throw new Error('Function name for callProjectApi must be provided');\n          }\n\n          if (window.tutorProject) {\n            if (funcName.indexOf(funcNamePrefix) === 0) {\n              window.tutorProject.call(funcName, data, callback);\n            } else {\n              window.tutorProject.call(funcNamePrefix + funcName, data, callback);\n            }\n          }\n        },\n        playText: function playText(text) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.call('play', {\n              text: text\n            });\n          }\n        },\n        playCommand: function playCommand(command) {\n          if (btnDisabled) {\n            return;\n          }\n\n          alanAudio.playCommand({\n            data: command\n          });\n        },\n        activate: function activate() {\n          return activateAlanButton();\n        },\n        deactivate: function deactivate() {\n          if (btnDisabled) {\n            return;\n          }\n\n          alanAudio.stop();\n        },\n        isActive: function isActive() {\n          return isAlanActive;\n        },\n        //deprecated\n        callClientApi: function callClientApi(method, data, callback) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.call(method, data, callback);\n          }\n        },\n        // deprecated\n        setAuthData: function setAuthData(data) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.close();\n            window.tutorProject = alan.project(options.key, getAuthData(data), options.host);\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n          }\n        },\n        // Other methods\n        setOptions: function setOptions(btnOptions) {\n          applyBtnOptions(btnOptions);\n        },\n        setPreviewState: function setPreviewState(state) {\n          switchState(state);\n        },\n        remove: function remove() {\n          alanAudio.stop();\n          window.tutorProject.close();\n          rootEl.remove();\n        },\n        stop: function stop() {\n          alanAudio.stop();\n        },\n        updateButtonState: function updateButtonState(state) {\n          onConnectStatusChange(state);\n        }\n      }; //Host\n\n      var host = 'studio.alan.app';\n      var baseUrl = 'https://' + (host.indexOf('$') === 0 || host === '' ? window.location.host : host);\n\n      if (options.host) {\n        baseUrl = 'https://' + options.host;\n      } // Btn modes\n\n\n      var mode;\n\n      if (options.mode === 'tutor') {\n        mode = 'tutor';\n        pinned = true;\n      } else if (options.mode === 'tutor-preview') {\n        mode = 'tutor-preview';\n        pinned = true;\n      } else if (options.mode === 'demo') {\n        mode = 'demo';\n      } else {\n        mode = 'component';\n      } // Btn states\n\n\n      var DEFAULT = 'default';\n      var LISTENING = 'listening';\n      var SPEAKING = 'speaking';\n      var INTERMEDIATE = 'intermediate';\n      var UNDERSTOOD = 'understood';\n      var DISCONNECTED = 'disconnected';\n      var OFFLINE = 'offline';\n      var LOW_VOLUME = 'lowVolume';\n      var PERMISSION_DENIED = 'permissionDenied';\n      var NO_VOICE_SUPPORT = 'noVoiceSupport'; // Error messages\n\n      var MIC_BLOCKED_MSG = 'Access to the microphone was blocked. Please allow it to use Alan';\n      var NO_VOICE_SUPPORT_IN_BROWSER_MSG = 'Your browser doesnâ€™t support voice input. To use voice, open Alan Tutor in a Chrome, Safari, or Firefox desktop browser window.';\n      var LOW_VOLUME_MSG = 'Low volume level';\n      var OFFLINE_MSG = 'You\\'re offline';\n      var currentErrMsg = null;\n      var NO_VOICE_SUPPORT_IN_BROWSER_CODE = 'browser-does-not-support-voice-input';\n      var MIC_BLOCKED_CODE = 'microphone-access-blocked';\n      var PREVIEW_MODE_CODE = 'preview-mode';\n      var BTN_IS_DISABLED_CODE = 'btn-is-disabled';\n      var NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE = 'no-alan-audio-instance-was-provided'; // Set default state for btn\n\n      var state = DISCONNECTED;\n      var previousState = null;\n      var isAlanSpeaking = false;\n      var isAlanActive = false; // Set btn position flags\n\n      var isLeftAligned = false;\n      var isRightAligned = true;\n      var isTopAligned = false;\n      var isBottomAligned = false; // Set variables for hints and stt\n\n      var hints = [];\n      var hintsTimerId = null;\n      var insideHintsAnimationIntervalId = null;\n      var hintsRequestIntervalId = null;\n      var hintAppearTimeoutId = null;\n      var removeTextHintTimeoutId = null;\n      var hoverShowHintTimeoutId = null;\n      var hoverHideHintTimeoutId = null;\n      var doNotShowHints = false;\n      var hintVisible = false;\n      var recognisedTextVisible = false;\n      var textHolderWidth = 480;\n      var hintHolderWidth = 480;\n      var hintCloserRightPos;\n      var isHintWasPreviously = false;\n      var defaultHintLabel = 'Click and say';\n      var listeningHintLabel = 'Say';\n      var turnOffTimeout = 30000;\n      var turnOffVoiceFn;\n\n      function setTurnOffVoiceTimeout() {\n        turnOffVoiceFn = debounce(function () {\n          if (isAlanSpeaking) {\n            // console.info('BTN: CONTINUE alanAudio', new Date());\n            turnOffVoiceFn();\n          } else {\n            // console.info('BTN: STOP alanAudio', new Date());\n            alanAudio.stop();\n          }\n        }, turnOffTimeout);\n      }\n\n      setTurnOffVoiceTimeout();\n      var switchToLowVolumeStateTimer = null; // Css animations\n\n      var pulsatingAnimation = '';\n      var pulsatingMicAnimation = '';\n      var pulsatingTriangleMicAnimation = '';\n\n      if (!isPreviewMode()) {\n        pulsatingAnimation = 'alan-pulsating 2s ease-in-out infinite';\n        pulsatingMicAnimation = 'alan-mic-pulsating 1.4s ease-in-out infinite';\n        pulsatingTriangleMicAnimation = 'alan-triangle-mic-pulsating 1.2s ease-in-out infinite';\n      }\n\n      var gradientAnimation = 'alan-gradient 3s ease-in-out infinite';\n      var disconnectedLoaderAnimation = 'disconnected-loader-animation 2s linear infinite'; // Set alanAudio\n\n      var alanAudio = window.alanAudio; // Define base blocks and layers\n\n      var rootEl = options.rootEl || document.createElement('div');\n      var body = document.getElementsByTagName('body')[0];\n      var btn = document.createElement('div');\n      var defaultStateBtnIconImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH9SURBVHgB7dvvUcIwGMfxByfADdjAEdQN3EA2YATcAJ2AEXADdALcgG4AGzwm13DQkNKWQBvK93OXF4W0Z36mf5IUEQAAAAAAAAAAgPOo6ocpS91bmfIuOM2ENHJhlVnbOoIwF1CVleCYCWas9U0kEQ+SjibXuDdJxEASYbtVg+rbwWDwKAm41QDFBJjE357SKXyTCDASAUYiwEgEGIkAIxFgJAKMRICRWgvQTRZs3IzLxef2rn38zmlxqmoT+L6Rpse/ltbGk36j/bFsKJRTqvZva6zc2TXQtHfofbSV+rYVx2pNmwFm3vbI2/6R+r4rjvUnLWkzQL9Rz972l9T3WXGsTPrGTsN794FloM5Uq00D+/kLUb28Cw8DYbwE6k1LgrOPKJNA/dBaykj6SItrvdZaAzcAzZc3bTBzVyYl9YZ6vJK3kL6yPS7QW+ZyJhvW3fS+HdPAWaDRiyYNdz1vecl/xs0oOe12p3Plxd+d2mX7t/482MnKlutt9i48CnydSf5M+Cv7xxFb78mUsSnDkn1ezeAjk3uh+Y0i1JOaWuu9vi/jTueZns/u29kwLhma98Z5g+CWpjwLirT4/Oezn01S63HJvNrhs4kdbqfyKoePKf1IBBiJACMRYCQCjESAkVIO8HDhKBM0o/tZFzsTzY9sAAAAAAAAAABAjH+9EqX09fBHaQAAAABJRU5ErkJggg==';\n      var micTriangleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjMuNzQ5Mzk5NDZlLTMxJSIgeDI9IjIuODYwODIwMDklIiB5Mj0iOTcuMTM5MTc5OSUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4wNCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi0vLUFuaW1hdGlvbi0vLWJ1dHRvbi1pbm5lci1zaGFwZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTQwLjEwMDU0MjIsOSBMNDAuMTAwNTQyMiw5IEM1MC4wNzA0NzUxLDkgNTkuMTUxNjIzNSwxNC43MzM3OTM4IDYzLjQzODA5OCwyMy43MzUyMjE0IEw3MC40MjIwMjY3LDM4LjQwMTE5NyBDNzUuMTcxMDE0NSw0OC4zNzM4ODQ0IDcwLjkzNjM2OTMsNjAuMzA4MTYwMSA2MC45NjM2ODE5LDY1LjA1NzE0NzggQzU4LjI3NzU5NDksNjYuMzM2MjYwOCA1NS4zMzk5NzQ0LDY3IDUyLjM2NDg3ODksNjcgTDI3LjgzNjIwNTQsNjcgQzE2Ljc5MDUxMDQsNjcgNy44MzYyMDU0Myw1OC4wNDU2OTUgNy44MzYyMDU0Myw0NyBDNy44MzYyMDU0Myw0NC4wMjQ5MDQ1IDguNDk5OTQ0NTksNDEuMDg3Mjg0IDkuNzc5MDU3NiwzOC40MDExOTcgTDE2Ljc2Mjk4NjQsMjMuNzM1MjIxNCBDMjEuMDQ5NDYwOCwxNC43MzM3OTM4IDMwLjEzMDYwOTIsOSA0MC4xMDA1NDIyLDkgWiIgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==\\n';\n      var micCircleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZS1zcGVha2luZyBiYWNrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMy43NDkzOTk0NmUtMzElIiB4Mj0iMi44NjA4MjAwOSUiIHkyPSI5Ny4xMzkxNzk5JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMTIiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjA0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWlubmVyLXNoYXBlLXNwZWFraW5nLWJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBjeD0iNDAiIGN5PSI0MCIgcj0iMzIiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=\\n';\n      var micIcon = document.createElement('div');\n      var defaultStateBtnIcon = document.createElement('img');\n      var logoState1 = document.createElement('img');\n      var logoState2 = document.createElement('img');\n      var logoState3 = document.createElement('img');\n      var logoState4 = document.createElement('img');\n      var logoState5 = document.createElement('img');\n      var logoState6 = document.createElement('img');\n      var logoState7 = document.createElement('img');\n      var logoState8 = document.createElement('img');\n      var logoState9 = document.createElement('img');\n      var logoState10 = document.createElement('img');\n      var micTriangleIcon = document.createElement('div');\n      var micCircleIcon = document.createElement('div');\n      var disconnectedMicLoaderIcon = document.createElement('img');\n      var lowVolumeMicIcon = document.createElement('img');\n      var noVoiceSupportMicIcon = document.createElement('img');\n      var offlineIcon = document.createElement('img');\n      var textHolder = document.createElement('div');\n      var textHolderTextWrapper = document.createElement('div');\n      var alanBtnDisabledMessage = document.createElement('div');\n      var hintHolder = document.createElement('div');\n      var hintHolderWrapper = document.createElement('div');\n      var soundOnAudioDoesNotExist = false;\n      var soundOffAudioDoesNotExist = false;\n      var soundOnAudio = new Audio(baseUrl + '/resources/sounds/soundOn.m4a');\n\n      soundOnAudio.onerror = function () {\n        soundOnAudioDoesNotExist = true;\n      };\n\n      var soundOffAudio = new Audio(baseUrl + '/resources/sounds/soundOff.m4a');\n\n      soundOffAudio.onerror = function () {\n        soundOffAudioDoesNotExist = true;\n      };\n\n      textHolder.addEventListener(\"click\", closeHint); // Specify layers for different statets to make smooth animation\n\n      var btnBgDefault = document.createElement('div');\n      var btnBgListening = document.createElement('div');\n      var btnBgSpeaking = document.createElement('div');\n      var btnBgIntermediate = document.createElement('div');\n      var btnBgUnderstood = document.createElement('div'); // Specify layers with ovals\n\n      var btnOval1 = document.createElement('div');\n      var btnOval2 = document.createElement('div'); // Some variables for setting up right properties for Alan Btn\n\n      var btnSize;\n      var sideBtnPos;\n      var bottomBtnPos;\n      var topBtnPos;\n      var btnZIndex;\n      var btnIconsZIndex;\n      var btnTextPanelsZIndex;\n      var btnBgLayerZIndex; // Define base properties for disable/enable button functionality\n\n      var isLocalStorageAvailable = false;\n\n      try {\n        localStorage.getItem('test');\n        isLocalStorageAvailable = true;\n      } catch (e) {\n        isLocalStorageAvailable = false;\n      } //#region Listen online/offline events to manage connected/disconnected states\n\n\n      window.addEventListener('online', updateOnlineStatus);\n      window.addEventListener('offline', updateOnlineStatus);\n\n      function updateOnlineStatus() {\n        if (navigator.onLine) {\n          switchState(getDefaultBtnState());\n        } else {\n          switchState(OFFLINE);\n        }\n      }\n\n      function getDefaultBtnState(state) {\n        if (isAudioSupported()) {\n          return state || DEFAULT;\n        }\n\n        return NO_VOICE_SUPPORT;\n      } //#endregion\n      //#region Define settings based on the btn mode\n      // For now we have two modes: small - for tutor, and big for demo\n\n\n      var btnModes = {\n        \"tutor\": {\n          btnSize: 44,\n          rightPos: 0,\n          leftPos: 0,\n          bottomPos: 0,\n          topPos: 0,\n          waveVerticalPositionRatio: 0.9,\n          waveCanvasWidth: 250,\n          waveCanvasHeight: 100\n        },\n        \"tutor-preview\": {\n          btnSize: 64,\n          rightPos: 0,\n          leftPos: 0,\n          bottomPos: 0,\n          topPos: 0,\n          waveVerticalPositionRatio: 0.9,\n          waveCanvasWidth: 250,\n          waveCanvasHeight: 100\n        },\n        \"demo\": {\n          btnSize: 80,\n          rightPos: 36,\n          leftPos: 36,\n          bottomPos: 36,\n          topPos: 0,\n          waveVerticalPositionRatio: 0.8,\n          waveCanvasWidth: 500,\n          waveCanvasHeight: 200\n        },\n        \"component\": {\n          btnSize: options.size || 64,\n          rightPos: 40,\n          leftPos: 40,\n          bottomPos: 40,\n          topPos: 0,\n          waveVerticalPositionRatio: 0.8,\n          waveCanvasWidth: 500,\n          waveCanvasHeight: 200\n        }\n      };\n\n      function isTutorMode() {\n        return mode.indexOf('tutor') > -1;\n      }\n\n      function isPreviewMode() {\n        return mode.indexOf('preview') > -1;\n      } //#endregion\n      //#region Set styles for base layers\n\n\n      btnSize = btnModes[mode].btnSize;\n\n      if (options.left) {\n        isLeftAligned = true;\n        isRightAligned = false;\n      }\n\n      if (options.top) {\n        isTopAligned = true;\n        isBottomAligned = false;\n      }\n\n      if (isLeftAligned) {\n        sideBtnPos = setDefautlPositionProps(options.left || btnModes[mode].leftPos);\n      } else {\n        sideBtnPos = setDefautlPositionProps(options.right || btnModes[mode].rightPos);\n      }\n\n      if (isTopAligned) {\n        topBtnPos = setDefautlPositionProps(options.top || btnModes[mode].topPos);\n      } else {\n        bottomBtnPos = setDefautlPositionProps(options.bottom || btnModes[mode].bottomPos);\n      }\n\n      function setDefautlPositionProps(value) {\n        if (/^\\d+$/.test(value)) {\n          return value + 'px';\n        }\n\n        return value;\n      }\n\n      btnZIndex = options.zIndex || 4;\n      btnIconsZIndex = btnZIndex - 2;\n      btnTextPanelsZIndex = btnZIndex - 1;\n      btnBgLayerZIndex = btnZIndex - 3; // Define styles for root element\n\n      rootEl.style[isLeftAligned ? 'left' : 'right'] = sideBtnPos;\n\n      if (isTopAligned) {\n        rootEl.style.top = topBtnPos;\n      } else {\n        rootEl.style.bottom = bottomBtnPos;\n      }\n\n      rootEl.style.position = isTutorMode() ? 'absolute' : 'fixed';\n\n      if (options.zIndex !== undefined) {\n        rootEl.style.zIndex = options.zIndex;\n      }\n\n      rootEl.style.position = isTutorMode() ? 'absolute' : 'fixed'; // Define styles for block with recognised text\n\n      var textHolderDefaultBorderColor = '#d5eded';\n      var textHolderDefaultBoxShadow = '0px 12px 50px -14px rgba(0,0,0,0.2), 0px 12px 50px -14px rgba(0,169,255,0.3)';\n      textHolderTextWrapper.classList.add('alanBtn-text-holder-text-wrapper');\n      textHolder.classList.add('alanBtn-text-holder');\n      setInnerPositionBasedOnOptions(textHolder, options);\n\n      if (isLeftAligned) {\n        textHolderTextWrapper.style.textAlign = 'left';\n        textHolder.style.left = '0px';\n      } else {\n        textHolder.style.right = '0px';\n        textHolder.style.float = 'right';\n      }\n\n      textHolder.style.height = btnSize + 'px';\n      textHolder.style.minHeight = btnSize + 'px';\n      textHolder.style.maxHeight = btnSize + 'px';\n      textHolder.style.borderRadius = btnSize + 'px';\n      textHolder.style.borderRadius = btnSize + 'px';\n      textHolder.style.zIndex = btnTextPanelsZIndex;\n      textHolder.style.borderColor = textHolderDefaultBorderColor;\n      textHolder.style.boxShadow = textHolderDefaultBoxShadow; // Define styles for block with hints\n\n      hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper');\n\n      if (isLeftAligned) {\n        hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper-left');\n        hintHolderWrapper.style.paddingLeft = btnSize + 32 + 'px';\n      } else {\n        hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper-right');\n        hintHolderWrapper.style.paddingRight = btnSize + 32 + 'px';\n      }\n\n      hintHolder.classList.add('alanBtn-hint-holder');\n      setInnerPositionBasedOnOptions(hintHolder, options);\n      hintCloserRightPos = btnSize / 2 + 32;\n      hintHolder.style.zIndex = btnTextPanelsZIndex;\n      hintHolder.style.borderTopRightRadius = btnSize + 'px';\n      hintHolder.style.borderBottomRightRadius = btnSize + 'px';\n      hintHolder.style.minHeight = btnSize + 'px';\n      hintHolder.style.borderColor = textHolderDefaultBorderColor;\n      hintHolder.style.boxShadow = textHolderDefaultBoxShadow; // Define styles for message that informs that Alan Btn was disabled\n\n      setInnerPositionBasedOnOptions(alanBtnDisabledMessage, options);\n      alanBtnDisabledMessage.style.zIndex = btnTextPanelsZIndex;\n      alanBtnDisabledMessage.style.borderRadius = '7px';\n      alanBtnDisabledMessage.style.backgroundColor = '#ffffff';\n      alanBtnDisabledMessage.style.boxShadow = '0 2px 50px 0 rgba(86, 98, 112, 0.1)';\n      alanBtnDisabledMessage.style.position = 'absolute';\n      alanBtnDisabledMessage.style.color = 'red';\n      alanBtnDisabledMessage.style.width = '200px';\n      alanBtnDisabledMessage.style.fontSize = '14px';\n      alanBtnDisabledMessage.style.padding = '16px';\n      alanBtnDisabledMessage.innerText = \"This project's voice button has been disabled.\";\n      alanBtnDisabledMessage.classList.add(\"alan-btn-disabled-msg\");\n\n      function setInnerPositionBasedOnOptions(el, options) {\n        if (isTopAligned) {\n          el.style.top = 0;\n        } else {\n          el.style.bottom = 0;\n        }\n\n        if (isLeftAligned) {\n          el.style.left = 0;\n        } else {\n          el.style.right = 0;\n        }\n      }\n\n      function setStylesBasedOnSide() {\n        if (isLeftAligned) {\n          btn.style.left = 0;\n          btn.style.right = '';\n          textHolder.classList.remove('left-side');\n          textHolder.classList.add('right-side');\n        } else {\n          btn.style.right = 0;\n          btn.style.left = '';\n          textHolder.classList.remove('right-side');\n          textHolder.classList.add('left-side');\n        }\n      } // Define base styles for btn\n\n\n      btn.style.width = btnSize + 'px';\n      btn.style.minWidth = btnSize + 'px';\n      btn.style.maxWidth = btnSize + 'px';\n      btn.style.minHeight = btnSize + 'px';\n      btn.style.height = btnSize + 'px';\n      btn.style.maxHeight = btnSize + 'px';\n      btn.style.color = '#fff';\n      btn.style.position = 'absolute';\n\n      if (isTopAligned) {\n        btn.style.top = 0;\n      } else {\n        btn.style.bottom = 0;\n      }\n\n      setStylesBasedOnSide();\n      btn.style.borderRadius = '50%';\n      btn.style.boxShadow = '0 8px 10px 0 rgba(0, 75, 144, 0.35)';\n      btn.style.textAlign = 'center';\n      btn.style.transition = 'all 0.4s ease-in-out';\n      btn.style.zIndex = btnZIndex; // Specify tabIndex if it exists in options\n\n      if (options && options.tabIndex) {\n        btn.tabIndex = options.tabIndex;\n      } // Specify cursor for btn\n\n\n      if (isPreviewMode()) {\n        btn.style.cursor = 'default';\n      } else {\n        btn.style.cursor = 'pointer';\n      } // Define base styles for microphone btn\n\n\n      micIcon.style.minHeight = '100%';\n      micIcon.style.height = '100%';\n      micIcon.style.maxHeight = '100%';\n      micIcon.style.top = '0%';\n      micIcon.style.left = '0%';\n      micIcon.style.zIndex = btnIconsZIndex;\n      micIcon.style.position = 'relative';\n      micIcon.style.transition = 'all 0.4s ease-in-out';\n\n      function setUpStylesForLogoParts(logos) {\n        for (var i = 0; i < logos.length; i++) {\n          var obj = logos[i];\n          logos[i].style.minHeight = '100%';\n          logos[i].style.height = '100%';\n          logos[i].style.maxHeight = '100%';\n          logos[i].style.minWidth = '100%';\n          logos[i].style.width = '100%';\n          logos[i].style.maxWidth = '100%';\n          logos[i].style.top = '0%';\n          logos[i].style.left = '0%';\n          logos[i].style.position = 'absolute';\n          logos[i].style.pointerEvents = 'none';\n          logos[i].style.animationIterationCount = 'infinite';\n          logos[i].style.animationDuration = '9s';\n          logos[i].style.animationTimingFunction = 'ease-in-out';\n          logos[i].style.opacity = 0;\n          micIcon.appendChild(logos[i]);\n        }\n      }\n\n      logoState1.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAxPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFogTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlLTIiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState2.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LDEuODU4NDEzMzFlLTE1IDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgTDMwLjk0NDQ0NDQsMCBMMzAuODIyNzM0NywxLjgzNTczNjRlLTE1IEMzMC43OTI0NzYzLDEuODk0OTg1MzllLTE1IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgQzMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LDIuMDMyMDE2NDNlLTE1IDE3LjE3NzI2NTMsMCBMMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState3.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n      logoState4.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n      logoState5.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA1PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBMMzAuOTQ0NDQ0NCwtMS40MjEwODU0N2UtMTQgTDMwLjgyMjczNDcsLTEuMjM3NTExODNlLTE0IEMzMC43OTI0NzYzLC0xLjIzMTU4NjkzZS0xNCAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjI3MTE5MjQsMjEgTDIzLjk1NjQ1ODIsMjEgQzI0LjczMDk1NjIsMjAuOTk5ODkzOSAyNS40NDE1ODY3LDIxLjI5NTM4NDggMjUuODAxNDg0NiwyMS45ODIzNzY3IEwyOS45ODE5MDE1LDI5Ljk2MjE3NjkgQzMwLjMzODM0NCwzMC42NDI1NzMyIDMwLjA3NjY4NTIsMzEuNDgzNTk5NyAyOS4zOTc0NzAxLDMxLjg0MDY2MjEgQzI5LjE5ODM4MzgsMzEuOTQ1MzIxNSAyOC45NzY5MDkzLDMyIDI4Ljc1MjA3MzgsMzIgTDExLjIwOTMzNzgsMzIgTDEuNzA3ODY0OTUsMzIgQzAuOTQwODAyNzk2LDMyIDAuMzE4OTc2MDU5LDMxLjM3NzA5MTggMC4zMTg5NzYwNTksMzAuNjA4Njk1NyBDMC4zMTg5NzYwNTksMzAuMzg0NTk0OCAwLjM3MzAxNTYxOCwzMC4xNjM4MSAwLjQ3NjQ5NzEwNiwyOS45NjUxMjU2IEw0LjYzMDYyNzg1LDIxLjk4OTE5NDUgQzQuOTg5NjE3NzYsMjEuMjk5OTMzOSA1LjcwMTMxMTAxLDIxLjAwMDEwNjMgNi40NzczOTQ2NiwyMSBMMTguMjcxMTkyNCwyMSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState6.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA2PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBMMzAuOTQ0NDQ0NCwwIEwzMC44MjI3MzQ3LDEuODM1NzM2NGUtMTUgQzMwLjc5MjQ3NjMsMS44OTQ5ODUzOWUtMTUgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState7.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA3PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEwzMC45NDQ0NDQ0LDAgTDMwLjgyMjczNDcsMS44MzU3MzY0ZS0xNSBDMzAuNzkyNDc2MywxLjg5NDk4NTM5ZS0xNSAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEMzMC42Nzk5OTUsMS44NTg0MTMzMWUtMTUgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState8.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n      logoState9.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n      logoState10.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTEwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMTAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBMMS43MDc4NjQ5NSwzMiBDMC45NDA4MDI3OTYsMzIgMC4zMTg5NzYwNTksMzEuMzc3MDkxOCAwLjMxODk3NjA1OSwzMC42MDg2OTU3IEMwLjMxODk3NjA1OSwzMC4zODQ1OTQ4IDAuMzczMDE1NjE4LDMwLjE2MzgxIDAuNDc2NDk3MTA2LDI5Ljk2NTEyNTYgTDQuNjMwNjI3ODUsMjEuOTg5MTk0NSBDNC45ODk2MTc3NiwyMS4yOTk5MzM5IDUuNzAxMzExMDEsMjEuMDAwMTA2MyA2LjQ3NzM5NDY2LDIxIEwxOC4yMDEzODg5LDIxIEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUtMiIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBDMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LC0xLjIxNzg4MzgzZS0xNCAxNy4xNzcyNjUzLC0xLjQyMTA4NTQ3ZS0xNCBMMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      setUpStylesForLogoParts([logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10]); // Define base styles for triangle bellow the microphone btn\n\n      defaultStateBtnIcon.src = defaultStateBtnIconImg;\n      defaultStateBtnIcon.style.minHeight = '100%';\n      defaultStateBtnIcon.style.height = '100%';\n      defaultStateBtnIcon.style.maxHeight = '100%';\n      defaultStateBtnIcon.style.minWidth = '100%';\n      defaultStateBtnIcon.style.width = '100%';\n      defaultStateBtnIcon.style.maxWidth = '100%';\n      defaultStateBtnIcon.style.top = '0%';\n      defaultStateBtnIcon.style.left = '0%';\n      defaultStateBtnIcon.style.position = 'absolute';\n      defaultStateBtnIcon.style.pointerEvents = 'none';\n      micIcon.appendChild(defaultStateBtnIcon);\n      micTriangleIcon.style.minHeight = '100%';\n      micTriangleIcon.style.height = '100%';\n      micTriangleIcon.style.maxHeight = '100%';\n      micTriangleIcon.style.minWidth = '100%';\n      micTriangleIcon.style.width = '100%';\n      micTriangleIcon.style.maxWidth = '100%';\n      micTriangleIcon.style.top = '0%';\n      micTriangleIcon.style.left = '0%';\n      micTriangleIcon.style.zIndex = btnIconsZIndex;\n      micTriangleIcon.style.position = 'absolute';\n      micTriangleIcon.style.opacity = 0;\n      micTriangleIcon.style.transition = 'all 0.4s ease-in-out';\n      micTriangleIcon.style.overflow = 'hidden';\n      micTriangleIcon.style.borderRadius = '50%';\n      micTriangleIcon.style.backgroundSize = '100% 100%';\n      micTriangleIcon.style.backgroundPosition = 'center center';\n      micTriangleIcon.style.backgroundRepeat = 'no-repeat';\n      micTriangleIcon.classList.add('triangleMicIconBg');\n      micTriangleIcon.classList.add('triangleMicIconBg-default');\n      micCircleIcon.style.minHeight = '100%';\n      micCircleIcon.style.height = '100%';\n      micCircleIcon.style.maxHeight = '100%';\n      micCircleIcon.style.minWidth = '100%';\n      micCircleIcon.style.width = '100%';\n      micCircleIcon.style.maxWidth = '100%';\n      micCircleIcon.style.top = '0%';\n      micCircleIcon.style.left = '0%';\n      micCircleIcon.style.zIndex = btnIconsZIndex;\n      micCircleIcon.style.position = 'absolute';\n      micCircleIcon.style.opacity = 0;\n      micCircleIcon.style.transition = 'all 0.4s ease-in-out';\n      micCircleIcon.style.overflow = 'hidden';\n      micCircleIcon.style.borderRadius = '50%';\n      micCircleIcon.style.backgroundSize = '0% 0%';\n      micCircleIcon.style.backgroundPosition = 'center center';\n      micCircleIcon.style.backgroundRepeat = 'no-repeat';\n      micCircleIcon.classList.add('circleMicIconBg'); // Define base styles for loader mic icon in disconnected state\n\n      disconnectedMicLoaderIcon.style.minHeight = '100%';\n      disconnectedMicLoaderIcon.style.height = '100%';\n      disconnectedMicLoaderIcon.style.maxHeight = '100%';\n      disconnectedMicLoaderIcon.style.top = '0%';\n      disconnectedMicLoaderIcon.style.left = '0%';\n      disconnectedMicLoaderIcon.style.zIndex = btnIconsZIndex;\n      disconnectedMicLoaderIcon.style.position = 'absolute';\n      disconnectedMicLoaderIcon.style.transition = 'all 0.4s ease-in-out';\n      disconnectedMicLoaderIcon.style.opacity = '0';\n      disconnectedMicLoaderIcon.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiB2aWV3Qm94PSIwIDAgMTkyIDE5MiI+CiAgICA8ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTk2IDBjNTMuMDIgMCA5NiA0Mi45OCA5NiA5NnMtNDIuOTggOTYtOTYgOTZTMCAxNDkuMDIgMCA5NiA0Mi45OCAwIDk2IDB6IiBvcGFjaXR5PSIuMDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTMxLjk2NiAxOS4wOTJjLTMwLTE0LTY1LjI4NC05Ljg0OS05MS4xNDIgMTIuNTc1QzE0Ljk2NiA1NC4wOTIgNi44NSA4My44MSAxMi45MDggMTEzLjk1YzYuMDU4IDMwLjE0MiAzMC4zMDIgNTYuMTkgNjAuMDU4IDY0LjE0MiAzNS4xODMgOS40MDYgNzMtNCA5My0zNC0xNy45MjQgMjMuOTE2LTUyLjM2NiAzOC4yOTMtODMgMzMtMzAuMTY4LTUuMjEtNTcuMTA0LTMxLjExLTY0LTYxLTcuMzQ3LTMxLjgzNS43NzktNTYgMjctODBzODAtMjYgMTA5IDljNS41MzYgNi42ODEgMTMgMTkgMTUgMzQgMSA2IDEgNyAyIDEyIDAgMiAyIDQgNCA0IDMgMCA1LjM3NC0yLjI1NiA1LTYtMy0zMC0yMS41NTYtNTcuMTkzLTQ5LTcweiIgb3BhY2l0eT0iLjQiLz4KICAgIDwvZz4KPC9zdmc+Cg==\";\n      disconnectedMicLoaderIcon.style.animation = disconnectedLoaderAnimation; // Define base styles for mic icon in low valume state\n\n      lowVolumeMicIcon.style.minHeight = '100%';\n      lowVolumeMicIcon.style.height = '100%';\n      lowVolumeMicIcon.style.maxHeight = '100%';\n      lowVolumeMicIcon.style.top = '0%';\n      lowVolumeMicIcon.style.left = '0%';\n      lowVolumeMicIcon.style.zIndex = btnIconsZIndex;\n      lowVolumeMicIcon.style.position = 'absolute';\n      lowVolumeMicIcon.style.transition = 'all 0.4s ease-in-out';\n      lowVolumeMicIcon.style.opacity = '0';\n      lowVolumeMicIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1taWM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQWxhbi1CdXR0b24tLy1BbmltYXRpb24tLy1idXR0b24tbm8tbWljIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNMzIsMTguNDczNjg0MiBDMzIsMjUuNzE5NDczNyAyNi43OCwzMS42OTI2MzE2IDIwLDMyLjY5ODQyMTEgTDIwLDQwIEMyMCw0MS4xMDQ1Njk1IDE5LjEwNDU2OTUsNDIgMTgsNDIgQzE2Ljg5NTQzMDUsNDIgMTYsNDEuMTA0NTY5NSAxNiw0MCBMMTYsMzIuNjk4NDIxMSBDOS4yMiwzMS42OTI2MzE2IDQsMjUuNzE5NDczNyA0LDE4LjQ3MzY4NDIgTDQsMTggQzQsMTYuODk1NDMwNSA0Ljg5NTQzMDUsMTYgNiwxNiBDNy4xMDQ1Njk1LDE2IDgsMTYuODk1NDMwNSA4LDE4IEw4LDE4LjQ3MzY4NDIgQzgsMjQuMTQxODY5OCAxMi40NzcxNTI1LDI4LjczNjg0MjEgMTgsMjguNzM2ODQyMSBDMjMuNTIyODQ3NSwyOC43MzY4NDIxIDI4LDI0LjE0MTg2OTggMjgsMTguNDczNjg0MiBMMjgsMTggQzI4LDE2Ljg5NTQzMDUgMjguODk1NDMwNSwxNiAzMCwxNiBDMzEuMTA0NTY5NSwxNiAzMiwxNi44OTU0MzA1IDMyLDE4IEwzMiwxOC40NzM2ODQyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LC00LjUyNzM3MjYzZS0xNCBDMjEuMzEzNzA4NSwtNC42MTg1Mjc3OGUtMTQgMjQsMi43NTY5ODMzOCAyNCw2LjE1Nzg5NDc0IEwyNCwxOC40NzM2ODQyIEMyNCwyMS44NzQ1OTU2IDIxLjMxMzcwODUsMjQuNjMxNTc4OSAxOCwyNC42MzE1Nzg5IEMxNC42ODYyOTE1LDI0LjYzMTU3ODkgMTIsMjEuODc0NTk1NiAxMiwxOC40NzM2ODQyIEwxMiw2LjE1Nzg5NDc0IEMxMiwyLjc1Njk4MzM4IDE0LjY4NjI5MTUsLTQuNTI3MzcyNjNlLTE0IDE4LC00LjYxODUyNzc4ZS0xNCBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC42Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjgxLDMuMjcgTDM0LjczLDM0LjE5IEMzNS40MzE0MDE2LDM0Ljg5MTQwMTYgMzUuNDMxNDAxNiwzNi4wMjg1OTg0IDM0LjczLDM2LjczIEMzNC4wMjg1OTg0LDM3LjQzMTQwMTYgMzIuODkxNDAxNiwzNy40MzE0MDE2IDMyLjE5LDM2LjczIEwxLjI3LDUuODEgQzAuNTY4NTk4MzY4LDUuMTA4NTk4MzcgMC41Njg1OTgzNjgsMy45NzE0MDE2MyAxLjI3LDMuMjcgQzEuOTcxNDAxNjMsMi41Njg1OTgzNyAzLjEwODU5ODM3LDIuNTY4NTk4MzcgMy44MSwzLjI3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\"; // Define base styles for noVoiceSupport icon in low valume state\n\n      noVoiceSupportMicIcon.style.minHeight = '100%';\n      noVoiceSupportMicIcon.style.height = '100%';\n      noVoiceSupportMicIcon.style.maxHeight = '100%';\n      noVoiceSupportMicIcon.style.top = '0%';\n      noVoiceSupportMicIcon.style.left = '0%';\n      noVoiceSupportMicIcon.style.zIndex = btnIconsZIndex;\n      noVoiceSupportMicIcon.style.position = 'absolute';\n      noVoiceSupportMicIcon.style.transition = 'all 0.4s ease-in-out';\n      noVoiceSupportMicIcon.style.opacity = '0';\n      noVoiceSupportMicIcon.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIuSURBVHgB7dvxUYMwFAbwpxMwAhvoBtVJygZ1A92gI1Qn6AjoBO0GsEG7wfPlgCtNA7xASzX5fnf5oyThLp+BQDiJAAAAAAAAAAAAAAAAxmHmDyk5n+ykLAn6SUhpHVaXwrQhcBsIr5FTLGSwb1IOmpkj9RnrxXE5+1x+fH7Pwyw0+PKSLLpCrGeq1oFiwNWiUGhCZE8UC22I7IliogmRPVFshkJkTxSjvhDZE8WqJ0QEqNURIgL0MTVEgmkhElTGhkix4WqzoNlYWFp1k1fhvvMHgc9n2cFRPzXAou/8t/JAM7EH/SD66ocM9bfrb+WR7kTGm1iHjqR3HDjXbOYMsLR+p9bvPentr3iuSeYM0B7Uwvr9RXqfA+cqKTRyma2sdSB3tMlZJ7X62Ru3Qa7CiSOIF6uN9pmw4NMuTjYUcDAcM8wEkTjaZdasytm9AfHsOL6lUJkZx5c2yr7a2ZlSyGSAa8egt5qBK0JU/TH+Na7uha4QzLHBm7+0ee8Iz/Sf/XlwtjeRtnq2mVU4dVSXUr6l/NDpccS0e5KSSekKybR9lReQkmLAV9hU7ZiFKcWCq8t5zeOtWfndOWhczcYN6+VSFq2+RfQhGnUYWUeY5ph5m0k6+iHENjs9RXuE2OYbYN3HFeKOYjQmwLrfRYgUo7EB1n2bEM03khXd0F0epDXs0Obaovd1ty39UCDAif5ygO0PRyWBH64eqJuFAP9kAwAAAAAAAAAAAAAAU/wC52820szaQtwAAAAASUVORK5CYII=\"; // Define base st`yles for ovals\n\n      var ovalCoefficient = 2;\n      var defaultBtnColorOptions = {\n        \"idle\": {\n          \"background\": {\n            \"color\": ['rgb(34, 203, 255)', 'rgb(25, 149, 255)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgba(0, 156,  255, 0.95)']\n          }\n        },\n        \"listen\": {\n          \"background\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgba(0, 156,  255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgb(0, 70, 255)']\n          }\n        },\n        \"process\": {\n          \"background\": {\n            \"color\": ['rgba(0, 255, 205, 0.95)', 'rgba(0, 115, 255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgb(0, 115, 255)', 'rgba(0, 115, 255, 0.95)']\n          }\n        },\n        \"reply\": {\n          \"background\": {\n            \"color\": ['rgba(122, 40, 255, 0.95)', 'rgba(61, 122, 255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(122, 40, 255, 0.95)', 'rgb(122, 40, 255)']\n          }\n        }\n      };\n      btnOval1.style.minHeight = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.height = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.maxHeight = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.minWidth = btnSize + 'px';\n      btnOval1.style.width = btnSize + 'px';\n      btnOval1.style.maxWidth = btnSize + 'px';\n      btnOval1.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n      btnOval1.style.left = 0;\n      btnOval1.style.zIndex = btnBgLayerZIndex;\n      btnOval1.style.position = 'absolute';\n      btnOval1.style.transition = 'all 0.4s ease-in-out';\n      btnOval1.style.opacity = '.5';\n      btnOval1.style.borderRadius = '100px';\n      btnOval1.style.transform = 'rotate(-315deg)';\n      btnOval1.style.filter = 'blur(' + btnSize / 10 + 'px)';\n      btnOval1.classList.add('alanBtn-oval-bg-default');\n      btnOval2.style.minHeight = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.height = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.maxHeight = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.minWidth = btnSize + 'px';\n      btnOval2.style.width = btnSize + 'px';\n      btnOval2.style.maxWidth = btnSize + 'px';\n      btnOval2.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n      btnOval2.style.left = 0;\n      btnOval2.style.zIndex = btnBgLayerZIndex;\n      btnOval2.style.position = 'absolute';\n      btnOval2.style.transition = 'all 0.4s ease-in-out';\n      btnOval2.style.opacity = '.5';\n      btnOval2.style.borderRadius = '100px';\n      btnOval2.style.transform = 'rotate(-45deg)';\n      btnOval2.style.filter = 'blur(' + btnSize / 10 + 'px)';\n      btnOval2.classList.add('alanBtn-oval-bg-default'); // Define base styles for mic icon in offline state\n\n      offlineIcon.style.minHeight = '100%';\n      offlineIcon.style.height = '100%';\n      offlineIcon.style.maxHeight = '100%';\n      offlineIcon.style.top = '0%';\n      offlineIcon.style.left = '0%';\n      offlineIcon.style.zIndex = btnIconsZIndex;\n      offlineIcon.style.position = 'absolute';\n      offlineIcon.style.transition = 'all 0.4s ease-in-out';\n      offlineIcon.style.opacity = '0';\n      offlineIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1uZXR3b3JrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLW5vLW5ldHdvcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS4wMDAwMDAsIDIyLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzMsMiBDMzQuNjU2ODU0MiwyIDM2LDMuMzQzMTQ1NzUgMzYsNSBMMzYsMjkgQzM2LDMwLjY1Njg1NDIgMzQuNjU2ODU0MiwzMiAzMywzMiBDMzEuMzQzMTQ1OCwzMiAzMCwzMC42NTY4NTQyIDMwLDI5IEwzMCw1IEMzMCwzLjM0MzE0NTc1IDMxLjM0MzE0NTgsMiAzMywyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjQiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTIzLDggQzI0LjY1Njg1NDIsOCAyNiw5LjM0MzE0NTc1IDI2LDExIEwyNiwyOSBDMjYsMzAuNjU2ODU0MiAyNC42NTY4NTQyLDMyIDIzLDMyIEMyMS4zNDMxNDU4LDMyIDIwLDMwLjY1Njg1NDIgMjAsMjkgTDIwLDExIEMyMCw5LjM0MzE0NTc1IDIxLjM0MzE0NTgsOCAyMyw4IFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTEzLDE2IEMxNC42NTY4NTQyLDE2IDE2LDE3LjM0MzE0NTggMTYsMTkgTDE2LDI5IEMxNiwzMC42NTY4NTQyIDE0LjY1Njg1NDIsMzIgMTMsMzIgQzExLjM0MzE0NTgsMzIgMTAsMzAuNjU2ODU0MiAxMCwyOSBMMTAsMTkgQzEwLDE3LjM0MzE0NTggMTEuMzQzMTQ1OCwxNiAxMywxNiBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDIyIEM0LjY1Njg1NDI1LDIyIDYsMjMuMzQzMTQ1OCA2LDI1IEw2LDI5IEM2LDMwLjY1Njg1NDIgNC42NTY4NTQyNSwzMiAzLDMyIEMxLjM0MzE0NTc1LDMyIDIuMDI5MDYxMjVlLTE2LDMwLjY1Njg1NDIgMCwyOSBMMCwyNSBDLTIuMDI5MDYxMjVlLTE2LDIzLjM0MzE0NTggMS4zNDMxNDU3NSwyMiAzLDIyIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44MSwxLjI3IEwzNi43MywzMi4xOSBDMzcuNDMxNDAxNiwzMi44OTE0MDE2IDM3LjQzMTQwMTYsMzQuMDI4NTk4NCAzNi43MywzNC43MyBDMzYuMDI4NTk4NCwzNS40MzE0MDE2IDM0Ljg5MTQwMTYsMzUuNDMxNDAxNiAzNC4xOSwzNC43MyBMMy4yNywzLjgxIEMyLjU2ODU5ODM3LDMuMTA4NTk4MzcgMi41Njg1OTgzNywxLjk3MTQwMTYzIDMuMjcsMS4yNyBDMy45NzE0MDE2MywwLjU2ODU5ODM2OCA1LjEwODU5ODM3LDAuNTY4NTk4MzY4IDUuODEsMS4yNyBaIiBpZD0iUGF0aCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n      btnBgDefault.classList.add('alanBtn-bg-default');\n      btnBgListening.classList.add('alanBtn-bg-listening');\n      btnBgSpeaking.classList.add('alanBtn-bg-speaking');\n      btnBgIntermediate.classList.add('alanBtn-bg-intermediate');\n      btnBgUnderstood.classList.add('alanBtn-bg-understood');\n      applyBgStyles(btnBgDefault);\n      applyBgStyles(btnBgListening);\n      applyBgStyles(btnBgSpeaking);\n      applyBgStyles(btnBgIntermediate);\n      applyBgStyles(btnBgUnderstood);\n      var onOpacity = 1;\n      var offOpacity = 0;\n      btnBgDefault.style.opacity = onOpacity;\n      var allIcons = [micCircleIcon, micTriangleIcon, micIcon, offlineIcon, lowVolumeMicIcon, noVoiceSupportMicIcon, logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10];\n\n      for (var i = 0; i < allIcons.length; i++) {\n        allIcons[i].setAttribute('draggable', 'false');\n      }\n\n      hideLayers([btnBgListening, btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n      btn.appendChild(btnOval1);\n      btn.appendChild(btnOval2);\n      btn.appendChild(btnBgDefault);\n      btn.appendChild(btnBgListening);\n      btn.appendChild(btnBgSpeaking);\n      btn.appendChild(btnBgIntermediate);\n      btn.appendChild(btnBgUnderstood);\n      btn.appendChild(micIcon);\n      btn.appendChild(micTriangleIcon);\n      btn.appendChild(micCircleIcon);\n      btn.appendChild(disconnectedMicLoaderIcon);\n      btn.appendChild(lowVolumeMicIcon);\n      btn.appendChild(noVoiceSupportMicIcon);\n      btn.appendChild(offlineIcon);\n      btn.classList.add(\"alanBtn\");\n\n      if (isMobile()) {\n        rootEl.classList.add(\"mobile\");\n      } //#endregion\n      //#region Add needed styles to the page\n\n\n      createAlanStyleSheet();\n\n      function getStyleSheetMarker(andFlag) {\n        return '.alan-' + getProjectId() + (andFlag ? '' : ' ');\n      }\n\n      function createAlanStyleSheet(btnOptions) {\n        var style;\n        var keyFrames = '';\n        var projectId = getProjectId();\n        var existingStyleSheet;\n\n        if (options.shadowDOM) {\n          existingStyleSheet = options.shadowDOM.getElementById('alan-stylesheet-' + projectId);\n        } else {\n          existingStyleSheet = document.getElementById('alan-stylesheet-' + projectId);\n        }\n\n        if (existingStyleSheet) {\n          existingStyleSheet.disabled = true;\n          existingStyleSheet.parentNode.removeChild(existingStyleSheet);\n        }\n\n        style = document.createElement('style');\n        style.setAttribute('id', 'alan-stylesheet-' + projectId);\n        style.type = 'text/css';\n        keyFrames += '.alanBtn-root * {  box-sizing: border-box; font-family: \\'Lato\\', sans-serif; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;}';\n\n        if (!isMobile()) {\n          keyFrames += getStyleSheetMarker() + '.alanBtn{transform: scale(1);transition:all 0.4s ease-in-out;} .alanBtn:hover{transform: scale(1.11111);transition:all 0.4s ease-in-out;}.alanBtn:focus {transform: scale(1);transition:all 0.4s ease-in-out;  border: solid 3px #50e3c2;  outline: none;  }';\n        }\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder { position:relative; max-width:440px; font-family: \\'Lato\\', sans-serif; font-size: 20px;line-height: 1.2;     min-height: 40px;  color: #000; font-weight: normal; background-color: rgba(245, 252, 252, 0.8);border-radius:32px 0 0 32px; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: activate;-ms-flex-pack: start;justify-content: start;}';\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder {max-width: calc(100% - ' + sideBtnPos + ');}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.left-side { padding-right: ' + btnSize + 'px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.right-side { padding-left: ' + btnSize + 'px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.left-side .alanBtn-text-holder-text-wrapper {padding: 0 12px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.right-side .alanBtn-text-holder-text-wrapper {padding: 0 12px;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder {position:relative;font-style: italic; overflow:hidden;font-family: \\'Lato\\', sans-serif;   width: 0px;  min-width: 0px;   min-height: 40px;  color: #000; position: absolute; font-weight: normal;  background-color: rgba(245, 252, 252, 0.8); display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: center;-ms-flex-pack: center;justify-content: center;border-radius:32px 0 0 32px;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close {position: absolute;top: 1px;right: ' + (hintCloserRightPos - 10) + 'px;color: #0079e8;font-size: 13px;font-style: normal;font-weight: 500;line-height: 1.54;opacity: 0;transition: opacity 300ms ease-in-out;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close:hover {color: #ff8800;cursor:pointer;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close:active {color: #ff6426;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder:hover .alanBtn-hint-holder-close {opacity: 1;transition: opacity 300ms ease-in-out;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper {width: 100%;height:100%; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;justify-content: start;text-align:left;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list {padding-top:2px;font-size: 18px;line-height: 1.22; margin-top:0px;font-style:italic;margin-bottom:0px;display:inline-block;vertical-align:middle;width:220px;max-width:220px;min-width:220px;text-align:left;animation: alan-text-fade-in .4s ease-in-out forwards; }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list.hints-long {font-size: 16px;line-height: 1.38;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list.hints-super-long {font-size: 14px;line-height: 1.36;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list div {margin-bottom:6px; }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-header {white-space:nowrap;font-size: 14px;font-weight: 400;font-style: italic;font-stretch: normal;line-height: 1.36;letter-spacing: normal;color: rgba(0, 0, 0, 0.6);display:inline-block;vertical-align:middle;padding-right:12px;padding-left:12px;min-width:112px;text-align:center;animation: alan-text-fade-in .4s ease-in-out forwards;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-long  { font-size: 19px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-super-long  { font-size: 14px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder-long  { font-size: 12px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder-super-long  { font-size: 11px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-appearing {  animation: text-holder-appear 800ms ease-in-out forwards;  }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing {  animation: text-holder-disappear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-appearing {  animation: hint-holder-appear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-disappearing {  animation: hint-holder-disappear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alan-btn-disabled {  pointer-events: none;  opacity: .5;  transition: all .2s ease-in-out;  }';\n        keyFrames += getStyleSheetMarker() + '.shadow-appear {  opacity: 1 !important;  }\\n';\n        keyFrames += getStyleSheetMarker() + '.shadow-disappear {  opacity: 0 !important;  transition: all .1s linear !important;  }';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n        keyFrames += getStyleSheetMarker() + \".alan-btn-disabled-msg:after {content: '';  position: absolute;  bottom: 2px;  right: 0px;  height: 30px;  width: 90px;  background-size: 100% auto;  background-repeat: no-repeat;  background-position: center center;}\";\n        keyFrames += getStyleSheetMarker() + '.triangleMicIconBg {background-image:url(' + micTriangleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + '.circleMicIconBg {background-image:url(' + micCircleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ' img {pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ':hover .triangleMicIconBg-default {opacity:0!important;}';\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-gradient', '0%{backgroundPosition: 0 0;}50%{backgroundPosition: -100% 0;}100%{backgroundPosition: 0 0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-pulsating', '0%{transform: scale(1.11111);}50%{transform: scale(1.0);}100%{transform: scale(1.11111);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-mic-pulsating', '0%{transform: scale(0.91);}50%{transform: scale(1.0);}100%{transform: scale(0.91);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-triangle-mic-pulsating', '0%{transform: scale(0.94);}50%{transform: scale(1.0);}100%{transform: scale(0.94);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-in', '0%{opacity: 0;}100%{opacity:1;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-out', '0%{opacity: 1;}100%{opacity:0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-appear', '0%{' + 'opacity:0; ' + 'color:transparent; ' + 'background-color:rgba(245, 252, 252, 0.0);' + 'border: solid 1px transparent; ' + '}' + '100%{' + 'opacity:1; ' + 'color:#000;' + 'background-color:rgba(245, 252, 252, 0.8);' + '}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-disappear', '0%{' + 'opacity:1; ' + 'color:#000;' + 'background-color:rgba(245, 252, 252, 0.8);  ' + '}' + '100%{' + 'opacity:0; ' + 'color:transparent;' + 'background-color:rgba(245, 252, 252, 0.0);' + 'border: solid 1px transparent;' + '}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('hint-holder-appear', '0%{ width: 0px;min-width: 0px;max-width: 0px;border: solid 1px transparent;}100%{border: solid 1px #d5e2ed;width: ' + hintHolderWidth + 'px;min-width: ' + hintHolderWidth + 'px;max-width: ' + hintHolderWidth + 'px;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('hint-holder-disappear', '0%{border: solid 1px #d5e2ed; width: ' + hintHolderWidth + 'px;min-width: ' + hintHolderWidth + 'px;max-width: ' + hintHolderWidth + 'px;}100%{width: 0px;min-width: 0px;max-width: 0px;border: solid 1px transparent;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-1-animation', '0% {  opacity: 1;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 1;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-2-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 1;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-3-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 1;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-4-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 1;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-5-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 1;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-6-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 1;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-7-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 1;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-8-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 1;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-9-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 1;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-10-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 1;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('disconnected-loader-animation', '0%{  transform: rotate(0deg);  } 100%{  transform: rotate(360deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval1-animation', '0%{  transform: rotate(-315deg);  } 50%{  transform: rotate(-495deg);  } 100%{  transform: rotate(-315deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval2-animation', '0%{  transform: rotate(-45deg);  } 50%{  transform: rotate(-215deg);  } 100%{  transform: rotate(-45deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-text-fade-in', '0%{  opacity: 0;  } 100%{   opacity: 1;  }');\n        keyFrames += getStyleSheetMarker() + '.alanBtn-bg-default.super-hidden{opacity:0!important;display:none;}';\n        var predefinedBtnColorOptions = defaultBtnColorOptions;\n\n        if (btnOptions) {\n          if (btnOptions.btnLayerOptions) {\n            //old settings\n            predefinedBtnColorOptions = defaultBtnColorOptions;\n          } else {\n            predefinedBtnColorOptions = btnOptions || defaultBtnColorOptions;\n          }\n        }\n\n        var btnBackgroundOptionKeys = Object.keys(predefinedBtnColorOptions);\n        var tempLayer;\n        var stateName;\n        var stateMapping = {\n          idle: ['default'],\n          listen: ['listening'],\n          process: ['intermediate', 'understood'],\n          reply: ['speaking']\n        };\n        var stateNameClasses, stateNameClass;\n        var states = Object.keys(stateMapping);\n\n        for (i = 0; i < states.length; i++) {\n          stateName = states[i];\n          stateNameClasses = stateMapping[stateName];\n          tempLayer = predefinedBtnColorOptions[stateName];\n\n          for (var j = 0; j < stateNameClasses.length; j++) {\n            stateNameClass = stateNameClasses[j];\n\n            if (tempLayer.background) {\n              keyFrames += getStyleSheetMarker() + '.alanBtn-bg-' + stateNameClass + ' {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.background.color[0] + ',' + tempLayer.background.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn-oval-bg-' + stateNameClass + ' {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.background.color[0] + ',' + tempLayer.background.color[1] + ');';\n              keyFrames += '}';\n            }\n\n            if (tempLayer.hover && !isMobile()) {\n              keyFrames += getStyleSheetMarker() + \".alanBtn:hover .alanBtn-bg-\" + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n            }\n          }\n        }\n\n        style.innerHTML = keyFrames;\n\n        if (options.shadowDOM) {\n          options.shadowDOM.prepend(style);\n        } else {\n          document.getElementsByTagName('head')[0].appendChild(style);\n        }\n      }\n\n      function generateKeyFrame(name, rule) {\n        var prefixes = ['@-webkit-keyframes', '@keyframes'];\n        var r = '';\n\n        for (var i = 0; i < prefixes.length; i++) {\n          r += prefixes[i] + ' ' + name + '{' + rule + '} ';\n        }\n\n        return r;\n      } //#endregion\n      //#region Connect to the project and add listeners\n\n\n      if (options) {\n        if (options.alanAudio) {\n          alanAudio = options.alanAudio;\n        }\n\n        if (options.key) {\n          tryReadSettingsFromLocalStorage();\n          switchState(getDefaultBtnState(DISCONNECTED));\n          window.tutorProject = alan.project(options.key, getAuthData(options.authData), options.host, null, {\n            platform: mode === 'demo' ? 'alanplayground' : null\n          });\n          window.tutorProject.on('connectStatus', onConnectStatusChange);\n          window.tutorProject.on('options', onOptionsReceived); // console.info('BTN: tutorProject', options.key);\n        } else {\n          switchState(getDefaultBtnState());\n        }\n      }\n\n      function guid() {\n        function s4() {\n          return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n        }\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n      }\n\n      function getAuthData(data) {\n        var authData = data || {};\n        var curUuid, uuidKey;\n\n        if (isLocalStorageAvailable && authData) {\n          uuidKey = 'alan-btn-uuid-' + getProjectId();\n          curUuid = localStorage.getItem(uuidKey);\n\n          if (curUuid) {\n            authData.uuid = curUuid;\n          } else {\n            authData.uuid = guid();\n            localStorage.setItem(uuidKey, authData.uuid);\n          }\n        } else {\n          authData.uuid = guid();\n        }\n\n        return authData;\n      }\n\n      function getProjectId() {\n        var key;\n\n        if (options.key) {\n          key = options.key;\n          return key.substr(0, key.indexOf('/'));\n        }\n\n        return mode;\n      }\n\n      function debounce(func, wait) {\n        var timeout;\n        var delay = wait || 100;\n        return function (args) {\n          clearTimeout(timeout);\n          timeout = setTimeout(function () {\n            func.apply(this, args);\n          }, delay);\n        };\n      }\n\n      function _activateAlanButton(resolve) {\n        playSoundOn();\n\n        if (options.onBeforeMicStart) {\n          options.onBeforeMicStart();\n        }\n\n        alanAudio.on('micStart', onMicStart);\n        alanAudio.on('micStop', onMicStop);\n        alanAudio.on('micFail', onMicFail);\n        alanAudio.on('playStart', onPlayStart);\n        alanAudio.on('playStop', onPlayStop);\n        alanAudio.on('command', onCommandCbInMicBtn);\n        alanAudio.start(resolve);\n\n        if (options.onMicStarted) {\n          options.onMicStarted();\n        }\n      }\n\n      function activateAlanButton() {\n        var activatePromise = new Promise(function (resolve, reject) {\n          if (btnDisabled) {\n            reject({\n              err: BTN_IS_DISABLED_CODE\n            });\n            return;\n          }\n\n          if (isPreviewMode()) {\n            reject({\n              err: PREVIEW_MODE_CODE\n            });\n            return;\n          }\n\n          function waitForConnectionForActivateCall(res) {\n            if (res === 'authorized') {\n              window.tutorProject.off('connectStatus', waitForConnectionForActivateCall);\n\n              _activateAlanButton(resolve);\n            }\n          }\n\n          if (alanAudio) {\n            switch (state) {\n              case DEFAULT:\n                try {\n                  _activateAlanButton(resolve);\n                } catch (e) {\n                  currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n                  reject({\n                    err: NO_VOICE_SUPPORT_IN_BROWSER_CODE\n                  });\n                }\n\n                break;\n\n              case DISCONNECTED:\n              case OFFLINE:\n                window.tutorProject.on('connectStatus', waitForConnectionForActivateCall);\n                break;\n\n              case PERMISSION_DENIED:\n                reject({\n                  err: MIC_BLOCKED_CODE\n                });\n                break;\n\n              case LISTENING:\n              case SPEAKING:\n              case INTERMEDIATE:\n              case UNDERSTOOD:\n                resolve();\n                break;\n\n              default:\n            }\n          } else {\n            reject({\n              err: NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE\n            });\n          }\n        });\n        return activatePromise;\n      }\n\n      btn.addEventListener('click', function (e) {\n        if (afterMouseMove) return;\n        if (!dndBackAnimFinished) return;\n\n        if (currentErrMsg) {\n          alert(currentErrMsg);\n          return;\n        }\n\n        if (alanAudio) {\n          if (state === 'default') {\n            activateAlanButton();\n          } else {\n            alanAudio.stop();\n          }\n        } else {\n          throw new Error('No alan audio instance was provided');\n        } //remove focus state from the btn after click\n\n\n        this.blur();\n      });\n\n      function showRecognisedText(e, text, forceOnMobile) {\n        // console.info('showRecognisedText');\n        var recognisedText = '';\n\n        if (isMobile() && forceOnMobile !== true) {\n          return;\n        }\n\n        if (hideS2TPanel) {\n          return;\n        }\n\n        recognisedTextVisible = true;\n\n        if (!options.hideRecognizedText) {\n          if (textHolder.classList.value.indexOf('alanBtn-text-appearing') === -1) {\n            textHolder.classList.add('with-text');\n            textHolder.classList.add('alanBtn-text-appearing');\n            textHolder.classList.remove('alanBtn-text-disappearing');\n          }\n\n          if (text) {\n            recognisedText = text;\n            textHolderTextWrapper.innerHTML = text;\n          } else {\n            recognisedText = e.text;\n\n            if (recognisedText.length > 200) {\n              recognisedText = recognisedText.substr(0, 200);\n            }\n\n            textHolderTextWrapper.innerHTML = recognisedText;\n          }\n\n          if (recognisedText.length > 60 && recognisedText.length <= 80) {\n            textHolder.classList.add('alanBtn-text-holder-long');\n          } else if (recognisedText.length > 80) {\n            textHolder.classList.add('alanBtn-text-holder-super-long');\n          } else {\n            textHolder.classList.remove('alanBtn-text-holder-long');\n            textHolder.classList.remove('alanBtn-text-holder-super-long');\n          }\n\n          if (text) {\n            textHolder.appendChild(textHolderTextWrapper);\n            isHintWasPreviously = true;\n          } else {\n            if (isHintWasPreviously) {\n              isHintWasPreviously = false;\n              textHolder.appendChild(textHolderTextWrapper);\n            } else {\n              replaceRecognisedText(recognisedText);\n            }\n          }\n        }\n      }\n\n      function replaceRecognisedText(recognisedText) {\n        if (isMobile()) {\n          return;\n        }\n\n        if (!options.hideRecognizedText) {\n          textHolderTextWrapper.innerText = recognisedText;\n        }\n      }\n\n      function hideRecognisedText(delay, forceOnMobile) {\n        // console.info('hideRecognisedText');\n        if (isMobile() && forceOnMobile !== true) {\n          return;\n        }\n\n        if (!options.hideRecognizedText && recognisedTextVisible) {\n          textHolder.classList.add('alanBtn-text-disappearing');\n          textHolder.classList.remove('alanBtn-text-appearing');\n          recognisedTextVisible = false;\n          setTimeout(function () {\n            textHolderTextWrapper.innerHTML = '';\n            textHolder.classList.remove('alanBtn-text-holder-long');\n            textHolder.classList.remove('alanBtn-text-holder-super-long');\n            textHolder.classList.remove('with-text');\n          }, delay || 810);\n        }\n      }\n\n      function showHints() {\n        var hintId;\n\n        if (isMobile()) {\n          return;\n        }\n\n        if (hints && hints.length === 0 || doNotShowHints) {\n          return;\n        }\n\n        clearTimeout(removeTextHintTimeoutId);\n        clearTimeout(hoverHideHintTimeoutId);\n        clearInterval(insideHintsAnimationIntervalId);\n        clearInterval(hintsRequestIntervalId);\n        insideHintsAnimationIntervalId = setInterval(function () {\n          var hintList = document.getElementById('hintList');\n\n          if (hintList) {\n            hintList.outerHTML = getHintList();\n          }\n        }, 6000);\n        hintsRequestIntervalId = setInterval(function () {\n          requestHints();\n        }, 4000); // console.info('showHints');\n\n        hintId = document.getElementById('hint-id');\n\n        if (hintId && hintId.className.indexOf(DEFAULT) > -1) {\n          hintId.outerHTML = getHintHeader(listeningHintLabel);\n        } else {\n          showRecognisedText(null, getHintsHtml());\n        }\n      }\n\n      function hideHints() {\n        if (isMobile()) {\n          return;\n        }\n\n        if (hints.length === 0) {\n          return;\n        }\n\n        hideRecognisedText();\n      }\n\n      function closeHint(event) {\n        var clickedEl = event.target;\n\n        if (clickedEl.classList.value.indexOf('alanBtn-hint-holder-close') > -1) {\n          doNotShowHints = true;\n          hideHints();\n        }\n      }\n\n      function shuffle(array) {\n        var currentIndex = array.length,\n            temporaryValue,\n            randomIndex;\n\n        while (0 !== currentIndex) {\n          randomIndex = Math.floor(Math.random() * currentIndex);\n          currentIndex -= 1;\n          temporaryValue = array[currentIndex];\n          array[currentIndex] = array[randomIndex];\n          array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n      }\n\n      function getHintHeader(label) {\n        return '<div id=\"hint-id\" class=\"alanBtn-hint-header ' + state + '\">' + label + '</div>';\n      }\n\n      function getHintList() {\n        var hintsHtml = '';\n        var hintItems = '';\n        var hintsLength = 0;\n        var shuffledHints = shuffle(hints);\n        var hintsClass = 'alanBtn-hint-list';\n\n        for (var i = 0; i < 2; i++) {\n          if (shuffledHints[i]) {\n            hintsLength += hints[i].length;\n            hintItems += '<div>' + hints[i] + '</div>';\n          }\n        }\n\n        if (hintsLength > 70 && hintsLength <= 100) {\n          hintsClass += ' hints-long';\n        }\n\n        if (hintsLength > 100) {\n          hintsClass += ' hints-super-long';\n        }\n\n        hintsHtml = '<div id=\"hintList\" class=\"' + hintsClass + '\">';\n        hintsHtml += hintItems;\n        hintsHtml += '</div>';\n        return hintsHtml;\n      }\n\n      function getHintsHtml() {\n        var hintsHtml = '';\n        var shuffledHints = [];\n        var hintClass = '';\n        var label;\n\n        if (state === DEFAULT) {\n          label = defaultHintLabel;\n        } else {\n          label = listeningHintLabel;\n        }\n\n        hintsHtml += '<div class=\"alanBtn-hint-holder-wrapper\">';\n        hintsHtml += getHintHeader(label);\n        hintsHtml += getHintList();\n        hintsHtml += '</div>';\n        return hintsHtml;\n      }\n\n      function onOptionsReceived(data) {\n        if (data && data.web && data.web.hidden === true) {\n          hideAlanBtn();\n        } else {\n          showAlanBtn();\n        }\n\n        if (data && data.web && data.web.hideS2TPanel === true) {\n          hideSpeach2TextPanel();\n        } else {\n          showSpeach2TextPanel();\n        }\n\n        if (data && data.web && data.web.timeout) {\n          turnOffTimeout = data.web.timeout;\n          setTurnOffVoiceTimeout();\n        }\n\n        if (data && data.web && data.web.btnOptions) {\n          console.info('OPTIONS', data.web.btnOptions);\n          applyBtnOptions(data.web.btnOptions);\n        }\n\n        if (isLocalStorageAvailable && data) {\n          localStorage.setItem(getStorageKey(), JSON.stringify(data));\n        }\n      }\n\n      function onConnectStatusChange(res) {\n        console.info('BTN: connectStatus', res);\n\n        if (options.onConnectionStatus) {\n          options.onConnectionStatus(res);\n        }\n\n        if (res === 'disconnected') {\n          switchState(getDefaultBtnState(DISCONNECTED));\n        } else if (res === 'authorized') {\n          if (previousState) {\n            switchState(previousState);\n          } else {\n            switchState(getDefaultBtnState());\n          }\n\n          requestHints();\n        }\n      }\n\n      function requestHints() {\n        if (window.tutorProject) {\n          window.tutorProject.call('visualHints', {}, function (err, res) {\n            if (res) {\n              setUpHints(res);\n            }\n          });\n        }\n      }\n\n      function onMicStart() {\n        // console.log('BTN: mic. started', new Date());\n        switchState(LISTENING);\n        isAlanActive = true;\n\n        if (window.tutorProject) {\n          window.tutorProject.on('text', onTextCbInMicBtn);\n          window.tutorProject.on('parsed', onParsedCbInMicBtn);\n          window.tutorProject.on('recognized', onRecognizedCbInMicBtn);\n          window.tutorProject.on('connectStatus', onConnectStatusChange);\n          window.tutorProject.on('options', onOptionsReceived);\n        }\n      }\n\n      function onMicStop() {\n        // console.log('BTN: mic. stopped');\n        playSoundOff();\n        isAlanSpeaking = false;\n        alanAudio.off('micStart', onMicStart);\n        alanAudio.off('micStop', onMicStop);\n        alanAudio.off('micFail', onMicFail);\n        alanAudio.off('playStart', onPlayStart);\n        alanAudio.off('playStop', onPlayStop);\n        alanAudio.off('command', onCommandCbInMicBtn);\n        hideRecognisedText();\n        switchState(DEFAULT);\n        isAlanActive = false;\n\n        if (window.tutorProject) {\n          window.tutorProject.off('text', onTextCbInMicBtn);\n          window.tutorProject.off('parsed', onParsedCbInMicBtn);\n          window.tutorProject.off('recognized', onRecognizedCbInMicBtn);\n          window.tutorProject.off('connectStatus', onConnectStatusChange);\n          window.tutorProject.off('options', onOptionsReceived);\n        }\n\n        if (options.onMicStopped) {\n          options.onMicStopped();\n        }\n      }\n\n      function onMicFail() {\n        // console.log('BTN: mic. failed');\n        onMicStop();\n        alert(MIC_BLOCKED_MSG);\n        switchState(PERMISSION_DENIED);\n      }\n\n      function onPlayStart(e) {\n        // console.log('BTN: play start');\n        isAlanSpeaking = true;\n        switchState(SPEAKING);\n        turnOffVoiceFn();\n      }\n\n      function onPlayStop(e) {\n        // console.log('BTN: play stop');\n        isAlanSpeaking = false;\n        switchState(LISTENING);\n        turnOffVoiceFn();\n      }\n\n      function onTextCbInMicBtn(e) {\n        // console.info('BTN: onTextCb', e, new Date());\n        turnOffVoiceFn();\n      }\n\n      function onParsedCbInMicBtn(e) {\n        // console.info('BTN: onParsedCb', e, new Date());\n        turnOffVoiceFn();\n        showRecognisedText(e);\n      }\n\n      function onRecognizedCbInMicBtn(e) {\n        // console.info('BTN: onRecognizedTextCb', e, new Date());\n        if (options.onReceiveRecognisedText) {\n          options.onReceiveRecognisedText(e);\n        }\n\n        if (e.final === true) {\n          switchState(UNDERSTOOD);\n        } else {\n          switchState(INTERMEDIATE);\n        }\n\n        showRecognisedText(e);\n        turnOffVoiceFn();\n      }\n\n      function onCommandCbInMicBtn(e) {\n        // console.info('BTN: onCommandCbInMicBtn', e, new Date());\n        if (options.onCommand) {\n          options.onCommand(e.data);\n        }\n\n        switchState(LISTENING);\n        turnOffVoiceFn();\n      }\n\n      function playSoundOn() {\n        if (!soundOnAudioDoesNotExist) {\n          soundOnAudio.play().catch(function () {\n            console.log(\"No activation sound, because the user didn't interact with the button\");\n          });\n        }\n      }\n\n      function playSoundOff() {\n        if (!soundOffAudioDoesNotExist) {\n          soundOffAudio.play().catch(function () {\n            console.log(\"No deactivation sound, because the user didn't interact with the button\");\n          });\n        }\n      }\n\n      window.switchState = switchState;\n\n      function switchState(newState) {\n        // console.info('BTN: state', newState);\n        var tempLogoParts = [],\n            i = 0;\n\n        if (newState !== DISCONNECTED) {\n          previousState = newState;\n        }\n\n        if (newState === LISTENING) {\n          hintAppearTimeoutId = setTimeout(function () {\n            showHints();\n          }, 300);\n        }\n\n        currentErrMsg = null;\n\n        if (newState === DEFAULT) {\n          btn.style.animation = '';\n          micIcon.style.animation = '';\n          micTriangleIcon.style.animation = '';\n          btnBgDefault.classList.remove('super-hidden');\n          btnBgDefault.style.opacity = onOpacity;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n          changeBgColors(DEFAULT);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 0;\n          hideLayers([btnBgListening, btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === LISTENING) {\n          btn.style.animation = pulsatingAnimation;\n          micIcon.style.animation = pulsatingMicAnimation;\n          micTriangleIcon.style.animation = pulsatingTriangleMicAnimation;\n          btnBgListening.classList.remove('super-hidden');\n          btnBgListening.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(LISTENING);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === SPEAKING) {\n          hideRecognisedText();\n          btn.style.animation = pulsatingAnimation;\n          btnBgSpeaking.classList.remove('super-hidden');\n          btnBgSpeaking.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(SPEAKING);\n          hideLayers([btnBgDefault, btnBgListening, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === INTERMEDIATE) {\n          btn.style.animation = pulsatingAnimation;\n          btnBgIntermediate.classList.remove('super-hidden');\n          btnBgIntermediate.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(INTERMEDIATE);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgDefault, btnBgListening, btnBgSpeaking, btnBgUnderstood]);\n        } else if (newState === UNDERSTOOD) {\n          btn.style.animation = pulsatingAnimation;\n          btnBgUnderstood.classList.remove('super-hidden');\n          btnBgUnderstood.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(UNDERSTOOD);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgDefault, btnBgListening, btnBgSpeaking, btnBgIntermediate]);\n        }\n\n        if (newState === SPEAKING) {\n          micTriangleIcon.style.opacity = 0;\n          micCircleIcon.style.opacity = 1;\n          micTriangleIcon.style.backgroundSize = '0% 0%';\n          micCircleIcon.style.backgroundSize = '100% 100%';\n        } else {\n          micCircleIcon.style.opacity = 0;\n          micCircleIcon.style.backgroundSize = '0% 0%';\n          micTriangleIcon.style.backgroundSize = '100% 100%';\n        }\n\n        if (newState === DEFAULT) {\n          micTriangleIcon.classList.add('triangleMicIconBg-default');\n        } else {\n          micTriangleIcon.classList.remove('triangleMicIconBg-default');\n        }\n\n        tempLogoParts = [logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10];\n\n        if (newState === LISTENING || newState === INTERMEDIATE || newState === SPEAKING || newState === UNDERSTOOD) {\n          if (logoState1.style.animationName === '') {\n            for (i = 0; i < tempLogoParts.length; i++) {\n              if (i === 0) {\n                tempLogoParts[i].style.opacity = 1;\n              } else {\n                tempLogoParts[i].style.opacity = 0;\n              }\n\n              tempLogoParts[i].style.animationName = 'logo-state-' + (i + 1) + '-animation';\n            }\n          }\n\n          defaultStateBtnIcon.style.opacity = 0;\n        } else {\n          defaultStateBtnIcon.style.opacity = 1;\n\n          for (i = 0; i < tempLogoParts.length; i++) {\n            tempLogoParts[i].style.opacity = 0;\n            tempLogoParts[i].style.animationName = '';\n          }\n        }\n\n        if (newState === LOW_VOLUME || newState === PERMISSION_DENIED || newState === NO_VOICE_SUPPORT) {\n          if (newState === LOW_VOLUME) {\n            rootEl.classList.add(\"alan-btn-low-volume\");\n            currentErrMsg = LOW_VOLUME_MSG;\n          } else if (newState === PERMISSION_DENIED) {\n            rootEl.classList.add(\"alan-btn-permission-denied\");\n            currentErrMsg = MIC_BLOCKED_MSG;\n          } else if (newState === NO_VOICE_SUPPORT) {\n            rootEl.classList.add(\"alan-btn-no-voice-support\");\n            currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n          }\n\n          if (newState === NO_VOICE_SUPPORT) {\n            noVoiceSupportMicIcon.style.opacity = 1;\n            lowVolumeMicIcon.style.opacity = 0;\n          } else {\n            noVoiceSupportMicIcon.style.opacity = 0;\n            lowVolumeMicIcon.style.opacity = 1;\n          }\n\n          micIcon.style.opacity = 0;\n          micTriangleIcon.style.opacity = 0;\n          disconnectedMicLoaderIcon.style.opacity = 0;\n          offlineIcon.style.opacity = 0;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n        } else if (newState === DISCONNECTED || newState === OFFLINE) {\n          if (newState === DISCONNECTED) {\n            rootEl.classList.add(\"alan-btn-disconnected\");\n          }\n\n          if (newState === OFFLINE) {\n            rootEl.classList.add(\"alan-btn-offline\");\n            currentErrMsg = OFFLINE_MSG;\n          }\n\n          micTriangleIcon.style.opacity = 0;\n          lowVolumeMicIcon.style.opacity = 0;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n\n          if (newState === DISCONNECTED) {\n            micIcon.style.opacity = .4;\n            disconnectedMicLoaderIcon.style.opacity = 1;\n          } else {\n            micIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 1;\n          }\n        } else {\n          lowVolumeMicIcon.style.opacity = 0;\n          offlineIcon.style.opacity = 0;\n          disconnectedMicLoaderIcon.style.opacity = 0;\n          rootEl.classList.remove(\"alan-btn-low-volume\");\n          rootEl.classList.remove(\"alan-btn-permission-denied\");\n          rootEl.classList.remove(\"alan-btn-disconnected\");\n          rootEl.classList.remove(\"alan-btn-offline\");\n          rootEl.classList.remove(\"alan-btn-no-voice-support\");\n        }\n\n        state = newState;\n      } //#endregion\n      //#region Helpers\n\n\n      function applyBgStyles(el, backgroundImage) {\n        el.style.transition = 'all 0.4s linear';\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.borderRadius = '50%';\n        el.style.zIndex = btnBgLayerZIndex;\n        el.style.backgroundPosition = '0 0';\n        el.style.opacity = 0;\n        el.style.opacity = 0;\n        el.style.transition = 'opacity 300ms ease-in-out';\n        el.style.animation = gradientAnimation;\n      }\n\n      function hideLayers(layers) {\n        for (var i = 0; i < layers.length; i++) {\n          layers[i].style.opacity = offOpacity;\n          layers[i].classList.add('super-hidden');\n        }\n      }\n\n      function changeBgColors(state) {\n        var tempBgLayers = [btnOval1, btnOval2];\n        var newStateName = state || DEFAULT;\n        var tempBgLayerClasses = ['alanBtn-oval-bg-' + DEFAULT, 'alanBtn-oval-bg-' + LISTENING, 'alanBtn-oval-bg-' + INTERMEDIATE, 'alanBtn-oval-bg-' + UNDERSTOOD, 'alanBtn-oval-bg-' + SPEAKING];\n\n        for (var i = 0; i < tempBgLayers.length; i++) {\n          for (var j = 0; j < tempBgLayerClasses.length; j++) {\n            tempBgLayers[i].classList.remove(tempBgLayerClasses[j]);\n          }\n\n          tempBgLayers[i].classList.add('alanBtn-oval-bg-' + newStateName);\n        }\n      }\n\n      function getStorageKey() {\n        var key = '';\n\n        if (options && options.key) {\n          key = options.key;\n        }\n\n        return 'alan-btn-options-' + key;\n      }\n\n      function isMobile() {\n        if (/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function isAudioSupported() {\n        var available = false,\n            fakeGetUserMedia,\n            fakeContext,\n            isAllowed = false;\n\n        if (window.location.protocol === 'https:') {\n          isAllowed = true;\n        }\n\n        if (window.location.protocol === 'file:') {\n          isAllowed = true;\n        }\n\n        if (window.location.protocol === 'http:' && window.location.hostname === 'localhost') {\n          isAllowed = true;\n        }\n\n        if (!isAllowed) {\n          return false;\n        }\n\n        fakeGetUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n        fakeContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;\n\n        if (fakeGetUserMedia && fakeContext) {\n          available = true;\n        }\n\n        return available;\n      } //#endregion\n      //#region Append layers to the rootEl\n\n\n      function showAlanBtn() {\n        rootEl.innerHTML = '';\n        textHolder.appendChild(textHolderTextWrapper);\n\n        if (!isTutorMode()) {\n          hintHolder.appendChild(hintHolderWrapper);\n          rootEl.appendChild(hintHolder);\n        }\n\n        rootEl.appendChild(textHolder);\n        rootEl.appendChild(btn);\n        btnDisabled = false;\n      }\n\n      function hideAlanBtn() {\n        if (!isTutorMode()) {\n          alanAudio.stop();\n          rootEl.innerHTML = '';\n\n          if (mode === 'demo') {\n            rootEl.appendChild(alanBtnDisabledMessage);\n          }\n\n          btnDisabled = true;\n        }\n      }\n\n      function showSpeach2TextPanel() {\n        hideS2TPanel = false;\n      }\n\n      function hideSpeach2TextPanel() {\n        hideS2TPanel = true;\n        hideRecognisedText();\n      }\n\n      function setUpHints(newHints) {\n        hints = newHints;\n      }\n\n      function applyBtnOptions(btnOptions) {\n        if (btnOptions) {\n          createAlanStyleSheet(btnOptions);\n        }\n      }\n\n      rootEl.classList.add(\"alanBtn-root\");\n      rootEl.classList.add(\"alan-\" + getProjectId());\n      var alanBtnSavedOptions = null;\n\n      if (isTutorMode()) {\n        showAlanBtn();\n      } else {\n        if (isLocalStorageAvailable) {\n          try {\n            tryReadSettingsFromLocalStorage();\n          } catch (e) {\n            showAlanBtn();\n          }\n        } else {\n          showAlanBtn();\n        }\n      }\n\n      function tryReadSettingsFromLocalStorage() {\n        if (isLocalStorageAvailable) {\n          try {\n            alanBtnSavedOptions = JSON.parse(localStorage.getItem(getStorageKey()));\n\n            if (alanBtnSavedOptions && alanBtnSavedOptions.web) {\n              if (alanBtnSavedOptions.web.btnOptions) {\n                applyBtnOptions(alanBtnSavedOptions.web.btnOptions);\n              }\n\n              if (alanBtnSavedOptions.web.hidden !== true) {\n                showAlanBtn();\n              } else {\n                hideAlanBtn();\n              }\n            }\n          } catch (e) {}\n        }\n      }\n\n      if (!options.rootEl) {\n        body.appendChild(rootEl);\n      } // showRecognisedText({})\n      //#endregion\n      //#region Drag-n-drop btn logic\n\n\n      var dndInitialMousePositions = [0, 0];\n      var dndIsDown = false;\n      var afterMouseMove = false;\n      var dndSideBtnPos = null;\n      var dndTopPos;\n      var dndBottomPos;\n      var dndFinalLeftPos;\n      var dndFinalRightPos;\n      var dndAnimDelay = 300;\n      var dndAnimTransition = dndAnimDelay + 'ms';\n      var dndBackAnimFinished = true;\n\n      if (!pinned) {\n        rootEl.addEventListener('mousedown', onMouseDown, true);\n        rootEl.addEventListener('touchstart', onMouseDown, {\n          passive: false\n        });\n        document.addEventListener('mouseup', onMouseUp, true);\n        document.addEventListener('touchend', onMouseUp, {\n          passive: false\n        });\n        document.addEventListener('mousemove', onMouseMove, true);\n        document.addEventListener('touchmove', onMouseMove, {\n          passive: false\n        });\n      }\n\n      function onMouseDown(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n        if (!dndBackAnimFinished) return;\n        dndIsDown = true;\n        rootEl.style.transition = '0ms';\n\n        if (!dndSideBtnPos) {\n          dndSideBtnPos = isLeftAligned ? rootEl.offsetLeft : window.innerWidth - rootEl.offsetLeft;\n        }\n\n        dndInitialMousePositions = [posInfo.clientX, posInfo.clientY];\n\n        if (isTopAligned) {\n          dndTopPos = +rootEl.style.top.replace('px', '');\n        } else {\n          dndBottomPos = +rootEl.style.bottom.replace('px', '');\n        }\n      }\n\n      function onMouseUp(e) {\n        var curPos;\n\n        if (dndIsDown) {\n          dndIsDown = false;\n          rootEl.style.transition = dndAnimTransition;\n\n          if (isLeftAligned) {\n            curPos = +rootEl.style.left.replace('px', '');\n          } else {\n            curPos = +rootEl.style.right.replace('px', '');\n          }\n\n          if (curPos <= window.innerWidth / 2) {\n            moveBtnToTheSameSide();\n          } else {\n            moveBtnToTheOppositeSide();\n          }\n\n          setTimeout(function () {\n            afterMouseMove = false;\n          }, 300);\n        }\n      }\n\n      function onMouseMove(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n\n        if (dndIsDown) {\n          e.preventDefault();\n          afterMouseMove = true;\n\n          if (isLeftAligned) {\n            dndFinalLeftPos = dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0];\n            dndFinalRightPos = window.innerWidth - dndFinalLeftPos;\n            rootEl.style.left = dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0] + 'px';\n          } else {\n            dndFinalRightPos = dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0];\n            dndFinalLeftPos = window.innerWidth - dndFinalRightPos;\n            rootEl.style.right = dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0] + 'px';\n          }\n\n          if (isTopAligned) {\n            rootEl.style.top = correctYPos(dndTopPos + posInfo.clientY - dndInitialMousePositions[1]) + 'px';\n          } else {\n            rootEl.style.bottom = correctYPos(dndBottomPos - posInfo.clientY + dndInitialMousePositions[1]) + 'px';\n          }\n        }\n      }\n\n      function correctYPos(yPos) {\n        var defDelta = 10;\n\n        if (yPos < 0) {\n          return defDelta;\n        } else if (yPos > window.innerHeight - btnSize - defDelta) {\n          return window.innerHeight - btnSize - defDelta;\n        }\n\n        return yPos;\n      }\n\n      function changeBtnSide(side) {\n        if (side === 'to-left') {\n          rootEl.style.right = '';\n          isLeftAligned = true;\n          isRightAligned = false;\n        } else {\n          rootEl.style.left = '';\n          isLeftAligned = false;\n          isRightAligned = true;\n        }\n\n        setStylesBasedOnSide();\n      }\n\n      function moveBtnToTheSameSide() {\n        rootEl.style.transition = dndAnimTransition;\n        rootEl.style[isLeftAligned ? 'left' : 'right'] = dndSideBtnPos + 'px';\n      }\n\n      function moveBtnToTheOppositeSide() {\n        var finalBtnPos = window.innerWidth - dndSideBtnPos - btnSize + 'px';\n        dndBackAnimFinished = false;\n\n        if (isLeftAligned) {\n          rootEl.style.left = finalBtnPos;\n          setTimeout(function () {\n            rootEl.style.right = dndSideBtnPos + 'px';\n            changeBtnSide('to-right');\n            dndBackAnimFinished = true;\n          }, dndAnimDelay);\n        } else {\n          rootEl.style.right = finalBtnPos;\n          setTimeout(function () {\n            rootEl.style.left = dndSideBtnPos + 'px';\n            changeBtnSide('to-left');\n            dndBackAnimFinished = true;\n          }, dndAnimDelay);\n        }\n      } //#endregion\n\n\n      return btnInstance;\n    }\n\n    ns.alanBtn = alanBtn;\n  })(window);\n\n  return alanBtn;\n});","map":{"version":3,"sources":["C:/Users/hp/Downloads/NewsApp-master/node_modules/@alan-ai/alan-sdk-web/index.js"],"names":["root","factory","define","amd","exports","module","alanBtn","ns","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","mediaDevices","console","error","isAudio","obj","Float32Array","AudioQueue","_queue","prototype","write","float32arrayOrEvent","push","_fetchData","length","fireEvent","shift","read","samples","r","subarray","res","idx","len","Math","min","i","PLAY_IDLE","PLAY_ACTIVE","handlers","micStream","audioQueue","audioPlayback","audioPlayGain","audioRecorder","audioSource","frameSize","silence","playState","audioCtx","totalSamples","sampleRate","firstSampleTs","frameCount","window","AudioContext","webkitAudioContext","event","o1","o2","h","onGetUserMedia","mic","log","state","resume","createMediaStreamSource","createScriptProcessor","connect","onaudioprocess","e","recordFrame","inputBuffer","getChannelData","destination","onGetUserMediaError","err","sr","float32array","Date","now","audioTime","clockTime","isPlaying","playCommand","play","frames","on","handler","off","index","indexOf","splice","start","onStarted","audio","then","f","outputBuffer","set","createGain","stop","getTracks","track","getAudioTracks","disconnect","alanAudio","host","config","baseURL","location","codec","version","platform","ConnectionWrapper","_this","_worker","Worker","URL","createObjectURL","Blob","type","onmessage","data","_fire","_callback","_dialogId","onerror","filename","lineno","message","_handlers","_cleanups","_callIds","_config","getSettings","server","projectId","dialogId","setVisual","postMessage","call","method","param","callback","cid","close","_url","forEach","object","_addCleanup","fillAuth","values","ext","auth","k","platformVersion","connectProject","mode","url","forwardAudioEvent","name","a1","a2","connectProjectTest","connectTutor","alan","projectTest","project","tutor","options","btnDisabled","hideS2TPanel","pinned","btnInstance","setVisualState","visualState","tutorProject","callProjectApi","funcName","funcNamePrefix","Error","playText","text","command","activate","activateAlanButton","deactivate","isActive","isAlanActive","callClientApi","setAuthData","key","getAuthData","onConnectStatusChange","onOptionsReceived","setOptions","btnOptions","applyBtnOptions","setPreviewState","switchState","remove","rootEl","updateButtonState","baseUrl","DEFAULT","LISTENING","SPEAKING","INTERMEDIATE","UNDERSTOOD","DISCONNECTED","OFFLINE","LOW_VOLUME","PERMISSION_DENIED","NO_VOICE_SUPPORT","MIC_BLOCKED_MSG","NO_VOICE_SUPPORT_IN_BROWSER_MSG","LOW_VOLUME_MSG","OFFLINE_MSG","currentErrMsg","NO_VOICE_SUPPORT_IN_BROWSER_CODE","MIC_BLOCKED_CODE","PREVIEW_MODE_CODE","BTN_IS_DISABLED_CODE","NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE","previousState","isAlanSpeaking","isLeftAligned","isRightAligned","isTopAligned","isBottomAligned","hints","hintsTimerId","insideHintsAnimationIntervalId","hintsRequestIntervalId","hintAppearTimeoutId","removeTextHintTimeoutId","hoverShowHintTimeoutId","hoverHideHintTimeoutId","doNotShowHints","hintVisible","recognisedTextVisible","textHolderWidth","hintHolderWidth","hintCloserRightPos","isHintWasPreviously","defaultHintLabel","listeningHintLabel","turnOffTimeout","turnOffVoiceFn","setTurnOffVoiceTimeout","debounce","switchToLowVolumeStateTimer","pulsatingAnimation","pulsatingMicAnimation","pulsatingTriangleMicAnimation","isPreviewMode","gradientAnimation","disconnectedLoaderAnimation","document","createElement","body","getElementsByTagName","btn","defaultStateBtnIconImg","micTriangleIconImg","micCircleIconImg","micIcon","defaultStateBtnIcon","logoState1","logoState2","logoState3","logoState4","logoState5","logoState6","logoState7","logoState8","logoState9","logoState10","micTriangleIcon","micCircleIcon","disconnectedMicLoaderIcon","lowVolumeMicIcon","noVoiceSupportMicIcon","offlineIcon","textHolder","textHolderTextWrapper","alanBtnDisabledMessage","hintHolder","hintHolderWrapper","soundOnAudioDoesNotExist","soundOffAudioDoesNotExist","soundOnAudio","Audio","soundOffAudio","addEventListener","closeHint","btnBgDefault","btnBgListening","btnBgSpeaking","btnBgIntermediate","btnBgUnderstood","btnOval1","btnOval2","btnSize","sideBtnPos","bottomBtnPos","topBtnPos","btnZIndex","btnIconsZIndex","btnTextPanelsZIndex","btnBgLayerZIndex","isLocalStorageAvailable","localStorage","getItem","updateOnlineStatus","onLine","getDefaultBtnState","isAudioSupported","btnModes","rightPos","leftPos","bottomPos","topPos","waveVerticalPositionRatio","waveCanvasWidth","waveCanvasHeight","size","isTutorMode","left","top","setDefautlPositionProps","right","bottom","value","test","zIndex","style","position","undefined","textHolderDefaultBorderColor","textHolderDefaultBoxShadow","classList","add","setInnerPositionBasedOnOptions","textAlign","float","height","minHeight","maxHeight","borderRadius","borderColor","boxShadow","paddingLeft","paddingRight","borderTopRightRadius","borderBottomRightRadius","backgroundColor","color","width","fontSize","padding","innerText","el","setStylesBasedOnSide","minWidth","maxWidth","transition","tabIndex","cursor","setUpStylesForLogoParts","logos","pointerEvents","animationIterationCount","animationDuration","animationTimingFunction","opacity","appendChild","src","overflow","backgroundSize","backgroundPosition","backgroundRepeat","animation","ovalCoefficient","defaultBtnColorOptions","transform","filter","applyBgStyles","onOpacity","offOpacity","allIcons","setAttribute","hideLayers","isMobile","createAlanStyleSheet","getStyleSheetMarker","andFlag","getProjectId","keyFrames","existingStyleSheet","shadowDOM","getElementById","disabled","parentNode","removeChild","generateKeyFrame","predefinedBtnColorOptions","btnLayerOptions","btnBackgroundOptionKeys","Object","keys","tempLayer","stateName","stateMapping","idle","listen","process","reply","stateNameClasses","stateNameClass","states","j","background","hover","innerHTML","prepend","rule","prefixes","tryReadSettingsFromLocalStorage","authData","guid","s4","floor","random","toString","substring","curUuid","uuidKey","uuid","setItem","substr","func","wait","timeout","delay","args","clearTimeout","setTimeout","apply","_activateAlanButton","resolve","playSoundOn","onBeforeMicStart","onMicStart","onMicStop","onMicFail","onPlayStart","onPlayStop","onCommandCbInMicBtn","onMicStarted","activatePromise","Promise","reject","waitForConnectionForActivateCall","afterMouseMove","dndBackAnimFinished","alert","blur","showRecognisedText","forceOnMobile","recognisedText","hideRecognizedText","replaceRecognisedText","hideRecognisedText","showHints","hintId","clearInterval","setInterval","hintList","outerHTML","getHintList","requestHints","className","getHintHeader","getHintsHtml","hideHints","clickedEl","target","shuffle","array","currentIndex","temporaryValue","randomIndex","label","hintsHtml","hintItems","hintsLength","shuffledHints","hintsClass","hintClass","web","hidden","hideAlanBtn","showAlanBtn","hideSpeach2TextPanel","showSpeach2TextPanel","info","getStorageKey","JSON","stringify","onConnectionStatus","setUpHints","onTextCbInMicBtn","onParsedCbInMicBtn","onRecognizedCbInMicBtn","playSoundOff","onMicStopped","onReceiveRecognisedText","final","onCommand","catch","newState","tempLogoParts","changeBgColors","animationName","backgroundImage","layers","tempBgLayers","newStateName","tempBgLayerClasses","userAgent","available","fakeGetUserMedia","fakeContext","isAllowed","protocol","hostname","mozAudioContext","newHints","alanBtnSavedOptions","parse","dndInitialMousePositions","dndIsDown","dndSideBtnPos","dndTopPos","dndBottomPos","dndFinalLeftPos","dndFinalRightPos","dndAnimDelay","dndAnimTransition","onMouseDown","passive","onMouseUp","onMouseMove","posInfo","touches","offsetLeft","innerWidth","clientX","clientY","replace","curPos","moveBtnToTheSameSide","moveBtnToTheOppositeSide","preventDefault","correctYPos","yPos","defDelta","innerHeight","changeBtnSide","side","finalBtnPos"],"mappings":"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","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.alanBtn = factory();\n  }\n}(this, function() {\n(function(ns) {\n    \"use strict\";\n\n    navigator.getUserMedia = (navigator.getUserMedia ||\n                              navigator.webkitGetUserMedia ||\n                              navigator.mozGetUserMedia ||\n                              navigator.msGetUserMedia ||\n                              (navigator.mediaDevices && navigator.mediaDevices.getUserMedia));\n\n    if (!navigator.getUserMedia) {\n        console.error(\"getUserMedia is not supported\");\n    }\n\n    function isAudio(obj) {\n       return obj instanceof Float32Array;\n    }\n\n    function AudioQueue() {\n        this._queue = [];\n    }\n\n    AudioQueue.prototype.write = function(float32arrayOrEvent) {\n        this._queue.push(float32arrayOrEvent);\n    };\n\n    AudioQueue.prototype._fetchData = function() {\n        while (this._queue.length && !isAudio(this._queue[0])) {\n            fireEvent('command', this._queue.shift());\n        }\n        return this._queue.length;\n    };\n\n    AudioQueue.prototype.read = function(samples) {\n        if (!this._fetchData()) {\n            return null;\n        }\n        if (samples === this._queue[0].length) {\n            return this._queue.shift();\n        }\n        if (samples < this._queue[0].length) {\n            var r = this._queue[0].subarray(0, samples);\n            this._queue[0] = this._queue[0].subarray(samples, this._queue[0].length);\n            return r;\n        }\n        var res = new Float32Array(samples);\n        var idx = 0;\n        while (idx < samples && this._queue.length > 0) {\n            if (!this._fetchData()) {\n                break;\n            }\n            var len = Math.min(samples - idx, this._queue[0].length);\n            for (var i = 0; i < len; i++ ) {\n                res[idx + i] = this._queue[0][i];\n            }\n            idx += len;\n            if (len === this._queue[0].length) {\n                this._queue.shift();\n            } else {\n                this._queue[0] = this._queue[0].subarray(len, this._queue[0].length);\n            }\n        }\n        return res;\n    };\n\n    var PLAY_IDLE      = 'idle';\n    var PLAY_ACTIVE    = 'active';\n\n    var handlers       = {};\n    var micStream      = null;\n    var audioQueue     = new AudioQueue();\n    var audioPlayback  = null;\n    var audioPlayGain  = null;\n    var audioRecorder  = null;\n    var audioSource    = null;\n    var frameSize      = 4096;\n    var silence        = new Float32Array(frameSize);\n    var playState      = PLAY_IDLE;\n    var audioCtx       = null;\n    var totalSamples   = 0;\n    var sampleRate     = 0;\n    var firstSampleTs  = 0;\n    var frameCount     = 0;\n\n    if (window.AudioContext) {\n        audioCtx = new window.AudioContext();\n    }\n\n    if (window.webkitAudioContext) {\n        audioCtx = new window.webkitAudioContext();\n    }\n\n    function fireEvent(event, o1, o2) {\n        var h = handlers[event];\n        if (h) {\n            for (var i = 0; i < h.length; i++ ) {\n                h[i](o1, o2);\n            }\n        }\n    }\n\n    function onGetUserMedia(mic) {\n        console.log('got microphone');\n        fireEvent('micStart', mic);\n        micStream = mic;\n\n        if (audioCtx.state === 'suspended') {\n            audioCtx.resume();\n        }\n\n        audioSource   = audioCtx.createMediaStreamSource(micStream);\n        audioRecorder = audioCtx.createScriptProcessor(frameSize, 1, 1);\n        audioSource.connect(audioRecorder);\n        audioRecorder.onaudioprocess = function(e) {\n            if (micStream === mic) {\n                recordFrame(audioCtx.sampleRate, e.inputBuffer.getChannelData(0));\n            }\n        };\n        audioRecorder.connect(audioCtx.destination);\n    }\n\n    function onGetUserMediaError(err) {\n        console.error('failed to get microphone', err);\n        fireEvent('micFail', err);\n    }\n\n    function recordFrame(sr, float32array) {\n        if (sampleRate !== sr) {\n            sampleRate = sr;\n            firstSampleTs = Date.now();\n            totalSamples = 0;\n            frameCount = 0;\n        }\n        totalSamples += float32array.length;\n        if (++frameCount >= 300) {\n            frameCount = 0;\n            var audioTime = (1000 * totalSamples) / sampleRate;\n            var clockTime = Date.now() - firstSampleTs;\n            console.log(\"audioTime: \"   + audioTime +\n                        \", clockTime: \" + clockTime +\n                        \", ratio a/c: \" + audioTime / clockTime);\n        }\n        fireEvent('frame', sampleRate, float32array);\n    }\n\n    ns.isPlaying = function() {\n        return playState === PLAY_ACTIVE;\n    };\n\n    ns.playCommand = function(event) {\n        if (!audioPlayback) {\n            fireEvent('command', event);\n            return;\n        }\n        audioQueue.write(event);\n    };\n\n    ns.play = function(frames) {\n        if (!audioPlayback) {\n            return;\n        }\n        for (var i = 0; i < frames.length; i++ ) {\n            audioQueue.write(frames[i]);\n        }\n    };\n\n    ns.on = function(event, handler) {\n        var h = handlers[event];\n        if (h == null) {\n            handlers[event] = [handler];\n        } else {\n            h.push(handler);\n        }\n    };\n\n    ns.off = function(event, handler) {\n        var h = handlers[event];\n        if (h) {\n            var index = h.indexOf(handler);\n            if (index >= 0) {\n                h.splice(index, 1);\n            }\n        }\n    };\n\n    ns.sampleRate = function() {\n        return sampleRate;\n    };\n\n    ns.start = function(onStarted) {\n            if (!micStream) {\n                if (navigator.mediaDevices) {\n                    navigator.mediaDevices.getUserMedia({audio: true}).then(onGetUserMedia, onGetUserMediaError);\n                } else {\n                    navigator.getUserMedia({audio: true}, onGetUserMedia, onGetUserMediaError);\n                }\n            }\n            if (!audioPlayback) {\n                audioPlayback = audioCtx.createScriptProcessor(frameSize, 1, 1);\n                audioPlayback.onaudioprocess = function(e) {\n                    var f = audioQueue.read(frameSize);\n                    if (!f) {\n                        if (playState === PLAY_ACTIVE) {\n                            playState = PLAY_IDLE;\n                            fireEvent('playStop');\n                        }\n                        f = silence;\n                    } else {\n                        if (playState === PLAY_IDLE) {\n                            playState = PLAY_ACTIVE;\n                            fireEvent('playStart');\n                        }\n                    }\n                    if (onStarted) {\n                        onStarted();\n                        onStarted = null;\n                    }\n                    e.outputBuffer.getChannelData(0).set(f);\n                };\n                audioPlayGain = audioCtx.createGain();\n                audioPlayback.connect(audioPlayGain);\n                audioPlayGain.connect(audioCtx.destination);\n            } else {\n                if (onStarted) {\n                    onStarted();\n                    onStarted = null;\n                }\n            } \n    };\n\n    ns.stop = function() {\n        sampleRate = -1;\n        if (micStream) {\n            for (var i = 0; i < micStream.getTracks().length; i++) {\n                var track = micStream.getAudioTracks()[0];\n                if (track) {\n                    track.stop();\n                }\n            }\n            micStream = null;\n            fireEvent('micStop');\n        }\n        if (audioSource) {\n            audioSource.disconnect();\n            audioSource = null;\n        }\n        if (audioRecorder) {\n            audioRecorder.disconnect();\n            audioRecorder = null;\n        }\n        if (audioPlayback) {\n            audioPlayback.disconnect();\n            audioPlayback = null;\n        }\n        if (audioPlayGain) {\n            audioPlayGain.disconnect();\n            audioPlayGain = null;\n        }\n        audioQueue = new AudioQueue();\n        playState = PLAY_IDLE;\n    };\n\n})(typeof(window) !== 'undefined' ? (function() {window.alanAudio = {}; return window.alanAudio})() : exports);\n\n(function(ns) {\n    \"use strict\";\n\n    var host = 'studio.alan.app';\n\n    var config = {\n        // baseURL: (window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\") +\n        baseURL: \"wss://\" +\n            ((host.indexOf('$') === 0 || host === '') ? window.location.host : host ),\n        codec: 'opus',\n        version: '1.0.9',\n        platform: 'web',\n    };\n\n    function ConnectionWrapper() {\n        var _this = this;\n        this._worker = new Worker(window.URL.createObjectURL(new Blob([\"'use strict';importScripts(    'https://studio.alan.app/js/alan_frame.js',    'https://studio.alan.app/js/alan_codec.js',    'https://studio.alan.app/js/libopus.js');var ALAN_OFF       = 'off';var ALAN_SPEAKING  = 'speaking';var ALAN_LISTENING = 'listening';function ConnectionImpl(config, auth, mode) {    var _this = this;    this._config = config;    this._auth = auth;    this._mode = mode;    this._projectId = config.projectId;    this._url = config.url;    this._connected = false;    this._authorized = false;    this._dialogId = null;    this._callId = 1;    this._callSent = {};    this._callWait = [];    this._failed = false;    this._closed = false;    this._reconnectTimeout = 100;    this._cleanups = [];    this._sampleRate = -1;    this._format = null;    this._formatSent = false;    this._frameQueue = [];    this._remoteSentTs = 0;    this._remoteRecvTs = 0;    this._rtt = 25;    this._rttAlpha = 1./16;    this._alanState = ALAN_OFF;    this._sendTimer = setInterval(_this._flushQueue.bind(_this), 100);    this._visualState = {};    this._addCleanup(function() {clearInterval(_this._sendTimer);});    this._connect();    console.log('Alan: connection created: ' + this._url);}ConnectionImpl.prototype._addCleanup = function(f) {    this._cleanups.push(f);};ConnectionImpl.prototype._onConnectStatus = function(s) {    console.log('Alan: connection status: ' + s);    this._fire('connectStatus', s);};ConnectionImpl.prototype._fire = function(event, object) {    if (event === 'options') {        if (object.versions) {            object.versions['alanbase:web'] = this._config.version;        }    }    postMessage(['fireEvent', event, object]);};ConnectionImpl.prototype._connect = function() {    var _this = this;    if (this._socket) {        console.error('socket is already connected');        return;    }    console.log('Alan: connecting to ' + this._url);    this._socket = new WebSocket(this._url);    this._socket.binaryType = 'arraybuffer';    this._decoder = alanCodec.decoder('pcm', 16000);    this._socket.onopen = function(e) {        console.info('Alan: connected', e.target === _this._socket);        _this._connected = true;        _this._reconnectTimeout = 100;        _this._fire('connection', {status: 'connected'});        if (_this._auth) {            _this._fire('connection', {status: 'authorizing'});            _this._callAuth();        } else {            _this._callWait.forEach(function(c) {  _this._sendCall(c); });            _this._callWait = [];        }    };    this._socket.onmessage = function(msg) {        if (msg.data instanceof ArrayBuffer) {            var f = alanFrame.parse(msg.data);            if (f.sentTs > 0) {                _this._remoteSentTs = f.sentTs;                _this._remoteRecvTs = Date.now();            } else {                _this._remoteSentTs = null;                _this._remoteRecvTs = null;            }            var rtt = 0;            if (f.remoteTs) {                rtt = Date.now() - f.remoteTs;            }            _this._rtt = _this._rttAlpha * rtt  + (1 - _this._rttAlpha) * _this._rtt;            var frames = _this._decoder(f.audioData);            postMessage(['alanAudio', 'playFrame', frames]);        } else if (typeof(msg.data) === 'string') {            msg = JSON.parse(msg.data);            if (msg.i) {                var c = _this._callSent[msg.i];                delete _this._callSent[msg.i];                if (c && c.callback) {                    c.callback(msg.e, msg.r);                }            } else if (msg.e) {                if (msg.e === 'command') {                    postMessage(['alanAudio', 'playCommand', msg.p]);                } else if (msg.e === 'inactivity') {                    postMessage(['alanAudio', 'stop']);                } else {                    _this._fire(msg.e, msg.p);                }            }        } else {            console.error('invalid message type');        }    };    this._socket.onerror = function(evt) {        console.error('Alan: connection closed due to error: ', evt);    };    this._socket.onclose = function(evt) {        console.info('Alan: connection closed');        _this._connected = false;        _this._authorized = false;        _this._socket = null;        _this._onConnectStatus('disconnected');        if (!_this._failed && _this._reconnectTimeout && !_this._closed) {            console.log('Alan: reconnecting in %s ms.', _this._reconnectTimeout);            _this._reConnect = setTimeout(_this._connect.bind(_this), _this._reconnectTimeout);            if (_this._reconnectTimeout < 3000) {                _this._reconnectTimeout *= 2;            } else {                _this._reconnectTimeout += 500;            }            _this._reconnectTimeout = Math.min(7000, _this._reconnectTimeout);        }    };    this._addCleanup(function() {        if (this._socket) {            this._socket.close();            this._socket = null;        }    });};ConnectionImpl.prototype._callAuth = function() {    var _this = this;    var callback = function(err, r) {        if (!err && r.status === 'authorized') {            _this._authorized = true;            _this._formatSent = false;            if (r.dialogId) {                postMessage(['setDialogId', r.dialogId]);                _this._dialogId = r.dialogId;            }            _this._onAuthorized();            _this._onConnectStatus('authorized');        } else if (err === 'auth-failed') {            _this._onConnectStatus('auth-failed');            if (_this._socket) {                _this._socket.close();                _this._socket = null;                _this._failed = true;            }        } else {            _this._onConnectStatus('invalid-auth-response');            console.log('Alan: invalid auth response', err, r);        }    };    var authParam = this._auth;    authParam.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;    if (this._dialogId) {        authParam.dialogId = this._dialogId;    }    authParam.mode = this._mode;    this._sendCall({cid: this._callId++, method: '_auth_', callback: callback, param: authParam});    return this;};ConnectionImpl.prototype._sendCall = function(call) {    this._socket.send(JSON.stringify({i: call.cid, m: call.method, p: call.param}));    if (call.callback) {        this._callSent[call.cid] = call;    }};ConnectionImpl.prototype._onAuthorized = function() {    console.log('Alan: authorized');    if (this._visualState) {        this.call(null, '_visual_', this._visualState);    }    var _this = this;    this._callWait.forEach(function(c) {        _this._sendCall(c);    });    this._callWait = [];};ConnectionImpl.prototype.close = function() {    for (var i = 0; i < this._cleanups.length; i++ ) {        this._cleanups[i]();    }    this._cleanups = [];    this._closed = true;        if (this._socket && (this._socket.readyState === WebSocket.OPEN || this._socket.readyState === WebSocket.CONNECTING)) {        this._socket.close();        this._socket = null;    }    console.log('Alan: closed connection to: ' + this._url);    close();};ConnectionImpl.prototype.call = function(cid, method, param) {    var call = {cid: cid, method: method, param: param, callback: function(err, obj) {        if (cid) {            postMessage(['callback', cid, err, obj]);        }    }};    if (this._authorized || this._connected && !this._auth) {        this._sendCall(call);    } else {        this._callWait.push(call);    }};ConnectionImpl.prototype.setVisual = function(state) {    this._visualState = state;    this.call(null, '_visual_', state);};ConnectionImpl.prototype._sendFrame = function(frame) {    if (!this._socket) {        console.error('sendFrame to closed socket');        return;    }    frame.sentTs = Date.now();    if (this._remoteSentTs > 0 && this._remoteRecvTs > 0) {        frame.remoteTs = this._remoteSentTs + Date.now() - this._remoteRecvTs;    }    this._socket.send(frame.write());};ConnectionImpl.prototype._listen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'listen'});    this._frameQueue.push(f);    this._alanState = ALAN_LISTENING;};ConnectionImpl.prototype._stopListen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'stopListen'});    this._frameQueue.push(f);    this._alanState = ALAN_OFF;};ConnectionImpl.prototype._onMicFrame = function(sampleRate, frame) {    if (this._alanState === ALAN_SPEAKING) {        return;    }    if (this._alanState === ALAN_OFF) {        this._listen();    }    if (this._alanState !== ALAN_LISTENING) {        console.error('invalid alan state: ' + this._alanState);        return;    }    if (this._sampleRate !== sampleRate) {        this._sampleRate = sampleRate;        this._encoder = alanCodec.encoder(this._config.codec, 48000);        this._formatSent = false;        this._format = {            send: {codec: this._config.codec, sampleRate: sampleRate},            recv: {codec: 'pcm_s16le', sampleRate: 16000},            timeout: this._timeout,        };    }    var p = this._encoder(frame);    for (var i = 0; i < p.length; i++ ) {        var f = alanFrame.create();        f.audioData = p[i];        this._frameQueue.push(f);    }};ConnectionImpl.prototype._flushQueue = function() {    if (!this._socket || !this._connected) {        var d = 0;        while (this._frameQueue.length > 100 && !this._frameQueue[0].jsonData) {            this._frameQueue.shift();            d++;        }        if (d > 0) {            console.error('dropped: %s, frames', d);        }        return;    }    while (this._frameQueue.length > 0 && this._socket && this._socket.bufferedAmount < 64 * 1024) {        if (!this._formatSent && this._format) {            var frame = alanFrame.create();            frame.jsonData = JSON.stringify({format: this._format});            this._sendFrame(frame);            this._formatSent = true;        }        this._sendFrame(this._frameQueue.shift());    }};function connectProject(config, auth, mode) {    var c = new ConnectionImpl(config, auth, mode);    c.onAudioEvent = function(event, arg1, arg2) {        if (event === 'frame') {            c._onMicFrame(arg1, arg2);        } else if (event === 'micStop' || event === 'playStart') {            c._stopListen();        } else {            console.error('unknown audio event: ' + event, arg1, arg2);        }    };    return c;}var factories = {    connectProject: connectProject,};var currentConnect = null;onmessage = function(e) {    var name = e.data[0];    try {        if (!currentConnect) {            currentConnect = factories[name].apply(null, e.data.slice(1, e.data.length));        } else {            currentConnect[name].apply(currentConnect, e.data.slice(1, e.data.length));        }    } catch(e) {        console.error('error calling: ' + name, e);    }};\"]),{type: 'text/javascript'}));\n        this._worker.onmessage = function(e) {\n            if (e.data[0] === 'fireEvent') {\n                _this._fire(e.data[1], e.data[2]);\n                return;\n            }\n            if (e.data[0] === 'alanAudio') {\n                if (e.data[1] === 'playFrame') {\n                    alanAudio.play(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'playCommand') {\n                    alanAudio.playCommand(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'stop') {\n                    alanAudio.stop();\n                    return;\n                }\n            }\n            if (e.data[0] === \"callback\") {\n                _this._callback[e.data[1]](e.data[2], e.data[3]);\n                delete _this._callback[e.data[1]];\n                return;\n            }\n            if (e.data[0] === \"setDialogId\") {\n                _this._dialogId = e.data[1];\n                return;\n            }\n            console.error(\"invalid event\", e.data);\n        };\n        this._worker.onerror = function(e) {\n            console.error(\"error in worker: \" + e.filename + \":\" + e.lineno + \" - \" +  e.message);\n        };\n        this._handlers = {};\n        this._cleanups = [];\n        this._callback = {};\n        this._callIds  = 1;\n        this._config   = {};\n    }\n\n    ConnectionWrapper.prototype.on = function(event, handler) {\n        var h = this._handlers[event];\n        if (!h) {\n            h = [];\n            this._handlers[event] = h;\n        }\n        h.push(handler);\n    };\n\n    ConnectionWrapper.prototype.off = function(event, handler) {\n        var h = this._handlers[event];\n        if (h) {\n            var index = h.indexOf(handler);\n            if (index >= 0) {\n                h.splice(index, 1);\n            }\n        }\n    };\n\n    ConnectionWrapper.prototype.getSettings = function() {\n        return {\n            server: config.baseURL,\n            projectId: this._config.projectId,\n            dialogId: this._dialogId,\n        };\n    };\n\n    ConnectionWrapper.prototype.setVisual = function(state) {\n        this._worker.postMessage(['setVisual', state]);\n    };\n\n    ConnectionWrapper.prototype.call = function(method, param, callback) {\n        var cid = null;\n        if (callback) {\n            cid = this._callIds++;\n            this._callback[cid] = callback;\n        }\n        this._worker.postMessage(['call', cid, method, param]);\n    };\n\n    ConnectionWrapper.prototype.close = function() {\n        console.log('closing connection to: ' + this._url);\n        this._cleanups.forEach(h=> { h();});\n        this._worker.postMessage(['close']);\n    };\n\n    ConnectionWrapper.prototype._fire = function(event, object) {\n        var h = this._handlers[event];\n        if (h) {\n            for (var i = 0; i < h.length; i++ ) {\n                h[i](object);\n            }\n        }\n    };\n\n    ConnectionWrapper.prototype._addCleanup = function(f) {\n        this._cleanups.push(f);\n    };\n\n    function fillAuth(values, ext) {\n        var auth = {};\n        for (var k in values) {\n            auth[k] = values[k];\n        }\n\n        if (!ext || (ext && ext.platform == null)) {\n            auth.platform = config.platform;\n        } else {\n            auth.platform = config.platform + \":\" + ext.platform;\n        }\n        if (!ext || (ext && ext.platformVersion == null)) {\n            auth.platformVersion = config.version;\n        } else {\n            auth.platformVersion = config.version + \":\" + ext.platformVersion;\n        }\n        return auth;\n    }\n                            \n    function connectProject(projectId, auth,  host, mode, ext) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.projectId = projectId;\n        connect._config.codec     = config.codec;\n        connect._config.version   = config.version;\n        connect._config.url       = config.baseURL + \"/ws_project/\" + projectId;\n        connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n        function forwardAudioEvent(name) {\n            function handler(a1, a2) {\n                if (name === 'frame'  && alanAudio.isPlaying()) {\n                    return;\n                }\n                connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n            }\n            alanAudio.on(name, handler);\n            connect._addCleanup(function() {\n                alanAudio.off(name,  handler);\n            });\n        }\n        forwardAudioEvent('frame');\n        forwardAudioEvent('micStop');\n        //forwardAudioEvent('playStop');\n        forwardAudioEvent('playStart');\n        return connect;\n    }\n\n    function connectProjectTest(projectId, auth,  host, mode, ext) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.projectId = projectId;\n        connect._config.codec     = config.codec;\n        connect._config.version   = config.version;\n        connect._config.url       = config.baseURL + \"/ws_project/\" + projectId;\n        connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n        return connect;\n    }\n\n    function connectTutor(auth, host) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.version = config.version;\n        connect._config.url = config.baseURL + \"/ws_tutor\";\n        connect._worker.postMessage([\"connectProject\", connect._config, auth]);\n        return connect;\n    }\n\n    ns.alan = {\n        projectTest: connectProjectTest,\n        project: connectProject,\n        tutor: connectTutor,\n    };\n\n})(window);\n\n(function(ns) {\n    \"use strict\";\nfunction alanBtn(options) {\n\n    options = options || {};\n\n    var btnDisabled = false;\n    var hideS2TPanel = false;\n    var pinned = false;\n\n    var btnInstance = {\n        // Common public API\n        setVisualState: function (visualState) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.setVisual(visualState);\n            }\n        },\n        callProjectApi: function (funcName, data, callback) {\n            var funcNamePrefix = 'script::';\n            if (btnDisabled) {\n                return;\n            }\n            if (!funcName) {\n                throw new Error('Function name for callProjectApi must be provided');\n            }\n\n            if (window.tutorProject) {\n                if (funcName.indexOf(funcNamePrefix) === 0) {\n                    window.tutorProject.call(funcName, data, callback);\n                } else {\n                    window.tutorProject.call(funcNamePrefix + funcName, data, callback);\n                }\n            }\n        },\n        playText: function (text) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.call('play', {\n                    text: text\n                });\n            }\n        },\n        playCommand: function (command) {\n            if (btnDisabled) {\n                return;\n            }\n\n            alanAudio.playCommand({\n                data: command\n            });\n        },\n        activate: function () {\n            return activateAlanButton();\n        },\n        deactivate: function () {\n            if (btnDisabled) {\n                return;\n            }\n\n            alanAudio.stop();\n        },\n        isActive: function () {\n            return isAlanActive;\n        },\n        //deprecated\n        callClientApi: function (method, data, callback) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.call(method, data, callback);\n            }\n        },\n        // deprecated\n        setAuthData: function (data) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.close();\n                window.tutorProject = alan.project(options.key, getAuthData(data), options.host);\n                window.tutorProject.on('connectStatus', onConnectStatusChange);\n                window.tutorProject.on('options', onOptionsReceived);\n            }\n        },\n        // Other methods\n        setOptions: function (btnOptions) {\n            applyBtnOptions(btnOptions);\n        },\n        setPreviewState: function (state) {\n            switchState(state);\n        },\n        remove: function () {\n            alanAudio.stop();\n            window.tutorProject.close();\n            rootEl.remove();\n        },\n        stop: function () {\n            alanAudio.stop();\n        },\n        updateButtonState: function (state) {\n            onConnectStatusChange(state);\n        }\n    };\n\n\n    //Host\n    var host = 'studio.alan.app';\n    var baseUrl = 'https://' + ((host.indexOf('$') === 0 || host === '') ? window.location.host : host);\n\n    if (options.host) {\n        baseUrl = 'https://' + options.host;\n    }\n\n    // Btn modes\n    var mode;\n\n    if (options.mode === 'tutor') {\n        mode = 'tutor';\n        pinned = true;\n    } else if (options.mode === 'tutor-preview') {\n        mode = 'tutor-preview';\n        pinned = true;\n    } else if (options.mode === 'demo') {\n        mode = 'demo';\n    } else {\n        mode = 'component';\n    }\n\n    // Btn states\n    var DEFAULT = 'default';\n    var LISTENING = 'listening';\n    var SPEAKING = 'speaking';\n    var INTERMEDIATE = 'intermediate';\n    var UNDERSTOOD = 'understood';\n    var DISCONNECTED = 'disconnected';\n    var OFFLINE = 'offline';\n    var LOW_VOLUME = 'lowVolume';\n    var PERMISSION_DENIED = 'permissionDenied';\n    var NO_VOICE_SUPPORT = 'noVoiceSupport';\n\n    // Error messages\n    var MIC_BLOCKED_MSG = 'Access to the microphone was blocked. Please allow it to use Alan';\n    var NO_VOICE_SUPPORT_IN_BROWSER_MSG = 'Your browser doesnâ€™t support voice input. To use voice, open Alan Tutor in a Chrome, Safari, or Firefox desktop browser window.';\n    var LOW_VOLUME_MSG = 'Low volume level';\n    var OFFLINE_MSG = 'You\\'re offline';\n    var currentErrMsg = null;\n\n\n    var NO_VOICE_SUPPORT_IN_BROWSER_CODE = 'browser-does-not-support-voice-input';\n    var MIC_BLOCKED_CODE = 'microphone-access-blocked';\n    var PREVIEW_MODE_CODE = 'preview-mode';\n    var BTN_IS_DISABLED_CODE = 'btn-is-disabled';\n    var NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE = 'no-alan-audio-instance-was-provided';\n\n    // Set default state for btn\n    var state = DISCONNECTED;\n    var previousState = null;\n    var isAlanSpeaking = false;\n    var isAlanActive = false;\n\n    // Set btn position flags\n    var isLeftAligned = false;\n    var isRightAligned = true;\n    var isTopAligned = false;\n    var isBottomAligned = false;\n\n    // Set variables for hints and stt\n    var hints = [];\n    var hintsTimerId = null;\n    var insideHintsAnimationIntervalId = null;\n    var hintsRequestIntervalId = null;\n    var hintAppearTimeoutId = null;\n    var removeTextHintTimeoutId = null;\n    var hoverShowHintTimeoutId = null;\n    var hoverHideHintTimeoutId = null;\n    var doNotShowHints = false;\n    var hintVisible = false;\n    var recognisedTextVisible = false;\n    var textHolderWidth = 480;\n    var hintHolderWidth = 480;\n    var hintCloserRightPos;\n    var isHintWasPreviously = false;\n    var defaultHintLabel = 'Click and say';\n    var listeningHintLabel = 'Say';\n    var turnOffTimeout = 30000;\n    var turnOffVoiceFn;\n\n    function setTurnOffVoiceTimeout() {\n        turnOffVoiceFn = debounce(function () {\n            if (isAlanSpeaking) {\n                // console.info('BTN: CONTINUE alanAudio', new Date());\n                turnOffVoiceFn();\n            } else {\n                // console.info('BTN: STOP alanAudio', new Date());\n                alanAudio.stop();\n            }\n        }, turnOffTimeout);\n    }\n\n    setTurnOffVoiceTimeout();\n\n    var switchToLowVolumeStateTimer = null;\n\n    // Css animations\n    var pulsatingAnimation = '';\n    var pulsatingMicAnimation = '';\n    var pulsatingTriangleMicAnimation = '';\n    if (!isPreviewMode()) {\n        pulsatingAnimation = 'alan-pulsating 2s ease-in-out infinite';\n        pulsatingMicAnimation = 'alan-mic-pulsating 1.4s ease-in-out infinite';\n        pulsatingTriangleMicAnimation = 'alan-triangle-mic-pulsating 1.2s ease-in-out infinite';\n    }\n\n    var gradientAnimation = 'alan-gradient 3s ease-in-out infinite';\n    var disconnectedLoaderAnimation = 'disconnected-loader-animation 2s linear infinite';\n\n    // Set alanAudio\n    var alanAudio = window.alanAudio;\n\n    // Define base blocks and layers\n    var rootEl = options.rootEl || document.createElement('div');\n    var body = document.getElementsByTagName('body')[0];\n    var btn = document.createElement('div');\n    var defaultStateBtnIconImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH9SURBVHgB7dvvUcIwGMfxByfADdjAEdQN3EA2YATcAJ2AEXADdALcgG4AGzwm13DQkNKWQBvK93OXF4W0Z36mf5IUEQAAAAAAAAAAgPOo6ocpS91bmfIuOM2ENHJhlVnbOoIwF1CVleCYCWas9U0kEQ+SjibXuDdJxEASYbtVg+rbwWDwKAm41QDFBJjE357SKXyTCDASAUYiwEgEGIkAIxFgJAKMRICRWgvQTRZs3IzLxef2rn38zmlxqmoT+L6Rpse/ltbGk36j/bFsKJRTqvZva6zc2TXQtHfofbSV+rYVx2pNmwFm3vbI2/6R+r4rjvUnLWkzQL9Rz972l9T3WXGsTPrGTsN794FloM5Uq00D+/kLUb28Cw8DYbwE6k1LgrOPKJNA/dBaykj6SItrvdZaAzcAzZc3bTBzVyYl9YZ6vJK3kL6yPS7QW+ZyJhvW3fS+HdPAWaDRiyYNdz1vecl/xs0oOe12p3Plxd+d2mX7t/482MnKlutt9i48CnydSf5M+Cv7xxFb78mUsSnDkn1ezeAjk3uh+Y0i1JOaWuu9vi/jTueZns/u29kwLhma98Z5g+CWpjwLirT4/Oezn01S63HJvNrhs4kdbqfyKoePKf1IBBiJACMRYCQCjESAkVIO8HDhKBM0o/tZFzsTzY9sAAAAAAAAAABAjH+9EqX09fBHaQAAAABJRU5ErkJggg==';\n    var micTriangleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjMuNzQ5Mzk5NDZlLTMxJSIgeDI9IjIuODYwODIwMDklIiB5Mj0iOTcuMTM5MTc5OSUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4wNCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi0vLUFuaW1hdGlvbi0vLWJ1dHRvbi1pbm5lci1zaGFwZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTQwLjEwMDU0MjIsOSBMNDAuMTAwNTQyMiw5IEM1MC4wNzA0NzUxLDkgNTkuMTUxNjIzNSwxNC43MzM3OTM4IDYzLjQzODA5OCwyMy43MzUyMjE0IEw3MC40MjIwMjY3LDM4LjQwMTE5NyBDNzUuMTcxMDE0NSw0OC4zNzM4ODQ0IDcwLjkzNjM2OTMsNjAuMzA4MTYwMSA2MC45NjM2ODE5LDY1LjA1NzE0NzggQzU4LjI3NzU5NDksNjYuMzM2MjYwOCA1NS4zMzk5NzQ0LDY3IDUyLjM2NDg3ODksNjcgTDI3LjgzNjIwNTQsNjcgQzE2Ljc5MDUxMDQsNjcgNy44MzYyMDU0Myw1OC4wNDU2OTUgNy44MzYyMDU0Myw0NyBDNy44MzYyMDU0Myw0NC4wMjQ5MDQ1IDguNDk5OTQ0NTksNDEuMDg3Mjg0IDkuNzc5MDU3NiwzOC40MDExOTcgTDE2Ljc2Mjk4NjQsMjMuNzM1MjIxNCBDMjEuMDQ5NDYwOCwxNC43MzM3OTM4IDMwLjEzMDYwOTIsOSA0MC4xMDA1NDIyLDkgWiIgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==\\n';\n    var micCircleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZS1zcGVha2luZyBiYWNrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMy43NDkzOTk0NmUtMzElIiB4Mj0iMi44NjA4MjAwOSUiIHkyPSI5Ny4xMzkxNzk5JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMTIiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjA0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWlubmVyLXNoYXBlLXNwZWFraW5nLWJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBjeD0iNDAiIGN5PSI0MCIgcj0iMzIiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=\\n';\n    var micIcon = document.createElement('div');\n    var defaultStateBtnIcon = document.createElement('img');\n    var logoState1 = document.createElement('img');\n    var logoState2 = document.createElement('img');\n    var logoState3 = document.createElement('img');\n    var logoState4 = document.createElement('img');\n    var logoState5 = document.createElement('img');\n    var logoState6 = document.createElement('img');\n    var logoState7 = document.createElement('img');\n    var logoState8 = document.createElement('img');\n    var logoState9 = document.createElement('img');\n    var logoState10 = document.createElement('img');\n    var micTriangleIcon = document.createElement('div');\n    var micCircleIcon = document.createElement('div');\n    var disconnectedMicLoaderIcon = document.createElement('img');\n    var lowVolumeMicIcon = document.createElement('img');\n    var noVoiceSupportMicIcon = document.createElement('img');\n    var offlineIcon = document.createElement('img');\n    var textHolder = document.createElement('div');\n    var textHolderTextWrapper = document.createElement('div');\n    var alanBtnDisabledMessage = document.createElement('div');\n    var hintHolder = document.createElement('div');\n    var hintHolderWrapper = document.createElement('div');\n    var soundOnAudioDoesNotExist = false;\n    var soundOffAudioDoesNotExist = false;\n    var soundOnAudio = new Audio(baseUrl + '/resources/sounds/soundOn.m4a');\n    soundOnAudio.onerror = function() {\n        soundOnAudioDoesNotExist = true;\n    };\n    var soundOffAudio = new Audio(baseUrl + '/resources/sounds/soundOff.m4a');\n    soundOffAudio.onerror = function() {\n        soundOffAudioDoesNotExist = true;\n    };\n\n    textHolder.addEventListener(\"click\", closeHint);\n\n    // Specify layers for different statets to make smooth animation\n    var btnBgDefault = document.createElement('div');\n    var btnBgListening = document.createElement('div');\n    var btnBgSpeaking = document.createElement('div');\n    var btnBgIntermediate = document.createElement('div');\n    var btnBgUnderstood = document.createElement('div');\n\n    // Specify layers with ovals\n    var btnOval1 = document.createElement('div');\n    var btnOval2 = document.createElement('div');\n\n    // Some variables for setting up right properties for Alan Btn\n    var btnSize;\n    var sideBtnPos;\n    var bottomBtnPos;\n    var topBtnPos;\n    var btnZIndex;\n    var btnIconsZIndex;\n    var btnTextPanelsZIndex;\n    var btnBgLayerZIndex;\n\n    // Define base properties for disable/enable button functionality\n    var isLocalStorageAvailable = false;\n\n    try {\n        localStorage.getItem('test');\n        isLocalStorageAvailable = true;\n    } catch (e) {\n        isLocalStorageAvailable = false;\n    }\n\n    //#region Listen online/offline events to manage connected/disconnected states\n    window.addEventListener('online', updateOnlineStatus);\n    window.addEventListener('offline', updateOnlineStatus);\n\n    function updateOnlineStatus() {\n        if (navigator.onLine) {\n            switchState(getDefaultBtnState());\n        } else {\n            switchState(OFFLINE);\n        }\n    }\n\n    function getDefaultBtnState(state) {\n        if (isAudioSupported()) {\n            return state || DEFAULT;\n        }\n        return NO_VOICE_SUPPORT;\n    }\n\n    //#endregion\n\n    //#region Define settings based on the btn mode\n    // For now we have two modes: small - for tutor, and big for demo\n    var btnModes = {\n        \"tutor\": {\n            btnSize: 44,\n            rightPos: 0,\n            leftPos: 0,\n            bottomPos: 0,\n            topPos: 0,\n            waveVerticalPositionRatio: 0.9,\n            waveCanvasWidth: 250,\n            waveCanvasHeight: 100,\n        },\n        \"tutor-preview\": {\n            btnSize: 64,\n            rightPos: 0,\n            leftPos: 0,\n            bottomPos: 0,\n            topPos: 0,\n            waveVerticalPositionRatio: 0.9,\n            waveCanvasWidth: 250,\n            waveCanvasHeight: 100,\n        },\n        \"demo\": {\n            btnSize: 80,\n            rightPos: 36,\n            leftPos: 36,\n            bottomPos: 36,\n            topPos: 0,\n            waveVerticalPositionRatio: 0.8,\n            waveCanvasWidth: 500,\n            waveCanvasHeight: 200,\n        },\n        \"component\": {\n            btnSize: options.size || 64,\n            rightPos: 40,\n            leftPos: 40,\n            bottomPos: 40,\n            topPos: 0,\n            waveVerticalPositionRatio: 0.8,\n            waveCanvasWidth: 500,\n            waveCanvasHeight: 200,\n        }\n    };\n\n    function isTutorMode() {\n        return mode.indexOf('tutor') > -1;\n    }\n\n    function isPreviewMode() {\n        return mode.indexOf('preview') > -1;\n    }\n\n    //#endregion\n\n    //#region Set styles for base layers\n\n    btnSize = btnModes[mode].btnSize;\n    \n    if (options.left) {\n        isLeftAligned = true;\n        isRightAligned = false;\n    }\n    if (options.top) {\n        isTopAligned = true;\n        isBottomAligned = false;\n    }\n\n    if (isLeftAligned) {\n        sideBtnPos = setDefautlPositionProps(options.left || btnModes[mode].leftPos);\n    } else {\n        sideBtnPos = setDefautlPositionProps(options.right || btnModes[mode].rightPos);\n    }\n\n    if (isTopAligned) {\n        topBtnPos = setDefautlPositionProps(options.top || btnModes[mode].topPos);\n    } else {\n        bottomBtnPos = setDefautlPositionProps(options.bottom || btnModes[mode].bottomPos);\n    }\n\n    function setDefautlPositionProps(value) {\n        if (/^\\d+$/.test(value)) {\n            return value + 'px';\n        }\n        return value;\n    }\n\n    btnZIndex = options.zIndex || 4;\n    btnIconsZIndex = btnZIndex - 2;\n    btnTextPanelsZIndex = btnZIndex - 1;\n    btnBgLayerZIndex = btnZIndex - 3;\n\n    // Define styles for root element\n    rootEl.style[isLeftAligned ? 'left' : 'right'] = sideBtnPos;\n\n    if (isTopAligned) {\n        rootEl.style.top = topBtnPos;\n    } else {\n        rootEl.style.bottom = bottomBtnPos;\n    }\n\n    rootEl.style.position = isTutorMode() ? 'absolute' : 'fixed';\n    if (options.zIndex !== undefined) {\n        rootEl.style.zIndex =  options.zIndex;\n    }\n    rootEl.style.position = isTutorMode() ? 'absolute' : 'fixed';\n\n    // Define styles for block with recognised text\n    var textHolderDefaultBorderColor = '#d5eded';\n    var textHolderDefaultBoxShadow = '0px 12px 50px -14px rgba(0,0,0,0.2), 0px 12px 50px -14px rgba(0,169,255,0.3)';\n    textHolderTextWrapper.classList.add('alanBtn-text-holder-text-wrapper');\n    textHolder.classList.add('alanBtn-text-holder');\n    setInnerPositionBasedOnOptions(textHolder, options);\n    if (isLeftAligned) {\n        textHolderTextWrapper.style.textAlign = 'left';\n        textHolder.style.left = '0px';\n    } else {\n        textHolder.style.right = '0px';\n        textHolder.style.float = 'right';\n    }\n    \n    textHolder.style.height = btnSize + 'px';\n    textHolder.style.minHeight = btnSize + 'px';\n    textHolder.style.maxHeight = btnSize + 'px';\n    textHolder.style.borderRadius = btnSize + 'px';\n    textHolder.style.borderRadius = btnSize + 'px';\n    textHolder.style.zIndex = btnTextPanelsZIndex;\n    textHolder.style.borderColor = textHolderDefaultBorderColor;\n    textHolder.style.boxShadow = textHolderDefaultBoxShadow;\n\n    // Define styles for block with hints\n    hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper');\n    if (isLeftAligned) {\n        hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper-left');\n        hintHolderWrapper.style.paddingLeft = btnSize + 32 + 'px';\n    } else {\n        hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper-right');\n        hintHolderWrapper.style.paddingRight = btnSize + 32 + 'px';\n    }\n    hintHolder.classList.add('alanBtn-hint-holder');\n    setInnerPositionBasedOnOptions(hintHolder, options);\n    hintCloserRightPos = btnSize / 2 + 32;\n    hintHolder.style.zIndex = btnTextPanelsZIndex;\n    hintHolder.style.borderTopRightRadius = btnSize + 'px';\n    hintHolder.style.borderBottomRightRadius = btnSize + 'px';\n    hintHolder.style.minHeight = btnSize + 'px';\n    hintHolder.style.borderColor = textHolderDefaultBorderColor;\n    hintHolder.style.boxShadow = textHolderDefaultBoxShadow;\n\n    // Define styles for message that informs that Alan Btn was disabled\n    setInnerPositionBasedOnOptions(alanBtnDisabledMessage, options);\n    alanBtnDisabledMessage.style.zIndex = btnTextPanelsZIndex;\n    alanBtnDisabledMessage.style.borderRadius = '7px';\n    alanBtnDisabledMessage.style.backgroundColor = '#ffffff';\n    alanBtnDisabledMessage.style.boxShadow = '0 2px 50px 0 rgba(86, 98, 112, 0.1)';\n    alanBtnDisabledMessage.style.position = 'absolute';\n    alanBtnDisabledMessage.style.color = 'red';\n    alanBtnDisabledMessage.style.width = '200px';\n    alanBtnDisabledMessage.style.fontSize = '14px';\n    alanBtnDisabledMessage.style.padding = '16px';\n    alanBtnDisabledMessage.innerText = \"This project's voice button has been disabled.\";\n    alanBtnDisabledMessage.classList.add(\"alan-btn-disabled-msg\");\n\n    function setInnerPositionBasedOnOptions(el, options) {\n        if (isTopAligned) {\n            el.style.top = 0;\n        } else {\n            el.style.bottom = 0;\n        }\n        if (isLeftAligned) {\n            el.style.left = 0;\n        } else {\n            el.style.right = 0;\n        }\n    }\n\n    function setStylesBasedOnSide() {\n        if (isLeftAligned) {\n            btn.style.left = 0;\n            btn.style.right = '';\n            textHolder.classList.remove('left-side');\n            textHolder.classList.add('right-side');\n        } else {\n            btn.style.right = 0;\n            btn.style.left = '';\n            textHolder.classList.remove('right-side');\n            textHolder.classList.add('left-side');\n        }\n    }\n\n    // Define base styles for btn\n    btn.style.width = btnSize + 'px';\n    btn.style.minWidth = btnSize + 'px';\n    btn.style.maxWidth = btnSize + 'px';\n    btn.style.minHeight = btnSize + 'px';\n    btn.style.height = btnSize + 'px';\n    btn.style.maxHeight = btnSize + 'px';\n    btn.style.color = '#fff';\n    btn.style.position = 'absolute';\n    if (isTopAligned) {\n        btn.style.top = 0;\n    } else {\n        btn.style.bottom = 0;\n    }\n    setStylesBasedOnSide();\n    btn.style.borderRadius = '50%';\n    btn.style.boxShadow = '0 8px 10px 0 rgba(0, 75, 144, 0.35)';\n    btn.style.textAlign = 'center';\n    btn.style.transition = 'all 0.4s ease-in-out';\n    btn.style.zIndex = btnZIndex;\n\n    // Specify tabIndex if it exists in options\n    if (options && options.tabIndex) {\n        btn.tabIndex = options.tabIndex;\n    }\n\n    // Specify cursor for btn\n    if (isPreviewMode()) {\n        btn.style.cursor = 'default';\n    } else {\n        btn.style.cursor = 'pointer';\n    }\n\n    // Define base styles for microphone btn\n    micIcon.style.minHeight = '100%';\n    micIcon.style.height = '100%';\n    micIcon.style.maxHeight = '100%';\n    micIcon.style.top = '0%';\n    micIcon.style.left = '0%';\n    micIcon.style.zIndex = btnIconsZIndex;\n    micIcon.style.position = 'relative';\n    micIcon.style.transition = 'all 0.4s ease-in-out';\n\n    function setUpStylesForLogoParts(logos) {\n        for (var i = 0; i < logos.length; i++) {\n            var obj = logos[i];\n            logos[i].style.minHeight = '100%';\n            logos[i].style.height = '100%';\n            logos[i].style.maxHeight = '100%';\n            logos[i].style.minWidth = '100%';\n            logos[i].style.width = '100%';\n            logos[i].style.maxWidth = '100%';\n            logos[i].style.top = '0%';\n            logos[i].style.left = '0%';\n            logos[i].style.position = 'absolute';\n            logos[i].style.pointerEvents = 'none';\n            logos[i].style.animationIterationCount = 'infinite';\n            logos[i].style.animationDuration = '9s';\n            logos[i].style.animationTimingFunction = 'ease-in-out';\n            logos[i].style.opacity = 0;\n            micIcon.appendChild(logos[i]);\n        }\n    }\n\n    logoState1.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAxPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFogTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlLTIiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState2.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LDEuODU4NDEzMzFlLTE1IDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgTDMwLjk0NDQ0NDQsMCBMMzAuODIyNzM0NywxLjgzNTczNjRlLTE1IEMzMC43OTI0NzYzLDEuODk0OTg1MzllLTE1IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgQzMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LDIuMDMyMDE2NDNlLTE1IDE3LjE3NzI2NTMsMCBMMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState3.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n    logoState4.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n    logoState5.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA1PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBMMzAuOTQ0NDQ0NCwtMS40MjEwODU0N2UtMTQgTDMwLjgyMjczNDcsLTEuMjM3NTExODNlLTE0IEMzMC43OTI0NzYzLC0xLjIzMTU4NjkzZS0xNCAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjI3MTE5MjQsMjEgTDIzLjk1NjQ1ODIsMjEgQzI0LjczMDk1NjIsMjAuOTk5ODkzOSAyNS40NDE1ODY3LDIxLjI5NTM4NDggMjUuODAxNDg0NiwyMS45ODIzNzY3IEwyOS45ODE5MDE1LDI5Ljk2MjE3NjkgQzMwLjMzODM0NCwzMC42NDI1NzMyIDMwLjA3NjY4NTIsMzEuNDgzNTk5NyAyOS4zOTc0NzAxLDMxLjg0MDY2MjEgQzI5LjE5ODM4MzgsMzEuOTQ1MzIxNSAyOC45NzY5MDkzLDMyIDI4Ljc1MjA3MzgsMzIgTDExLjIwOTMzNzgsMzIgTDEuNzA3ODY0OTUsMzIgQzAuOTQwODAyNzk2LDMyIDAuMzE4OTc2MDU5LDMxLjM3NzA5MTggMC4zMTg5NzYwNTksMzAuNjA4Njk1NyBDMC4zMTg5NzYwNTksMzAuMzg0NTk0OCAwLjM3MzAxNTYxOCwzMC4xNjM4MSAwLjQ3NjQ5NzEwNiwyOS45NjUxMjU2IEw0LjYzMDYyNzg1LDIxLjk4OTE5NDUgQzQuOTg5NjE3NzYsMjEuMjk5OTMzOSA1LjcwMTMxMTAxLDIxLjAwMDEwNjMgNi40NzczOTQ2NiwyMSBMMTguMjcxMTkyNCwyMSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState6.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA2PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBMMzAuOTQ0NDQ0NCwwIEwzMC44MjI3MzQ3LDEuODM1NzM2NGUtMTUgQzMwLjc5MjQ3NjMsMS44OTQ5ODUzOWUtMTUgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState7.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA3PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEwzMC45NDQ0NDQ0LDAgTDMwLjgyMjczNDcsMS44MzU3MzY0ZS0xNSBDMzAuNzkyNDc2MywxLjg5NDk4NTM5ZS0xNSAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEMzMC42Nzk5OTUsMS44NTg0MTMzMWUtMTUgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState8.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n    logoState9.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n    logoState10.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTEwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMTAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBMMS43MDc4NjQ5NSwzMiBDMC45NDA4MDI3OTYsMzIgMC4zMTg5NzYwNTksMzEuMzc3MDkxOCAwLjMxODk3NjA1OSwzMC42MDg2OTU3IEMwLjMxODk3NjA1OSwzMC4zODQ1OTQ4IDAuMzczMDE1NjE4LDMwLjE2MzgxIDAuNDc2NDk3MTA2LDI5Ljk2NTEyNTYgTDQuNjMwNjI3ODUsMjEuOTg5MTk0NSBDNC45ODk2MTc3NiwyMS4yOTk5MzM5IDUuNzAxMzExMDEsMjEuMDAwMTA2MyA2LjQ3NzM5NDY2LDIxIEwxOC4yMDEzODg5LDIxIEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUtMiIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBDMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LC0xLjIxNzg4MzgzZS0xNCAxNy4xNzcyNjUzLC0xLjQyMTA4NTQ3ZS0xNCBMMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n\n    setUpStylesForLogoParts([\n        logoState1,\n        logoState2,\n        logoState3,\n        logoState4,\n        logoState5,\n        logoState6,\n        logoState7,\n        logoState8,\n        logoState9,\n        logoState10,\n    ]);\n\n    // Define base styles for triangle bellow the microphone btn\n    defaultStateBtnIcon.src = defaultStateBtnIconImg;\n    defaultStateBtnIcon.style.minHeight = '100%';\n    defaultStateBtnIcon.style.height = '100%';\n    defaultStateBtnIcon.style.maxHeight = '100%';\n    defaultStateBtnIcon.style.minWidth = '100%';\n    defaultStateBtnIcon.style.width = '100%';\n    defaultStateBtnIcon.style.maxWidth = '100%';\n    defaultStateBtnIcon.style.top = '0%';\n    defaultStateBtnIcon.style.left = '0%';\n    defaultStateBtnIcon.style.position = 'absolute';\n    defaultStateBtnIcon.style.pointerEvents = 'none';\n    micIcon.appendChild(defaultStateBtnIcon);\n\n    micTriangleIcon.style.minHeight = '100%';\n    micTriangleIcon.style.height = '100%';\n    micTriangleIcon.style.maxHeight = '100%';\n    micTriangleIcon.style.minWidth = '100%';\n    micTriangleIcon.style.width = '100%';\n    micTriangleIcon.style.maxWidth = '100%';\n    micTriangleIcon.style.top = '0%';\n    micTriangleIcon.style.left = '0%';\n    micTriangleIcon.style.zIndex = btnIconsZIndex;\n    micTriangleIcon.style.position = 'absolute';\n    micTriangleIcon.style.opacity = 0;\n    micTriangleIcon.style.transition = 'all 0.4s ease-in-out';\n    micTriangleIcon.style.overflow = 'hidden';\n    micTriangleIcon.style.borderRadius = '50%';\n    micTriangleIcon.style.backgroundSize = '100% 100%';\n    micTriangleIcon.style.backgroundPosition = 'center center';\n    micTriangleIcon.style.backgroundRepeat = 'no-repeat';\n    micTriangleIcon.classList.add('triangleMicIconBg');\n    micTriangleIcon.classList.add('triangleMicIconBg-default');\n\n    micCircleIcon.style.minHeight = '100%';\n    micCircleIcon.style.height = '100%';\n    micCircleIcon.style.maxHeight = '100%';\n    micCircleIcon.style.minWidth = '100%';\n    micCircleIcon.style.width = '100%';\n    micCircleIcon.style.maxWidth = '100%';\n    micCircleIcon.style.top = '0%';\n    micCircleIcon.style.left = '0%';\n    micCircleIcon.style.zIndex = btnIconsZIndex;\n    micCircleIcon.style.position = 'absolute';\n    micCircleIcon.style.opacity = 0;\n    micCircleIcon.style.transition = 'all 0.4s ease-in-out';\n    micCircleIcon.style.overflow = 'hidden';\n    micCircleIcon.style.borderRadius = '50%';\n    micCircleIcon.style.backgroundSize = '0% 0%';\n    micCircleIcon.style.backgroundPosition = 'center center';\n    micCircleIcon.style.backgroundRepeat = 'no-repeat';\n    micCircleIcon.classList.add('circleMicIconBg');\n\n    // Define base styles for loader mic icon in disconnected state\n    disconnectedMicLoaderIcon.style.minHeight = '100%';\n    disconnectedMicLoaderIcon.style.height = '100%';\n    disconnectedMicLoaderIcon.style.maxHeight = '100%';\n    disconnectedMicLoaderIcon.style.top = '0%';\n    disconnectedMicLoaderIcon.style.left = '0%';\n    disconnectedMicLoaderIcon.style.zIndex = btnIconsZIndex;\n    disconnectedMicLoaderIcon.style.position = 'absolute';\n    disconnectedMicLoaderIcon.style.transition = 'all 0.4s ease-in-out';\n    disconnectedMicLoaderIcon.style.opacity = '0';\n    disconnectedMicLoaderIcon.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiB2aWV3Qm94PSIwIDAgMTkyIDE5MiI+CiAgICA8ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTk2IDBjNTMuMDIgMCA5NiA0Mi45OCA5NiA5NnMtNDIuOTggOTYtOTYgOTZTMCAxNDkuMDIgMCA5NiA0Mi45OCAwIDk2IDB6IiBvcGFjaXR5PSIuMDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTMxLjk2NiAxOS4wOTJjLTMwLTE0LTY1LjI4NC05Ljg0OS05MS4xNDIgMTIuNTc1QzE0Ljk2NiA1NC4wOTIgNi44NSA4My44MSAxMi45MDggMTEzLjk1YzYuMDU4IDMwLjE0MiAzMC4zMDIgNTYuMTkgNjAuMDU4IDY0LjE0MiAzNS4xODMgOS40MDYgNzMtNCA5My0zNC0xNy45MjQgMjMuOTE2LTUyLjM2NiAzOC4yOTMtODMgMzMtMzAuMTY4LTUuMjEtNTcuMTA0LTMxLjExLTY0LTYxLTcuMzQ3LTMxLjgzNS43NzktNTYgMjctODBzODAtMjYgMTA5IDljNS41MzYgNi42ODEgMTMgMTkgMTUgMzQgMSA2IDEgNyAyIDEyIDAgMiAyIDQgNCA0IDMgMCA1LjM3NC0yLjI1NiA1LTYtMy0zMC0yMS41NTYtNTcuMTkzLTQ5LTcweiIgb3BhY2l0eT0iLjQiLz4KICAgIDwvZz4KPC9zdmc+Cg==\";\n    disconnectedMicLoaderIcon.style.animation = disconnectedLoaderAnimation;\n\n    // Define base styles for mic icon in low valume state\n    lowVolumeMicIcon.style.minHeight = '100%';\n    lowVolumeMicIcon.style.height = '100%';\n    lowVolumeMicIcon.style.maxHeight = '100%';\n    lowVolumeMicIcon.style.top = '0%';\n    lowVolumeMicIcon.style.left = '0%';\n    lowVolumeMicIcon.style.zIndex = btnIconsZIndex;\n    lowVolumeMicIcon.style.position = 'absolute';\n    lowVolumeMicIcon.style.transition = 'all 0.4s ease-in-out';\n    lowVolumeMicIcon.style.opacity = '0';\n    lowVolumeMicIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1taWM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQWxhbi1CdXR0b24tLy1BbmltYXRpb24tLy1idXR0b24tbm8tbWljIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNMzIsMTguNDczNjg0MiBDMzIsMjUuNzE5NDczNyAyNi43OCwzMS42OTI2MzE2IDIwLDMyLjY5ODQyMTEgTDIwLDQwIEMyMCw0MS4xMDQ1Njk1IDE5LjEwNDU2OTUsNDIgMTgsNDIgQzE2Ljg5NTQzMDUsNDIgMTYsNDEuMTA0NTY5NSAxNiw0MCBMMTYsMzIuNjk4NDIxMSBDOS4yMiwzMS42OTI2MzE2IDQsMjUuNzE5NDczNyA0LDE4LjQ3MzY4NDIgTDQsMTggQzQsMTYuODk1NDMwNSA0Ljg5NTQzMDUsMTYgNiwxNiBDNy4xMDQ1Njk1LDE2IDgsMTYuODk1NDMwNSA4LDE4IEw4LDE4LjQ3MzY4NDIgQzgsMjQuMTQxODY5OCAxMi40NzcxNTI1LDI4LjczNjg0MjEgMTgsMjguNzM2ODQyMSBDMjMuNTIyODQ3NSwyOC43MzY4NDIxIDI4LDI0LjE0MTg2OTggMjgsMTguNDczNjg0MiBMMjgsMTggQzI4LDE2Ljg5NTQzMDUgMjguODk1NDMwNSwxNiAzMCwxNiBDMzEuMTA0NTY5NSwxNiAzMiwxNi44OTU0MzA1IDMyLDE4IEwzMiwxOC40NzM2ODQyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LC00LjUyNzM3MjYzZS0xNCBDMjEuMzEzNzA4NSwtNC42MTg1Mjc3OGUtMTQgMjQsMi43NTY5ODMzOCAyNCw2LjE1Nzg5NDc0IEwyNCwxOC40NzM2ODQyIEMyNCwyMS44NzQ1OTU2IDIxLjMxMzcwODUsMjQuNjMxNTc4OSAxOCwyNC42MzE1Nzg5IEMxNC42ODYyOTE1LDI0LjYzMTU3ODkgMTIsMjEuODc0NTk1NiAxMiwxOC40NzM2ODQyIEwxMiw2LjE1Nzg5NDc0IEMxMiwyLjc1Njk4MzM4IDE0LjY4NjI5MTUsLTQuNTI3MzcyNjNlLTE0IDE4LC00LjYxODUyNzc4ZS0xNCBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC42Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjgxLDMuMjcgTDM0LjczLDM0LjE5IEMzNS40MzE0MDE2LDM0Ljg5MTQwMTYgMzUuNDMxNDAxNiwzNi4wMjg1OTg0IDM0LjczLDM2LjczIEMzNC4wMjg1OTg0LDM3LjQzMTQwMTYgMzIuODkxNDAxNiwzNy40MzE0MDE2IDMyLjE5LDM2LjczIEwxLjI3LDUuODEgQzAuNTY4NTk4MzY4LDUuMTA4NTk4MzcgMC41Njg1OTgzNjgsMy45NzE0MDE2MyAxLjI3LDMuMjcgQzEuOTcxNDAxNjMsMi41Njg1OTgzNyAzLjEwODU5ODM3LDIuNTY4NTk4MzcgMy44MSwzLjI3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n\n    // Define base styles for noVoiceSupport icon in low valume state\n    noVoiceSupportMicIcon.style.minHeight = '100%';\n    noVoiceSupportMicIcon.style.height = '100%';\n    noVoiceSupportMicIcon.style.maxHeight = '100%';\n    noVoiceSupportMicIcon.style.top = '0%';\n    noVoiceSupportMicIcon.style.left = '0%';\n    noVoiceSupportMicIcon.style.zIndex = btnIconsZIndex;\n    noVoiceSupportMicIcon.style.position = 'absolute';\n    noVoiceSupportMicIcon.style.transition = 'all 0.4s ease-in-out';\n    noVoiceSupportMicIcon.style.opacity = '0';\n    noVoiceSupportMicIcon.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIuSURBVHgB7dvxUYMwFAbwpxMwAhvoBtVJygZ1A92gI1Qn6AjoBO0GsEG7wfPlgCtNA7xASzX5fnf5oyThLp+BQDiJAAAAAAAAAAAAAAAAxmHmDyk5n+ykLAn6SUhpHVaXwrQhcBsIr5FTLGSwb1IOmpkj9RnrxXE5+1x+fH7Pwyw0+PKSLLpCrGeq1oFiwNWiUGhCZE8UC22I7IliogmRPVFshkJkTxSjvhDZE8WqJ0QEqNURIgL0MTVEgmkhElTGhkix4WqzoNlYWFp1k1fhvvMHgc9n2cFRPzXAou/8t/JAM7EH/SD66ocM9bfrb+WR7kTGm1iHjqR3HDjXbOYMsLR+p9bvPentr3iuSeYM0B7Uwvr9RXqfA+cqKTRyma2sdSB3tMlZJ7X62Ru3Qa7CiSOIF6uN9pmw4NMuTjYUcDAcM8wEkTjaZdasytm9AfHsOL6lUJkZx5c2yr7a2ZlSyGSAa8egt5qBK0JU/TH+Na7uha4QzLHBm7+0ee8Iz/Sf/XlwtjeRtnq2mVU4dVSXUr6l/NDpccS0e5KSSekKybR9lReQkmLAV9hU7ZiFKcWCq8t5zeOtWfndOWhczcYN6+VSFq2+RfQhGnUYWUeY5ph5m0k6+iHENjs9RXuE2OYbYN3HFeKOYjQmwLrfRYgUo7EB1n2bEM03khXd0F0epDXs0Obaovd1ty39UCDAif5ygO0PRyWBH64eqJuFAP9kAwAAAAAAAAAAAAAAU/wC52820szaQtwAAAAASUVORK5CYII=\";\n    \n    // Define base st`yles for ovals\n    var ovalCoefficient = 2;\n    var defaultBtnColorOptions = {\n        \"idle\": {\n            \"background\": {\n                \"color\": [\n                    'rgb(34, 203, 255)',\n                    'rgb(25, 149, 255)'\n                ]\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgba(0, 70, 255, 0.95)',\n                    'rgba(0, 156,  255, 0.95)'\n                ]\n            }\n        },\n        \"listen\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(0, 70, 255, 0.95)',\n                    'rgba(0, 156,  255, 0.95)'\n                ]\n            },\n            \"hover\": {\n                \"color\": ['rgba(0, 70, 255, 0.95)',\n                    'rgb(0, 70, 255)']\n            },\n        },\n        \"process\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(0, 255, 205, 0.95)',\n                    'rgba(0, 115, 255, 0.95)'\n                ]\n\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgb(0, 115, 255)',\n                    'rgba(0, 115, 255, 0.95)'\n                ]\n            }\n        },\n\n        \"reply\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(122, 40, 255, 0.95)',\n                    'rgba(61, 122, 255, 0.95)'\n                ]\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgba(122, 40, 255, 0.95)',\n                    'rgb(122, 40, 255)'\n                ]\n            },\n        }\n    };\n    btnOval1.style.minHeight = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.height = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.maxHeight = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.minWidth = btnSize + 'px';\n    btnOval1.style.width = btnSize + 'px';\n    btnOval1.style.maxWidth = btnSize + 'px';\n    btnOval1.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n    btnOval1.style.left = 0;\n    btnOval1.style.zIndex = btnBgLayerZIndex;\n    btnOval1.style.position = 'absolute';\n    btnOval1.style.transition = 'all 0.4s ease-in-out';\n    btnOval1.style.opacity = '.5';\n    btnOval1.style.borderRadius = '100px';\n    btnOval1.style.transform = 'rotate(-315deg)';\n    btnOval1.style.filter = 'blur(' + btnSize / 10 + 'px)';\n    btnOval1.classList.add('alanBtn-oval-bg-default');\n\n\n    btnOval2.style.minHeight = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.height = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.maxHeight = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.minWidth = btnSize + 'px';\n    btnOval2.style.width = btnSize + 'px';\n    btnOval2.style.maxWidth = btnSize + 'px';\n    btnOval2.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n    btnOval2.style.left = 0;\n    btnOval2.style.zIndex = btnBgLayerZIndex;\n    btnOval2.style.position = 'absolute';\n    btnOval2.style.transition = 'all 0.4s ease-in-out';\n    btnOval2.style.opacity = '.5';\n    btnOval2.style.borderRadius = '100px';\n    btnOval2.style.transform = 'rotate(-45deg)';\n    btnOval2.style.filter = 'blur(' + btnSize / 10 + 'px)';\n    btnOval2.classList.add('alanBtn-oval-bg-default');\n\n    // Define base styles for mic icon in offline state\n    offlineIcon.style.minHeight = '100%';\n    offlineIcon.style.height = '100%';\n    offlineIcon.style.maxHeight = '100%';\n    offlineIcon.style.top = '0%';\n    offlineIcon.style.left = '0%';\n    offlineIcon.style.zIndex = btnIconsZIndex;\n    offlineIcon.style.position = 'absolute';\n    offlineIcon.style.transition = 'all 0.4s ease-in-out';\n    offlineIcon.style.opacity = '0';\n    offlineIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1uZXR3b3JrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLW5vLW5ldHdvcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS4wMDAwMDAsIDIyLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzMsMiBDMzQuNjU2ODU0MiwyIDM2LDMuMzQzMTQ1NzUgMzYsNSBMMzYsMjkgQzM2LDMwLjY1Njg1NDIgMzQuNjU2ODU0MiwzMiAzMywzMiBDMzEuMzQzMTQ1OCwzMiAzMCwzMC42NTY4NTQyIDMwLDI5IEwzMCw1IEMzMCwzLjM0MzE0NTc1IDMxLjM0MzE0NTgsMiAzMywyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjQiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTIzLDggQzI0LjY1Njg1NDIsOCAyNiw5LjM0MzE0NTc1IDI2LDExIEwyNiwyOSBDMjYsMzAuNjU2ODU0MiAyNC42NTY4NTQyLDMyIDIzLDMyIEMyMS4zNDMxNDU4LDMyIDIwLDMwLjY1Njg1NDIgMjAsMjkgTDIwLDExIEMyMCw5LjM0MzE0NTc1IDIxLjM0MzE0NTgsOCAyMyw4IFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTEzLDE2IEMxNC42NTY4NTQyLDE2IDE2LDE3LjM0MzE0NTggMTYsMTkgTDE2LDI5IEMxNiwzMC42NTY4NTQyIDE0LjY1Njg1NDIsMzIgMTMsMzIgQzExLjM0MzE0NTgsMzIgMTAsMzAuNjU2ODU0MiAxMCwyOSBMMTAsMTkgQzEwLDE3LjM0MzE0NTggMTEuMzQzMTQ1OCwxNiAxMywxNiBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDIyIEM0LjY1Njg1NDI1LDIyIDYsMjMuMzQzMTQ1OCA2LDI1IEw2LDI5IEM2LDMwLjY1Njg1NDIgNC42NTY4NTQyNSwzMiAzLDMyIEMxLjM0MzE0NTc1LDMyIDIuMDI5MDYxMjVlLTE2LDMwLjY1Njg1NDIgMCwyOSBMMCwyNSBDLTIuMDI5MDYxMjVlLTE2LDIzLjM0MzE0NTggMS4zNDMxNDU3NSwyMiAzLDIyIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44MSwxLjI3IEwzNi43MywzMi4xOSBDMzcuNDMxNDAxNiwzMi44OTE0MDE2IDM3LjQzMTQwMTYsMzQuMDI4NTk4NCAzNi43MywzNC43MyBDMzYuMDI4NTk4NCwzNS40MzE0MDE2IDM0Ljg5MTQwMTYsMzUuNDMxNDAxNiAzNC4xOSwzNC43MyBMMy4yNywzLjgxIEMyLjU2ODU5ODM3LDMuMTA4NTk4MzcgMi41Njg1OTgzNywxLjk3MTQwMTYzIDMuMjcsMS4yNyBDMy45NzE0MDE2MywwLjU2ODU5ODM2OCA1LjEwODU5ODM3LDAuNTY4NTk4MzY4IDUuODEsMS4yNyBaIiBpZD0iUGF0aCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n\n    btnBgDefault.classList.add('alanBtn-bg-default');\n    btnBgListening.classList.add('alanBtn-bg-listening');\n    btnBgSpeaking.classList.add('alanBtn-bg-speaking');\n    btnBgIntermediate.classList.add('alanBtn-bg-intermediate');\n    btnBgUnderstood.classList.add('alanBtn-bg-understood');\n\n    applyBgStyles(btnBgDefault);\n    applyBgStyles(btnBgListening);\n    applyBgStyles(btnBgSpeaking);\n    applyBgStyles(btnBgIntermediate);\n    applyBgStyles(btnBgUnderstood);\n\n    var onOpacity = 1;\n    var offOpacity = 0;\n\n\n    btnBgDefault.style.opacity = onOpacity;\n\n    var allIcons = [\n        micCircleIcon,\n        micTriangleIcon,\n        micIcon,\n        offlineIcon,\n        lowVolumeMicIcon,\n        noVoiceSupportMicIcon,\n        logoState1,\n        logoState2,\n        logoState3,\n        logoState4,\n        logoState5,\n        logoState6,\n        logoState7,\n        logoState8,\n        logoState9,\n        logoState10,\n    ];\n\n    for (var i = 0; i < allIcons.length; i++) {\n        allIcons[i].setAttribute('draggable', 'false');\n    }\n\n    hideLayers([\n        btnBgListening,\n        btnBgSpeaking,\n        btnBgIntermediate,\n        btnBgUnderstood,\n    ]);\n\n    btn.appendChild(btnOval1);\n    btn.appendChild(btnOval2);\n    btn.appendChild(btnBgDefault);\n    btn.appendChild(btnBgListening);\n    btn.appendChild(btnBgSpeaking);\n    btn.appendChild(btnBgIntermediate);\n    btn.appendChild(btnBgUnderstood);\n    btn.appendChild(micIcon);\n    btn.appendChild(micTriangleIcon);\n    btn.appendChild(micCircleIcon);\n    btn.appendChild(disconnectedMicLoaderIcon);\n    btn.appendChild(lowVolumeMicIcon);\n    btn.appendChild(noVoiceSupportMicIcon);\n    btn.appendChild(offlineIcon);\n    btn.classList.add(\"alanBtn\");\n\n    if(isMobile()){\n        rootEl.classList.add(\"mobile\");\n    }\n\n    //#endregion\n\n    //#region Add needed styles to the page\n    createAlanStyleSheet();\n\n    function getStyleSheetMarker(andFlag) {\n        return '.alan-' + getProjectId() + (andFlag ? '' : ' ');\n    }\n\n    function createAlanStyleSheet(btnOptions) {\n        var style;\n        var keyFrames = '';\n        var projectId = getProjectId();\n\n        var existingStyleSheet;\n\n        if (options.shadowDOM) {\n            existingStyleSheet = options.shadowDOM.getElementById('alan-stylesheet-' + projectId);\n        } else {\n            existingStyleSheet = document.getElementById('alan-stylesheet-' + projectId);\n        }\n\n        if (existingStyleSheet) {\n            existingStyleSheet.disabled = true;\n            existingStyleSheet.parentNode.removeChild(existingStyleSheet);\n        }\n\n        style = document.createElement('style');\n        style.setAttribute('id', 'alan-stylesheet-' + projectId);\n        style.type = 'text/css';\n\n        keyFrames += '.alanBtn-root * {  box-sizing: border-box; font-family: \\'Lato\\', sans-serif; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;}';\n\n        if (!isMobile()) {\n            keyFrames += getStyleSheetMarker() + '.alanBtn{transform: scale(1);transition:all 0.4s ease-in-out;} .alanBtn:hover{transform: scale(1.11111);transition:all 0.4s ease-in-out;}.alanBtn:focus {transform: scale(1);transition:all 0.4s ease-in-out;  border: solid 3px #50e3c2;  outline: none;  }';\n        }\n        \n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder { position:relative; max-width:440px; font-family: \\'Lato\\', sans-serif; font-size: 20px;line-height: 1.2;     min-height: 40px;  color: #000; font-weight: normal; background-color: rgba(245, 252, 252, 0.8);border-radius:32px 0 0 32px; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: activate;-ms-flex-pack: start;justify-content: start;}';\n        \n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder {max-width: calc(100% - ' + sideBtnPos + ');}';\n\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.left-side { padding-right: ' + btnSize + 'px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.right-side { padding-left: ' + btnSize + 'px;}';\n        \n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.left-side .alanBtn-text-holder-text-wrapper {padding: 0 12px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.right-side .alanBtn-text-holder-text-wrapper {padding: 0 12px;}';\n        \n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder {position:relative;font-style: italic; overflow:hidden;font-family: \\'Lato\\', sans-serif;   width: 0px;  min-width: 0px;   min-height: 40px;  color: #000; position: absolute; font-weight: normal;  background-color: rgba(245, 252, 252, 0.8); display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: center;-ms-flex-pack: center;justify-content: center;border-radius:32px 0 0 32px;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close {position: absolute;top: 1px;right: ' + (hintCloserRightPos - 10) + 'px;color: #0079e8;font-size: 13px;font-style: normal;font-weight: 500;line-height: 1.54;opacity: 0;transition: opacity 300ms ease-in-out;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close:hover {color: #ff8800;cursor:pointer;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close:active {color: #ff6426;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder:hover .alanBtn-hint-holder-close {opacity: 1;transition: opacity 300ms ease-in-out;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper {width: 100%;height:100%; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;justify-content: start;text-align:left;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list {padding-top:2px;font-size: 18px;line-height: 1.22; margin-top:0px;font-style:italic;margin-bottom:0px;display:inline-block;vertical-align:middle;width:220px;max-width:220px;min-width:220px;text-align:left;animation: alan-text-fade-in .4s ease-in-out forwards; }';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list.hints-long {font-size: 16px;line-height: 1.38;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list.hints-super-long {font-size: 14px;line-height: 1.36;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list div {margin-bottom:6px; }';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-header {white-space:nowrap;font-size: 14px;font-weight: 400;font-style: italic;font-stretch: normal;line-height: 1.36;letter-spacing: normal;color: rgba(0, 0, 0, 0.6);display:inline-block;vertical-align:middle;padding-right:12px;padding-left:12px;min-width:112px;text-align:center;animation: alan-text-fade-in .4s ease-in-out forwards;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-long  { font-size: 19px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-super-long  { font-size: 14px!important;line-height: 1.4!important;}  ';\n\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder-long  { font-size: 12px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder-super-long  { font-size: 11px!important;line-height: 1.4!important;}  ';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-appearing {  animation: text-holder-appear 800ms ease-in-out forwards;  }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing {  animation: text-holder-disappear 800ms ease-in-out forwards;    }';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-appearing {  animation: hint-holder-appear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-disappearing {  animation: hint-holder-disappear 800ms ease-in-out forwards;    }';\n\n        keyFrames += getStyleSheetMarker() + '.alan-btn-disabled {  pointer-events: none;  opacity: .5;  transition: all .2s ease-in-out;  }';\n        keyFrames += getStyleSheetMarker() + '.shadow-appear {  opacity: 1 !important;  }\\n';\n        keyFrames += getStyleSheetMarker() + '.shadow-disappear {  opacity: 0 !important;  transition: all .1s linear !important;  }';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n\n        keyFrames += getStyleSheetMarker() + \".alan-btn-disabled-msg:after {content: '';  position: absolute;  bottom: 2px;  right: 0px;  height: 30px;  width: 90px;  background-size: 100% auto;  background-repeat: no-repeat;  background-position: center center;}\";\n\n        keyFrames += getStyleSheetMarker() + '.triangleMicIconBg {background-image:url(' + micTriangleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + '.circleMicIconBg {background-image:url(' + micCircleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ' img {pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ':hover .triangleMicIconBg-default {opacity:0!important;}';\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-gradient', '0%{backgroundPosition: 0 0;}50%{backgroundPosition: -100% 0;}100%{backgroundPosition: 0 0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-pulsating', '0%{transform: scale(1.11111);}50%{transform: scale(1.0);}100%{transform: scale(1.11111);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-mic-pulsating', '0%{transform: scale(0.91);}50%{transform: scale(1.0);}100%{transform: scale(0.91);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-triangle-mic-pulsating', '0%{transform: scale(0.94);}50%{transform: scale(1.0);}100%{transform: scale(0.94);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-in', '0%{opacity: 0;}100%{opacity:1;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-out', '0%{opacity: 1;}100%{opacity:0;}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-appear',\n            '0%{' +\n            'opacity:0; ' +\n            'color:transparent; ' +\n            'background-color:rgba(245, 252, 252, 0.0);' +\n            'border: solid 1px transparent; ' +\n            '}' +\n            '100%{' +\n            'opacity:1; ' +\n            'color:#000;' +\n            'background-color:rgba(245, 252, 252, 0.8);' +\n            '}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-disappear',\n            '0%{' +\n            'opacity:1; ' +\n            'color:#000;' +\n            'background-color:rgba(245, 252, 252, 0.8);  ' +\n            '}' +\n            '100%{' +\n            'opacity:0; ' +\n            'color:transparent;' +\n            'background-color:rgba(245, 252, 252, 0.0);' +\n            'border: solid 1px transparent;' +\n            '}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('hint-holder-appear', '0%{ width: 0px;min-width: 0px;max-width: 0px;border: solid 1px transparent;}100%{border: solid 1px #d5e2ed;width: ' + hintHolderWidth + 'px;min-width: ' + hintHolderWidth + 'px;max-width: ' + hintHolderWidth + 'px;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('hint-holder-disappear', '0%{border: solid 1px #d5e2ed; width: ' + hintHolderWidth + 'px;min-width: ' + hintHolderWidth + 'px;max-width: ' + hintHolderWidth + 'px;}100%{width: 0px;min-width: 0px;max-width: 0px;border: solid 1px transparent;}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-1-animation',\n            '0% {  opacity: 1;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 1;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-2-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 1;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-3-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 1;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-4-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 1;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-5-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 1;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-6-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 1;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-7-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 1;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-8-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 1;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-9-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 1;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-10-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 1;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('disconnected-loader-animation', '0%{  transform: rotate(0deg);  } 100%{  transform: rotate(360deg);  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval1-animation', '0%{  transform: rotate(-315deg);  } 50%{  transform: rotate(-495deg);  } 100%{  transform: rotate(-315deg);  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval2-animation', '0%{  transform: rotate(-45deg);  } 50%{  transform: rotate(-215deg);  } 100%{  transform: rotate(-45deg);  }');\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-text-fade-in', '0%{  opacity: 0;  } 100%{   opacity: 1;  }');\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-bg-default.super-hidden{opacity:0!important;display:none;}';\n\n        var predefinedBtnColorOptions = defaultBtnColorOptions;\n\n        if (btnOptions) {\n            if (btnOptions.btnLayerOptions) { //old settings\n                predefinedBtnColorOptions = defaultBtnColorOptions;\n            } else {\n                predefinedBtnColorOptions = btnOptions || defaultBtnColorOptions;\n            }\n        }\n\n        var btnBackgroundOptionKeys = Object.keys(predefinedBtnColorOptions);\n        var tempLayer;\n        var stateName;\n        var stateMapping = {\n            idle: ['default'],\n            listen: ['listening'],\n            process: ['intermediate', 'understood'],\n            reply: ['speaking'],\n        };\n        var stateNameClasses,stateNameClass;\n        var states = Object.keys(stateMapping);\n        for (i = 0; i < states.length; i++) {\n            stateName = states[i];\n            stateNameClasses = stateMapping[stateName];\n            tempLayer = predefinedBtnColorOptions[stateName];\n            for(var j = 0; j < stateNameClasses.length; j++){\n                stateNameClass = stateNameClasses[j];\n            if(tempLayer.background){\n                keyFrames += getStyleSheetMarker() + '.alanBtn-bg-' + stateNameClass + ' {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.background.color[0]+','+tempLayer.background.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn-oval-bg-' + stateNameClass + ' {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.background.color[0]+','+tempLayer.background.color[1]+');';\n                keyFrames += '}';\n            }\n\n            if(tempLayer.hover && !isMobile()){\n                keyFrames += getStyleSheetMarker() + `.alanBtn:hover .alanBtn-bg-` + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n\n                keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n            }\n        }\n\n            \n        }\n\n        style.innerHTML = keyFrames;\n\n        if (options.shadowDOM) {\n            options.shadowDOM.prepend(style);\n        } else {\n            document.getElementsByTagName('head')[0].appendChild(style);\n        }\n    }\n\n    function generateKeyFrame(name, rule) {\n        var prefixes = ['@-webkit-keyframes', '@keyframes'];\n        var r = '';\n        for (var i = 0; i < prefixes.length; i++) {\n            r += prefixes[i] + ' ' + name + '{' + rule + '} ';\n        }\n        return r;\n    }\n\n    //#endregion\n\n    //#region Connect to the project and add listeners\n    if (options) {\n        if (options.alanAudio) {\n            alanAudio = options.alanAudio;\n        }\n        if (options.key) {\n            tryReadSettingsFromLocalStorage();\n            switchState(getDefaultBtnState(DISCONNECTED));\n\n            window.tutorProject = alan.project(options.key, getAuthData(options.authData), options.host, null, { platform: (mode === 'demo' ? 'alanplayground' : null) });\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n\n            // console.info('BTN: tutorProject', options.key);\n        } else {\n            switchState(getDefaultBtnState());\n        }\n    }\n\n    function guid() {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                       .toString(16)\n                       .substring(1);\n        }\n    \n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    }\n\n    function getAuthData(data) {\n        var authData = data || {};\n        var curUuid, uuidKey;\n\n        if (isLocalStorageAvailable && authData) {\n            uuidKey = 'alan-btn-uuid-' + getProjectId();\n            curUuid = localStorage.getItem(uuidKey);\n            if (curUuid) {\n                authData.uuid = curUuid;\n            } else {\n                authData.uuid = guid();\n                localStorage.setItem(uuidKey, authData.uuid);\n            }\n        } else {\n            authData.uuid = guid();\n        }\n\n        return authData;\n    }\n\n    function getProjectId() {\n        var key;\n        if (options.key) {\n            key = options.key;\n            return key.substr(0, key.indexOf('/'));\n        }\n\n        return mode;\n    }\n\n    function debounce(func, wait) {\n        var timeout;\n        var delay = wait || 100;\n        return function (args) {\n            clearTimeout(timeout);\n            timeout = setTimeout(function () {\n                func.apply(this, args);\n            }, delay);\n        };\n    }\n\n    function _activateAlanButton(resolve) {\n        playSoundOn();\n        if (options.onBeforeMicStart) {\n            options.onBeforeMicStart();\n        }\n        alanAudio.on('micStart', onMicStart);\n        alanAudio.on('micStop', onMicStop);\n        alanAudio.on('micFail', onMicFail);\n        alanAudio.on('playStart', onPlayStart);\n        alanAudio.on('playStop', onPlayStop);\n        alanAudio.on('command', onCommandCbInMicBtn);\n        alanAudio.start(resolve);\n        if (options.onMicStarted) {\n            options.onMicStarted();\n        }\n    }\n\n    function activateAlanButton() {\n        var activatePromise = new Promise(function (resolve, reject) {\n            \n            if (btnDisabled) {\n                reject({err: BTN_IS_DISABLED_CODE});\n                return;\n            }\n\n            if (isPreviewMode()) {\n                reject({err: PREVIEW_MODE_CODE});\n                return;\n            }\n\n            function waitForConnectionForActivateCall(res) {\n                if (res === 'authorized') {\n                    window.tutorProject.off('connectStatus', waitForConnectionForActivateCall);\n                    _activateAlanButton(resolve);\n                }\n            }\n\n            if (alanAudio) {\n                switch (state) {\n                    case DEFAULT:\n                        try {\n                            _activateAlanButton(resolve);\n                        } catch (e) {\n                            currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n                            reject({ err: NO_VOICE_SUPPORT_IN_BROWSER_CODE });\n                        }\n                        break;\n                    case DISCONNECTED:\n                    case OFFLINE:\n                        window.tutorProject.on('connectStatus', waitForConnectionForActivateCall);\n                        break;\n                    case PERMISSION_DENIED:\n                        reject({ err: MIC_BLOCKED_CODE });\n                        break;\n\n                    case LISTENING:\n                    case SPEAKING:\n                    case INTERMEDIATE:\n                    case UNDERSTOOD:\n                        resolve();\n                        break;\n                    default:\n                }\n            } else {\n                reject({ err: NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE });\n            }\n        });\n\n        return activatePromise;\n    }\n\n    btn.addEventListener('click', function (e) {\n        if (afterMouseMove) return;\n        if (!dndBackAnimFinished) return;\n        if (currentErrMsg) {\n            alert(currentErrMsg);\n            return;\n        }\n        if (alanAudio) {\n            if (state === 'default') {\n                activateAlanButton();\n            } else {\n                alanAudio.stop();\n            }\n        } else {\n            throw new Error('No alan audio instance was provided');\n        }\n        //remove focus state from the btn after click\n        this.blur();\n    });\n\n    function showRecognisedText(e, text, forceOnMobile) {\n        // console.info('showRecognisedText');\n        var recognisedText = '';\n\n        if (isMobile() && forceOnMobile !== true) {\n            return;\n        }\n\n        if (hideS2TPanel) {\n            return;\n        }\n\n        recognisedTextVisible = true;\n        if (!options.hideRecognizedText) {\n            if (textHolder.classList.value.indexOf('alanBtn-text-appearing') === -1) {\n                textHolder.classList.add('with-text');\n                textHolder.classList.add('alanBtn-text-appearing');\n                textHolder.classList.remove('alanBtn-text-disappearing');\n            }\n\n            if (text) {\n                recognisedText = text;\n                textHolderTextWrapper.innerHTML = text;\n            } else {\n                recognisedText = e.text;\n                if (recognisedText.length > 200) {\n                    recognisedText = recognisedText.substr(0, 200);\n                }\n                textHolderTextWrapper.innerHTML = recognisedText;\n            }\n\n            if (recognisedText.length > 60 && recognisedText.length <= 80) {\n                textHolder.classList.add('alanBtn-text-holder-long');\n            } else if (recognisedText.length > 80) {\n                textHolder.classList.add('alanBtn-text-holder-super-long');\n            } else {\n                textHolder.classList.remove('alanBtn-text-holder-long');\n                textHolder.classList.remove('alanBtn-text-holder-super-long');\n            }\n            if (text) {\n                textHolder.appendChild(textHolderTextWrapper);\n                isHintWasPreviously = true;\n            } else {\n                if (isHintWasPreviously) {\n                    isHintWasPreviously = false;\n                    textHolder.appendChild(textHolderTextWrapper);\n                } else {\n                    replaceRecognisedText(recognisedText);\n                }\n            }\n        }\n    }\n\n    function replaceRecognisedText(recognisedText) {\n        if (isMobile()) {\n            return;\n        }\n        if (!options.hideRecognizedText) {\n            textHolderTextWrapper.innerText = recognisedText;\n        }\n    }\n\n    function hideRecognisedText(delay, forceOnMobile) {\n        // console.info('hideRecognisedText');\n        if (isMobile() && forceOnMobile !==true ) {\n            return;\n        }\n\n        if (!options.hideRecognizedText && recognisedTextVisible) {\n            textHolder.classList.add('alanBtn-text-disappearing');\n            textHolder.classList.remove('alanBtn-text-appearing');\n\n            recognisedTextVisible = false;\n\n            setTimeout(function () {\n                textHolderTextWrapper.innerHTML = '';\n                textHolder.classList.remove('alanBtn-text-holder-long');\n                textHolder.classList.remove('alanBtn-text-holder-super-long');\n                textHolder.classList.remove('with-text');\n            }, delay || 810);\n        }\n    }\n\n    function showHints() {\n        var hintId;\n\n        if (isMobile()) {\n            return;\n        }\n\n        if ((hints && hints.length === 0) || doNotShowHints) {\n            return;\n        }\n\n        clearTimeout(removeTextHintTimeoutId);\n        clearTimeout(hoverHideHintTimeoutId);\n\n        clearInterval(insideHintsAnimationIntervalId);\n        clearInterval(hintsRequestIntervalId);\n\n        insideHintsAnimationIntervalId = setInterval(function () {\n            var hintList = document.getElementById('hintList');\n            if (hintList) {\n                hintList.outerHTML = getHintList();\n            }\n        }, 6000);\n\n        hintsRequestIntervalId = setInterval(function () {\n            requestHints();\n        }, 4000);\n\n        // console.info('showHints');\n\n        hintId = document.getElementById('hint-id');\n\n        if (hintId && hintId.className.indexOf(DEFAULT) > -1) {\n            hintId.outerHTML = getHintHeader(listeningHintLabel);\n        } else {\n            showRecognisedText(null, getHintsHtml());\n        }\n    }\n\n    function hideHints() {\n        if (isMobile()) {\n            return;\n        }\n\n        if (hints.length === 0) {\n            return;\n        }\n\n        hideRecognisedText();\n    }\n\n    function closeHint(event) {\n        var clickedEl = event.target;\n\n        if (clickedEl.classList.value.indexOf('alanBtn-hint-holder-close') > -1) {\n            doNotShowHints = true;\n            hideHints();\n        }\n    }\n\n    function shuffle(array) {\n        var currentIndex = array.length,\n            temporaryValue, randomIndex;\n\n        while (0 !== currentIndex) {\n\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n\n            temporaryValue = array[currentIndex];\n            array[currentIndex] = array[randomIndex];\n            array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n    }\n\n    function getHintHeader(label) {\n        return '<div id=\"hint-id\" class=\"alanBtn-hint-header ' + state + '\">' + label + '</div>';\n    }\n\n    function getHintList() {\n        var hintsHtml = '';\n        var hintItems = '';\n        var hintsLength = 0;\n        var shuffledHints = shuffle(hints);\n        var hintsClass = 'alanBtn-hint-list';\n\n        for (var i = 0; i < 2; i++) {\n            if (shuffledHints[i]) {\n                hintsLength += hints[i].length;\n                hintItems += '<div>' + hints[i] + '</div>';\n            }\n        }\n\n        if (hintsLength > 70 && hintsLength <= 100) {\n            hintsClass += ' hints-long';\n        }\n        if (hintsLength > 100) {\n            hintsClass += ' hints-super-long';\n        }\n\n        hintsHtml = '<div id=\"hintList\" class=\"' + hintsClass + '\">';\n        hintsHtml += hintItems;\n        hintsHtml += '</div>';\n        return hintsHtml;\n    }\n\n    function getHintsHtml() {\n        var hintsHtml = '';\n        var shuffledHints = [];\n        var hintClass = '';\n        var label;\n\n        if (state === DEFAULT) {\n            label = defaultHintLabel;\n        } else {\n            label = listeningHintLabel;\n        }\n\n        hintsHtml += '<div class=\"alanBtn-hint-holder-wrapper\">';\n        hintsHtml += getHintHeader(label);\n        hintsHtml += getHintList();\n        hintsHtml += '</div>';\n\n        return hintsHtml;\n    }\n\n    function onOptionsReceived(data) {\n        if (data && data.web && data.web.hidden === true) {\n            hideAlanBtn();\n        } else {\n            showAlanBtn();\n        }\n\n        if (data && data.web && data.web.hideS2TPanel === true) {\n            hideSpeach2TextPanel();\n        } else {\n            showSpeach2TextPanel();\n        }\n\n        if (data && data.web && data.web.timeout ) {\n            turnOffTimeout = data.web.timeout;\n            setTurnOffVoiceTimeout();\n        }\n\n        if (data && data.web && data.web.btnOptions) {\n            console.info('OPTIONS',data.web.btnOptions);\n            applyBtnOptions(data.web.btnOptions);\n        }\n\n        if (isLocalStorageAvailable && data) {\n            localStorage.setItem(getStorageKey(), JSON.stringify(data));\n        }\n    }\n\n    function onConnectStatusChange(res) {\n        console.info('BTN: connectStatus', res);\n\n        if (options.onConnectionStatus) {\n            options.onConnectionStatus(res);\n        }\n\n        if (res === 'disconnected') {\n            switchState(getDefaultBtnState(DISCONNECTED));\n        } else if (res === 'authorized') {\n            if (previousState) {\n                switchState(previousState);\n            } else {\n                switchState(getDefaultBtnState());\n            }\n            requestHints();\n        }\n    }\n\n    function requestHints() {\n        if (window.tutorProject) {\n            window.tutorProject.call('visualHints', {}, function (err, res) {\n                if (res) {\n                    setUpHints(res);\n                }\n            });\n        }\n    }\n\n    function onMicStart() {\n        // console.log('BTN: mic. started', new Date());\n        switchState(LISTENING);\n        isAlanActive = true;\n\n        if (window.tutorProject) {\n            window.tutorProject.on('text', onTextCbInMicBtn);\n            window.tutorProject.on('parsed', onParsedCbInMicBtn);\n            window.tutorProject.on('recognized', onRecognizedCbInMicBtn);\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n        }\n    }\n\n    function onMicStop() {\n        // console.log('BTN: mic. stopped');\n        playSoundOff();\n        isAlanSpeaking = false;\n\n        alanAudio.off('micStart', onMicStart);\n        alanAudio.off('micStop', onMicStop);\n        alanAudio.off('micFail', onMicFail);\n        alanAudio.off('playStart', onPlayStart);\n        alanAudio.off('playStop', onPlayStop);\n        alanAudio.off('command', onCommandCbInMicBtn);\n        hideRecognisedText();\n\n        switchState(DEFAULT);\n\n        isAlanActive = false;\n\n        if (window.tutorProject) {\n            window.tutorProject.off('text', onTextCbInMicBtn);\n            window.tutorProject.off('parsed', onParsedCbInMicBtn);\n            window.tutorProject.off('recognized', onRecognizedCbInMicBtn);\n            window.tutorProject.off('connectStatus', onConnectStatusChange);\n            window.tutorProject.off('options', onOptionsReceived);\n        }\n\n        if (options.onMicStopped) {\n            options.onMicStopped();\n        }\n    }\n\n    function onMicFail() {\n        // console.log('BTN: mic. failed');\n        onMicStop();\n        alert(MIC_BLOCKED_MSG);\n        switchState(PERMISSION_DENIED);\n    }\n\n    function onPlayStart(e) {\n        // console.log('BTN: play start');\n        isAlanSpeaking = true;\n        switchState(SPEAKING);\n        turnOffVoiceFn();\n    }\n\n    function onPlayStop(e) {\n        // console.log('BTN: play stop');\n        isAlanSpeaking = false;\n        switchState(LISTENING);\n        turnOffVoiceFn();\n    }\n\n    function onTextCbInMicBtn(e) {\n        // console.info('BTN: onTextCb', e, new Date());\n        turnOffVoiceFn();\n    }\n\n    function onParsedCbInMicBtn(e) {\n        // console.info('BTN: onParsedCb', e, new Date());\n        turnOffVoiceFn();\n        showRecognisedText(e);\n    }\n\n    function onRecognizedCbInMicBtn(e) {\n        // console.info('BTN: onRecognizedTextCb', e, new Date());\n        if (options.onReceiveRecognisedText) {\n            options.onReceiveRecognisedText(e);\n        }\n\n        if (e.final === true) {\n            switchState(UNDERSTOOD);\n        } else {\n            switchState(INTERMEDIATE);\n        }\n\n        showRecognisedText(e);\n        turnOffVoiceFn();\n    }\n\n    function onCommandCbInMicBtn(e) {\n        // console.info('BTN: onCommandCbInMicBtn', e, new Date());\n        if (options.onCommand) {\n            options.onCommand(e.data);\n        }\n        switchState(LISTENING);\n        turnOffVoiceFn();\n    }\n\n    function playSoundOn() {\n        if (!soundOnAudioDoesNotExist) {\n            soundOnAudio.play().catch(() => {\n                console.log(\"No activation sound, because the user didn't interact with the button\");\n            });\n        }\n    }\n\n    function playSoundOff() {\n        if (!soundOffAudioDoesNotExist) {\n            soundOffAudio.play().catch(() => {\n                console.log(\"No deactivation sound, because the user didn't interact with the button\");\n            });\n        }\n    }\n\n    window.switchState = switchState;\n\n    function switchState(newState) {\n\n        // console.info('BTN: state', newState);\n\n        var tempLogoParts = [],\n            i = 0;\n\n        if (newState !== DISCONNECTED) {\n            previousState = newState;\n        }\n\n        if (newState === LISTENING) {\n            hintAppearTimeoutId = setTimeout(function () {\n                showHints();\n            }, 300);\n        }\n\n        currentErrMsg = null;\n\n        if (newState === DEFAULT) {\n            btn.style.animation = '';\n            micIcon.style.animation = '';\n            micTriangleIcon.style.animation = '';\n\n            btnBgDefault.classList.remove('super-hidden');\n            btnBgDefault.style.opacity = onOpacity;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n            changeBgColors(DEFAULT);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 0;\n\n            hideLayers([\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === LISTENING) {\n            btn.style.animation = pulsatingAnimation;\n            micIcon.style.animation = pulsatingMicAnimation;\n            micTriangleIcon.style.animation = pulsatingTriangleMicAnimation;\n\n            btnBgListening.classList.remove('super-hidden');\n            btnBgListening.style.opacity = onOpacity;\n\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n\n            changeBgColors(LISTENING);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgSpeaking,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === SPEAKING) {\n            hideRecognisedText();\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgSpeaking.classList.remove('super-hidden');\n            btnBgSpeaking.style.opacity = onOpacity;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(SPEAKING);\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === INTERMEDIATE) {\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgIntermediate.classList.remove('super-hidden');\n            btnBgIntermediate.style.opacity = onOpacity;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(INTERMEDIATE);\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgUnderstood,\n\n            ]);\n        } else if (newState === UNDERSTOOD) {\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgUnderstood.classList.remove('super-hidden');\n            btnBgUnderstood.style.opacity = onOpacity;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(UNDERSTOOD);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgIntermediate,\n\n            ]);\n        }\n\n        if (newState === SPEAKING) {\n            micTriangleIcon.style.opacity = 0;\n            micCircleIcon.style.opacity = 1;\n            micTriangleIcon.style.backgroundSize = '0% 0%';\n            micCircleIcon.style.backgroundSize = '100% 100%';\n        } else  {\n            micCircleIcon.style.opacity = 0;\n            micCircleIcon.style.backgroundSize = '0% 0%';\n            micTriangleIcon.style.backgroundSize = '100% 100%';\n        }\n\n        if (newState === DEFAULT) {\n            micTriangleIcon.classList.add('triangleMicIconBg-default');\n        } else {\n            micTriangleIcon.classList.remove('triangleMicIconBg-default');\n        }\n\n        tempLogoParts = [\n            logoState1,\n            logoState2,\n            logoState3,\n            logoState4,\n            logoState5,\n            logoState6,\n            logoState7,\n            logoState8,\n            logoState9,\n            logoState10\n        ];\n\n        if (newState === LISTENING ||\n            newState === INTERMEDIATE ||\n            newState === SPEAKING ||\n            newState === UNDERSTOOD) {\n\n            if (logoState1.style.animationName === '') {\n                for (i = 0; i < tempLogoParts.length; i++) {\n                    if (i === 0) {\n                        tempLogoParts[i].style.opacity = 1;\n                    } else {\n                        tempLogoParts[i].style.opacity = 0;\n                    }\n                    tempLogoParts[i].style.animationName = 'logo-state-' + (i + 1) + '-animation';\n                }\n            }\n            defaultStateBtnIcon.style.opacity = 0;\n        } else {\n            defaultStateBtnIcon.style.opacity = 1;\n            for (i = 0; i < tempLogoParts.length; i++) {\n                tempLogoParts[i].style.opacity = 0;\n                tempLogoParts[i].style.animationName = '';\n            }\n        }\n\n        if (newState === LOW_VOLUME || newState === PERMISSION_DENIED || newState === NO_VOICE_SUPPORT) {\n            if (newState === LOW_VOLUME) {\n                rootEl.classList.add(\"alan-btn-low-volume\");\n                currentErrMsg = LOW_VOLUME_MSG;\n            } else if (newState === PERMISSION_DENIED) {\n                rootEl.classList.add(\"alan-btn-permission-denied\");\n                currentErrMsg = MIC_BLOCKED_MSG;\n            } else if (newState === NO_VOICE_SUPPORT) {\n                rootEl.classList.add(\"alan-btn-no-voice-support\");\n                currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n            }\n\n            if (newState === NO_VOICE_SUPPORT) {\n                noVoiceSupportMicIcon.style.opacity = 1;\n                lowVolumeMicIcon.style.opacity = 0;\n            } else {\n                noVoiceSupportMicIcon.style.opacity = 0;\n                lowVolumeMicIcon.style.opacity = 1;\n            }\n            micIcon.style.opacity = 0;\n            micTriangleIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 0;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n        } else if (newState === DISCONNECTED || newState === OFFLINE ) {\n            if (newState === DISCONNECTED) {\n                rootEl.classList.add(\"alan-btn-disconnected\");\n            }\n            if (newState === OFFLINE) {\n                rootEl.classList.add(\"alan-btn-offline\");\n                currentErrMsg = OFFLINE_MSG;\n            }\n            micTriangleIcon.style.opacity = 0;\n            lowVolumeMicIcon.style.opacity = 0;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n\n            if (newState === DISCONNECTED) {\n                micIcon.style.opacity = .4;\n                disconnectedMicLoaderIcon.style.opacity = 1;\n            } else {\n                micIcon.style.opacity = 0;\n                disconnectedMicLoaderIcon.style.opacity = 0;\n                offlineIcon.style.opacity = 1;\n            }\n        } else {\n            lowVolumeMicIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            rootEl.classList.remove(\"alan-btn-low-volume\");\n            rootEl.classList.remove(\"alan-btn-permission-denied\");\n            rootEl.classList.remove(\"alan-btn-disconnected\");\n            rootEl.classList.remove(\"alan-btn-offline\");\n            rootEl.classList.remove(\"alan-btn-no-voice-support\");\n        }\n\n        state = newState;\n    }\n\n    //#endregion\n\n    //#region Helpers\n    function applyBgStyles(el, backgroundImage) {\n        el.style.transition = 'all 0.4s linear';\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.borderRadius = '50%';\n        el.style.zIndex = btnBgLayerZIndex;\n        el.style.backgroundPosition = '0 0';\n        el.style.opacity = 0;\n        el.style.opacity = 0;\n        el.style.transition = 'opacity 300ms ease-in-out';\n        el.style.animation = gradientAnimation;\n    }\n\n    function hideLayers(layers) {\n        for (var i = 0; i < layers.length; i++) {\n            layers[i].style.opacity = offOpacity;\n            layers[i].classList.add('super-hidden');\n        }\n    }\n\n    function changeBgColors(state) {\n        var tempBgLayers = [btnOval1, btnOval2];\n        var newStateName = state || DEFAULT;\n        var tempBgLayerClasses = [\n            'alanBtn-oval-bg-' + DEFAULT,\n            'alanBtn-oval-bg-' + LISTENING,\n            'alanBtn-oval-bg-' + INTERMEDIATE,\n            'alanBtn-oval-bg-' + UNDERSTOOD,\n            'alanBtn-oval-bg-' + SPEAKING,\n        ];\n\n        for (var i = 0; i < tempBgLayers.length; i++) {\n            for (var j = 0; j < tempBgLayerClasses.length; j++) {\n                tempBgLayers[i].classList.remove(tempBgLayerClasses[j]);\n            }\n            tempBgLayers[i].classList.add('alanBtn-oval-bg-' + newStateName);\n        }\n    }\n\n    function getStorageKey() {\n        var key = '';\n        if (options && options.key) {\n            key = options.key;\n        }\n        return 'alan-btn-options-' + key;\n    }\n\n    function isMobile() {\n        if (/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n            return true;\n        }\n        return false;\n    }\n\n    function isAudioSupported() {\n        var available = false,\n            fakeGetUserMedia,\n            fakeContext,\n            isAllowed = false;\n\n        if (window.location.protocol === 'https:') {\n            isAllowed = true;\n        }\n\n        if (window.location.protocol === 'file:') {\n            isAllowed = true;\n        }\n\n        if (window.location.protocol === 'http:' && window.location.hostname === 'localhost') {\n            isAllowed = true;\n        }\n\n        if (!isAllowed) {\n            return false;\n        }\n\n        fakeGetUserMedia = (navigator.getUserMedia ||\n            navigator.webkitGetUserMedia ||\n            navigator.mozGetUserMedia ||\n            navigator.msGetUserMedia);\n\n        fakeContext = window.AudioContext ||\n            window.webkitAudioContext ||\n            window.mozAudioContext;\n\n        if (fakeGetUserMedia && fakeContext) {\n            available = true;\n        }\n\n        return available;\n    }\n\n    //#endregion\n\n    //#region Append layers to the rootEl\n    function showAlanBtn() {\n        rootEl.innerHTML = '';\n\n        textHolder.appendChild(textHolderTextWrapper);\n\n        if (!isTutorMode()) {\n            hintHolder.appendChild(hintHolderWrapper);\n            rootEl.appendChild(hintHolder);\n        }\n\n        rootEl.appendChild(textHolder);\n        rootEl.appendChild(btn);\n        btnDisabled = false;\n    }\n\n    function hideAlanBtn() {\n        if (!isTutorMode()) {\n            alanAudio.stop();\n            rootEl.innerHTML = '';\n            if (mode === 'demo') {\n                rootEl.appendChild(alanBtnDisabledMessage);\n            }\n            btnDisabled = true;\n        }\n    }\n\n    function showSpeach2TextPanel() {\n        hideS2TPanel = false;\n    }\n\n    function hideSpeach2TextPanel() {\n        hideS2TPanel = true;\n        hideRecognisedText();\n    }\n\n    function setUpHints(newHints) {\n        hints = newHints;\n    }\n\n    function applyBtnOptions(btnOptions) {\n        if (btnOptions) {\n            createAlanStyleSheet(btnOptions);\n        }\n    }\n\n    rootEl.classList.add(\"alanBtn-root\");\n    rootEl.classList.add(\"alan-\" + getProjectId());\n\n    var alanBtnSavedOptions = null;\n\n    if (isTutorMode()) {\n        showAlanBtn();\n    } else {\n        if (isLocalStorageAvailable) {\n            try {\n                tryReadSettingsFromLocalStorage();\n            } catch (e) {\n                showAlanBtn();\n            }\n        } else {\n            showAlanBtn();\n        }\n    }\n\n    function tryReadSettingsFromLocalStorage() {\n        if (isLocalStorageAvailable) {\n            try {\n                alanBtnSavedOptions = JSON.parse(localStorage.getItem(getStorageKey()));\n\n                if (alanBtnSavedOptions && alanBtnSavedOptions.web) {\n\n                    if (alanBtnSavedOptions.web.btnOptions) {\n                        applyBtnOptions(alanBtnSavedOptions.web.btnOptions);\n                    }\n\n                    if (alanBtnSavedOptions.web.hidden !== true) {\n                        showAlanBtn();\n                    } else {\n                        hideAlanBtn();\n                    }\n\n                }\n            } catch (e) {\n\n            }\n        }\n    }\n\n    if (!options.rootEl) {\n        body.appendChild(rootEl);\n    }\n    // showRecognisedText({})\n\n    //#endregion\n\n    //#region Drag-n-drop btn logic\n    var dndInitialMousePositions = [0, 0];\n    var dndIsDown = false;\n    var afterMouseMove = false;\n    var dndSideBtnPos = null;\n    var dndTopPos;\n    var dndBottomPos;\n    var dndFinalLeftPos;\n    var dndFinalRightPos;\n    var dndAnimDelay = 300;\n    var dndAnimTransition = dndAnimDelay + 'ms';\n    var dndBackAnimFinished = true;\n\n    if (!pinned) {\n        rootEl.addEventListener('mousedown', onMouseDown, true);\n        rootEl.addEventListener('touchstart', onMouseDown, { passive: false });\n\n        document.addEventListener('mouseup', onMouseUp, true);\n        document.addEventListener('touchend', onMouseUp, { passive: false });\n\n        document.addEventListener('mousemove', onMouseMove, true);\n        document.addEventListener('touchmove', onMouseMove, { passive: false });\n    }\n\n    function onMouseDown(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n        if (!dndBackAnimFinished) return;\n        dndIsDown = true;\n        rootEl.style.transition = '0ms';\n        if (!dndSideBtnPos) {\n            dndSideBtnPos = isLeftAligned ? rootEl.offsetLeft : window.innerWidth - rootEl.offsetLeft;\n        }\n\n        dndInitialMousePositions = [\n            posInfo.clientX,\n            posInfo.clientY\n        ];\n        if (isTopAligned) {\n            dndTopPos = +rootEl.style.top.replace('px', '');\n        } else {\n            dndBottomPos = +rootEl.style.bottom.replace('px', '');\n        }\n    }\n\n    function onMouseUp(e) {\n        var curPos;\n        if (dndIsDown) {\n            dndIsDown = false;\n            rootEl.style.transition = dndAnimTransition;\n            if (isLeftAligned) {\n                curPos = +rootEl.style.left.replace('px', '');\n            } else {\n                curPos = +rootEl.style.right.replace('px', '');\n            }\n            if (curPos <= window.innerWidth / 2) {\n                moveBtnToTheSameSide();\n            } else {\n                moveBtnToTheOppositeSide();\n            }\n\n            setTimeout(function () {\n                afterMouseMove = false;\n            }, 300);\n        }\n    }\n\n    function onMouseMove(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n\n        if (dndIsDown) {\n            e.preventDefault();\n            afterMouseMove = true;\n\n            if (isLeftAligned) {\n                dndFinalLeftPos = (dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0]);\n                dndFinalRightPos = window.innerWidth - dndFinalLeftPos;\n                rootEl.style.left = (dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0]) + 'px';\n            } else {\n                dndFinalRightPos = (dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0]);\n                dndFinalLeftPos = window.innerWidth - dndFinalRightPos;\n                rootEl.style.right = (dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0]) + 'px';\n            }\n\n            if (isTopAligned) {\n                rootEl.style.top = correctYPos(dndTopPos + posInfo.clientY - dndInitialMousePositions[1]) + 'px';\n            } else {\n                rootEl.style.bottom = correctYPos(dndBottomPos - posInfo.clientY + dndInitialMousePositions[1]) + 'px';\n            }\n        }\n    }\n\n    function correctYPos(yPos) {\n        var defDelta = 10;\n        if (yPos < 0) {\n            return defDelta;\n        } else if (yPos > window.innerHeight - btnSize - defDelta) {\n            return window.innerHeight - btnSize - defDelta;\n        }\n        return yPos;\n    }\n\n    function changeBtnSide(side) {\n        if (side === 'to-left') {\n            rootEl.style.right = '';\n            isLeftAligned = true;\n            isRightAligned = false;\n        } else {\n            rootEl.style.left = '';\n            isLeftAligned = false;\n            isRightAligned = true;\n        }\n        setStylesBasedOnSide();\n    }\n\n    function moveBtnToTheSameSide() {\n        rootEl.style.transition = dndAnimTransition;\n        rootEl.style[isLeftAligned ? 'left' : 'right'] = dndSideBtnPos + 'px';\n    }\n\n    function moveBtnToTheOppositeSide() {\n        var finalBtnPos = (window.innerWidth - dndSideBtnPos - btnSize) + 'px';\n        dndBackAnimFinished = false;\n        if (isLeftAligned) {\n            rootEl.style.left = finalBtnPos;\n            setTimeout(function () {\n                rootEl.style.right = dndSideBtnPos + 'px';\n                changeBtnSide('to-right');\n                dndBackAnimFinished = true;\n            }, dndAnimDelay);\n        } else {\n            rootEl.style.right = finalBtnPos;\n            setTimeout(function () {\n                rootEl.style.left = dndSideBtnPos + 'px';\n                changeBtnSide('to-left');\n                dndBackAnimFinished = true;\n            }, dndAnimDelay);\n        }\n    }\n\n    //#endregion\n\n    return btnInstance;\n}\nns.alanBtn = alanBtn;\n\n})(window);\nreturn alanBtn;\n}));\n"]},"metadata":{},"sourceType":"script"}